[
  {
    "objectID": "tema00-presentacion/presentacion.html",
    "href": "tema00-presentacion/presentacion.html",
    "title": "Tema 0: Presentación",
    "section": "",
    "text": "Todo el material mínimo y opcional de la asignatura está disponible en la plataforma Moodle de la UCO:\n\nhttp://moodle.uco.es/m2223\nCurso: Programación y Administración de Sistemas ( GIINF-2-101390-1-1)\n\n\n\n\n\nCordinación y teoría: Javier Sánchez Monedero\n\n\nPrácticas:\n\nPrácticas 1-3: María Isabel Jiménez Velasco\nPráctica 4: José Manuel Cuevas\n\n\nHorarios de tutoría y datos de contacto en Moodle.\n\n\n\nEl uso de los móviles en la educación puede tener tanto efectos positivos como negativos.\n\n\n\n\n\n\nEfectos positivos:\n\n\n\n\nFacilita el acceso a la información y recursos educativos en línea.\nMejora la colaboración y el trabajo en equipo a través de aplicaciones y herramientas en línea\nFomenta la independencia y el aprendizaje autónomo.\nAumenta la motivación y el interés por el aprendizaje.\n\n\n\n\n\n\n\n\n\n\n\n\nEfectos negativos:\n\n\n\n\nDistracción y pérdida de concentración en la clase.\nUso inadecuado y poco ético, como la trampa en exámenes o el acceso a contenido no apropiado.\nAdicción a los dispositivos y dependencia en la tecnología.\nDesigualdades socioeconómicas, ya que no todos los estudiantes tienen acceso a dispositivos de alta calidad o a una conexión a Internet confiable."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#actividad-en-clase",
    "href": "tema00-presentacion/presentacion.html#actividad-en-clase",
    "title": "Tema 0: Presentación",
    "section": "Actividad en clase",
    "text": "Actividad en clase\nEn buscadores genéricos o de empleo busca “administrador/a de sistemas”, “devops”, “sysadmin”\nEjemplos:\n\nhttps://www.linkedin.com/jobs/search/?currentJobId=3196679153&keywords=sysadmin\nhttps://www.infojobs.net/ofertas-trabajo/administrador-a-de-sistemas-informaticos"
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#administradora-de-sistemas",
    "href": "tema00-presentacion/presentacion.html#administradora-de-sistemas",
    "title": "Tema 0: Presentación",
    "section": "Administrador/a de sistemas",
    "text": "Administrador/a de sistemas\n\n\nSegún Wikipedia:\n\nUn Administrador/a de Sistemas es la persona que tiene la responsabilidad de implementar, configurar, mantener, monitorizar, documentar y asegurar el correcto funcionamiento de un sistema informático, o algún aspecto de éste."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#memes",
    "href": "tema00-presentacion/presentacion.html#memes",
    "title": "Tema 0: Presentación",
    "section": "Memes",
    "text": "Memes\n\nFuente: we are hiring."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#tareas",
    "href": "tema00-presentacion/presentacion.html#tareas",
    "title": "Tema 0: Presentación",
    "section": "Tareas",
    "text": "Tareas\n\n\nMantener el Sistema Informático de una empresa/institución.\nA nivel software:\n\nInstalar servicios utilizados por la empresa.\nInterconectar servicios (mismo login y contraseña para todo).\nMantener servicios (p.ej. Moodle, servidor de correo…).\nRealizar copias de respaldo de los datos.\nControlar la seguridad.\n\n¿A nivel hardware?"
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#software-libre",
    "href": "tema00-presentacion/presentacion.html#software-libre",
    "title": "Tema 0: Presentación",
    "section": "Software libre",
    "text": "Software libre\nAunque en el escritorio el software privativo sea líder el software libre y los sistemas Linux, FreeBSD, etc. son la opción mayoritaria servidores y supercomputadores.\n\nFuente: Usage share of operating systems en Wikipedia."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#por-qué-software-libre",
    "href": "tema00-presentacion/presentacion.html#por-qué-software-libre",
    "title": "Tema 0: Presentación",
    "section": "¿Por qué software libre?",
    "text": "¿Por qué software libre?\n\n\n\nEntorno empresarial y de investigación cooperativo.\nAdopción de estándares.\nFlexibilidad, fiabilidad, seguridad, transparencia.\nIndependencia de proveedores.\nÉtica y compromiso social.\nMás económico (¿?)"
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#objetivo",
    "href": "tema00-presentacion/presentacion.html#objetivo",
    "title": "Tema 0: Presentación",
    "section": "Objetivo",
    "text": "Objetivo\n\nEl objetivo fundamental es que el alumnado que curse la asignatura adquiera los conocimientos básicos y domine las técnicas fundamentales de la Administración de Sistemas Operativos."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#objetivos-concretos",
    "href": "tema00-presentacion/presentacion.html#objetivos-concretos",
    "title": "Tema 0: Presentación",
    "section": "Objetivos concretos",
    "text": "Objetivos concretos\n\n\n\nConocer los comandos básicos y las secuencias de pasos necesarias para instalar y administrar sistemas.\nConocer y manejar los ficheros de configuración de los sistemas.\nAdquirir conocimientos básicos sobre lenguajes de scripting y de programación de la Shell.\nComprender cómo se organiza el sistema operativo y los subsistemas POSIX para poder escribir aplicaciones que interaccionen con los mismos.\nInstalar y mantener servicios en Sistemas Distribuidos.\nAdquirir conceptos teóricos y prácticos de rendimiento y seguridad en sistemas."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#temario",
    "href": "tema00-presentacion/presentacion.html#temario",
    "title": "Tema 0: Presentación",
    "section": "Temario",
    "text": "Temario\n\nIntroducción a la administración de sistemas.\nOrganización de un sistema operativo GNU/Linux.\nArranque y parada del sistema.\nGestión de usuarios.\nGestión de los recursos del sistema.\nOrganización de sistemas de ficheros y discos.\nAdministración de sistemas de ficheros y discos.\nInstalación de impresoras.\nRestauración y copias de seguridad.\nGestión de las comunicaciones."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#temario-prácticas",
    "href": "tema00-presentacion/presentacion.html#temario-prácticas",
    "title": "Tema 0: Presentación",
    "section": "Temario prácticas",
    "text": "Temario prácticas\n\nBloque I:\n\nProgramación de la shell.\nExpresiones regulares para la programación de la shell.\n\n\n\nBloque II:\n\nProgramación en POSIX.\nAdministración de servidores web: Apache."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#planificación-asignatura",
    "href": "tema00-presentacion/presentacion.html#planificación-asignatura",
    "title": "Tema 0: Presentación",
    "section": "Planificación asignatura",
    "text": "Planificación asignatura\nCalendario aproximado teoría\nCalendario aproximado prácticas\nComentarios taller Ansible: martes 1 ó martes 8 de mayo."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#bibliografía-1",
    "href": "tema00-presentacion/presentacion.html#bibliografía-1",
    "title": "Tema 0: Presentación",
    "section": "Bibliografía",
    "text": "Bibliografía\nBásica para seguir la asignatura:\n\nUNIX and Linux System Administration Handbook, 5th Edition. Evi Nemeth, Garth Snyder, Trent R. Hein, Ben Whaley and Dan Mackin. Addison-Wesley. 2018.\nEssential System Administration (3a ed.). Aeleen Frisch. O’Reilly & Associates. 2002.\nEl Arte del Terminal, Joshua Levy, 2023.\n\nAdicional:\n\nAdministración de sistemas Linux. Adelstein, Tom. Lubanovic, Bill. Anaya multimedia, O Reilly. 2007.\nUnix shell programming, 3a Edición. Kochan, Wood. Sams Publishing. 2003.\nLPI Linux Certification in a Nutshell, Third Edition. Adam Haeder, Stephen Addison Schneiter, Bruno Gomes Pessanha, and James Stanger. 2010.\nK. A. Robbind, S. Robbins. Unix Systems Programming. Prentice Hall, 2003"
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#evaluación-1",
    "href": "tema00-presentacion/presentacion.html#evaluación-1",
    "title": "Tema 0: Presentación",
    "section": "Evaluación",
    "text": "Evaluación\n\nLeer detenidamente la guı́a docente.\nLa evaluación de la asignatura se divide en dos partes, parte teórica y parte práctica (Teorı́a 50 % + Práctica 50 %).\nPara aprobar la asignatura es necesario obtener al menos 5 sobre 10 puntos en la parte de prácticas y 5 sobre 10 puntos en la parte de teorı́a. En caso contrario, la asignatura se considera suspensa.\nSi se aprueba solo la teorı́a o solo la práctica, la nota correspondiente se guarda hasta la convocatoria de septiembre."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#evaluación-exámenes-y-pruebas",
    "href": "tema00-presentacion/presentacion.html#evaluación-exámenes-y-pruebas",
    "title": "Tema 0: Presentación",
    "section": "Evaluación: exámenes y pruebas",
    "text": "Evaluación: exámenes y pruebas\nLa parte de teorı́a (50 % de la nota) se evaluará con un examen final teórico que estará compuesto de:\n\nPruebas objetivas tipo test (20 %, mı́nimo 5 sobre 10).\nPruebas de respuesta corta con supuestos prácticos que versen sobre los contenido teóricos dados en clase (30 %, mı́nimo 5 sobre 10).\n\nLa parte de prácticas (50 % de la nota) se organiza en dos bloques. Consta de:\n\nExamen práctico de programación y administración de sistemas 50 %, mı́nimo 5 sobre 10). Existen dos posibilidades:\n\nExámenes prácticos parciales realizados durante el curso (eliminan materia de cara al examen final).\nExamen práctico final realizado durante el periodo de exámenes."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#evaluación-exámenes-y-pruebas-1",
    "href": "tema00-presentacion/presentacion.html#evaluación-exámenes-y-pruebas-1",
    "title": "Tema 0: Presentación",
    "section": "Evaluación: exámenes y pruebas",
    "text": "Evaluación: exámenes y pruebas\n\nPara aprobar las prácticas es necesario aprobar cada Bloque por separado con 5 sobre 10 puntos.\nPara presentarse a las prácticas en la convocatoria de junio es necesario haber asistido a un 80 % de las sesiones de prácticas.\nPara la convocatoria de julio y de septiembre, la asistencia a las prácticas no es requisito.\nLas calificaciones parciales no se guardan de un curso a otro.\nSe guardan calificaciones parciales (bloques de prácticas o teorı́a) dentro de las convocatorias del mismo curso académico.\nLos alumnos a tiempo parcial deben ponerse en contacto con el profesor."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#tareas-de-administración-i",
    "href": "tema00-presentacion/presentacion.html#tareas-de-administración-i",
    "title": "Tema 0: Presentación",
    "section": "Tareas de administración (I)",
    "text": "Tareas de administración (I)\n\nResolución de ejercicios teóricos y/o prácticos propuestos y anunciados.\nLas alumnas/os podrán proponer tareas similareas a las propuestas.\nEsta nota se guardará para todas las convocatorias del curso académico. Las tareas pueden llegar a valorarse hasta 2 puntos en el examen de teorı́a (sobre 5 puntos). Se tendrá en cuenta para aumentar nota, nunca para aprobar, a aquellos alumnos que participen"
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#tareas-de-administración-ii",
    "href": "tema00-presentacion/presentacion.html#tareas-de-administración-ii",
    "title": "Tema 0: Presentación",
    "section": "Tareas de administración (II)",
    "text": "Tareas de administración (II)\n\nSe deberá redactar un guión donde se detalle paso a paso los comandos y operaciones necesarios para llevar a cabo la tarea, acompañados de capturas cuando ası́ se requiera. El documento deberá ser autocontenido y explicativo y todo se deberá realizar sobre una imagen virtual de un sistema operativo GNU/Linux. Se presentará en clase durante un tiempo aproximado de 10-15 minutos."
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#devops-1",
    "href": "tema00-presentacion/presentacion.html#devops-1",
    "title": "Tema 0: Presentación",
    "section": "DevOps",
    "text": "DevOps\nroadmap.sh/devops"
  },
  {
    "objectID": "tema00-presentacion/presentacion.html#dinamización-de-clases",
    "href": "tema00-presentacion/presentacion.html#dinamización-de-clases",
    "title": "Tema 0: Presentación",
    "section": "Dinamización de clases",
    "text": "Dinamización de clases\n\nIdeal: aula de prácticas para ir probando lo que hacemos…\nQuizz: 1 por tema (cada 2 clases)\nTareas administración\nResolución de casos prácticos\nMemes\n…"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Programación y Administración de Sistemas",
    "section": "",
    "text": "Bienvenid[o|a|e] a la web de la asignatura “Programación y Administración de Sistemas (curso 2022-2023)”. Estos apuntes son una actualización de los apuntes del profesor Pedro A. Gutiérrez de cursos anteriores.\nAquí encontrarás progresivamente el material de teoría de la asignatura en formato HTML navegando por el menú de la izquierda. El resto del material lo tienes disponible en la plataforma moodle de la UCO.\nAl final de cada tema hay una sección sobre el proyecto de la asignatura de construcción de un sistema informático con GNU/Linux."
  },
  {
    "objectID": "index.html#contenido-en-pdf",
    "href": "index.html#contenido-en-pdf",
    "title": "Programación y Administración de Sistemas",
    "section": "Contenido en PDF",
    "text": "Contenido en PDF\nPuedes acceder también al contenido de esta asignatura en formato PDF imprimible:\n\nInicio\nTema 0: Presentación\nTema 1: Presentación\nTema 1: Software Libre y Linux\nTema 2: Organización de un sistema operativo tipo GNU/Linux\n\nTema 2: Ejercicios permisos\nTema 2: Web personal\n\nTema 3: Arranque y parada\nTema 4: Gestión de Usuarios\nTema 5: Gestión de Recursos"
  },
  {
    "objectID": "index.html#evi-nemeth",
    "href": "index.html#evi-nemeth",
    "title": "Programación y Administración de Sistemas",
    "section": "Evi Nemeth",
    "text": "Evi Nemeth\nEvi Tribute at admin.com.\n\n\n\nEvi Nemeth retired from the Computer Science faculty at the University of Colorado in 2001. She explored the Pacific on her 40-foot sailboat named Wonderland for many years before becoming lost at sea in 2013. Fuente http://www.techfestival.org/evi-nemeth\n\n\n\n\n\nEvi Nemeth and Dennis Ritchie at the Phoenix 1987 USENIX conference. Evi, a UNIX engineer, author, and teacher, famous for one of the UNIX/Linux sys admin “bibles”. Dennis Ritchie co-developed UNIX and also the C programming language. Fuente @bioreconstruct"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html",
    "href": "tema03-arranque/tema03-arranque.html",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "",
    "text": "Describir todas las fases del proceso de arranque del sistema GNU/Linux, estableciendo qué elementos hardware y, sobre todo, software intervienen.\nExplicar qué misión tienen en el arranque los siguientes componentes: iniciador ROM, programa cargador, núcleo del sistema operativo, initrd y proceso Init.\nConfigurar los distintos parámetros del programa cargador GRUB y utilizar el modo interactivo.\nDistinguir la diferencia entre modo de ejecución monousuario y multiusuario.\nExplicar los problemas de seguridad asociados al modo monousuario.\nConocer systemd como sustituto para el Init de GNU/Linux\nEnumerar los pasos necesarios para la configuración del sistema en modo multiusuario.\nExplicar el concepto de niveles de ejecución y las funciones típicas de cada nivel.\nConfigurar los servicios de cada nivel de ejecución u objetivos.\nArrancar, parar, listar, añadir y eliminar servicios en cada nivel.\nEnumerar las acciones que se llevan a cabo durante la parada del sistema.\nUtilizar la herramienta shutdown.\nEnumerar posibles causas de caídas del sistema operativo.\nEnumerar posibles problemas durante el arranque del sistema operativo.\nConocer los principales mecanismos para consultar los logs del sistema operativo.\n\n\n\n\n\nCuestionarios objetivos.\nPruebas de respuesta libre.\nTareas de administración.\n\n\n\n\n\n\n\nNota\n\n\n\nComo en otros temas, en estos apuntes se dan muchos detalles que por supuesto no hay que memorizar. Si hay que saber en qué directorio se encuentran el/los ficheros de configuración pero no los parámetros de memoria, estos los ponemos aquí para conocer las posibilidades de cada herramienta."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#arranque-y-parada-del-sistema",
    "href": "tema03-arranque/tema03-arranque.html#arranque-y-parada-del-sistema",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Arranque y parada del sistema",
    "text": "Arranque y parada del sistema\n\nProcesos de arranque y de parada:\n\nArranque: el sistema se prepara para ser usado por los usuarios.\nParada: el sistema se deja consistente (p.ej. vaciar la caché).\n\n\n\nEl administrador deberá saber qué ficheros controlan estos procesos y cómo lo hacen, para reconocer situaciones de error y solucionarlas.\nProcesos sencillos: se basan en un conjunto de ficheros de configuración y/o de guiones shell que determinan y controlan los procesos."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#arranque",
    "href": "tema03-arranque/tema03-arranque.html#arranque",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Arranque",
    "text": "Arranque\n\nFuente [Nemeth et al., 2018]."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-1",
    "href": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-1",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Proceso de arranque",
    "text": "Proceso de arranque\n\nFuente [Nemeth et al., 2018]."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-fases",
    "href": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-fases",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Proceso de arranque: fases",
    "text": "Proceso de arranque: fases\n\nDos fases:\n\nArranque del hardware.\nArranque del Sistema Operativo (SO)."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-programa-cargador",
    "href": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-programa-cargador",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Proceso de arranque: programa cargador",
    "text": "Proceso de arranque: programa cargador\n\nEl programa cargador (master boot program o boot program) está en los primeros sectores del disco y tiene un tamaño prefijado.\nEstos sectores se conocen como Master Boot Record (MBR, o Volume Boot Record).\nEs el encargado de cargar el núcleo (o kernel) del SO y pasarle el control.\nEl iniciador ROM y el SO tienen un acuerdo sobre el programa cargador (ubicación, dirección de arranque y tamaño)."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-diferencia-bios-vs-uefi",
    "href": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-diferencia-bios-vs-uefi",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Proceso de arranque: diferencia BIOS vs UEFI",
    "text": "Proceso de arranque: diferencia BIOS vs UEFI\n\nFuente Ask Ubuntu.\nPuedes consultar las entradas de arranque UEFI con el siguiente comando: efibootmgr -v.\nEn Windows puedes hacer algo similar con: bcdedit /enum firmware."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-núcleo-del-s.o.",
    "href": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-núcleo-del-s.o.",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Proceso de arranque: núcleo del S.O.",
    "text": "Proceso de arranque: núcleo del S.O.\n\nEl núcleo del S.O. continúa el proceso de arranque:\n\nRealiza una comprobación del hardware del sistema.\nSe prepara a sí mismo para ejecutar el sistema inicializando sus tablas internas, creando estructuras de datos necesarias, etc.\nA continuación crea el proceso Init y le pasa el control.\n\nEl núcleo (Linux) es cargado inicialmente en memoria, y permanece de manera residente durante el funcionamiento del sistema, controlando la ejecución del resto de software (GNU).\nParte de este código se encuentra en módulos del núcleo:\n\nMinimizar la cantidad de código que se carga en memoria.\nMaximizar la modularidad.\n\n\nNota: puedes ver los módulos del núcleo activos en Linux con lsmod."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-initrd",
    "href": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-initrd",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Proceso de arranque: initrd",
    "text": "Proceso de arranque: initrd\nPara arrancar el sistema se necesita leer del disco los módulos del kernel que permiten leer el disco."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-initrd-1",
    "href": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-initrd-1",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Proceso de arranque: initrd",
    "text": "Proceso de arranque: initrd\n\ninitrd (Init RAM Disk):\n\nLas características del arranque pueden implicar que el medio desde el que se carga el núcleo provenga de un sistema de ficheros concreto (p.ej. ext4) o incluso desde la red.\nPara ello, se necesitarán módulos específicos, alojados en el initrd.\nEl programa cargador le dice al núcleo la posición del initrd.\nFuncionamiento:\n\nEl núcleo carga primero el initrd.\nUtilizando el initrd, se cargan los módulos necesarios.\nEntonces el núcleo continuará el proceso de arranque."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-proceso-init",
    "href": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-proceso-init",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Proceso de arranque: proceso Init",
    "text": "Proceso de arranque: proceso Init\n\nEl proceso Init (/sbin/init con PID = 1) termina el proceso de arranque, dejando el sistema en modo multiusuario, preparado para que los usuarios trabajen en él.\nUsa una serie de scripts que le indican las acciones a realizar.\n\n\n\nTareas que realiza el proceso Init:\n\nChequea los sistemas de ficheros.\nMonta los sistemas de ficheros permanentes.\nActiva las áreas de swapping o intercambio.\nActiva los demonios y la red (NFS, NIS, etc.).\nLimpia los sistemas de ficheros (borra los directorios temporales).\nHabilita el login a los usuarios del sistema."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-por-dónde-vamos",
    "href": "tema03-arranque/tema03-arranque.html#proceso-de-arranque-por-dónde-vamos",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Proceso de arranque: por dónde vamos",
    "text": "Proceso de arranque: por dónde vamos"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#gestor-de-arranque-grub-1",
    "href": "tema03-arranque/tema03-arranque.html#gestor-de-arranque-grub-1",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Gestor de arranque GRUB",
    "text": "Gestor de arranque GRUB\n\nGRUB: GRand Unified Bootloader:\nGRUB se instala en el master boot record (MBR) o como UEFI boot loader y hace de las funciones de master boot program (MBP, programa cargador de arranque).\nPregunta qué SO arrancar: p.ej. Linux o Windows.\n\nSi la respuesta es Linux \\(\\Rightarrow\\) carga el núcleo solicitado y le pasa el control para que el arranque continúe.\nSi la respuesta es Windows \\(\\Rightarrow\\) pasa el control a Windows que realiza su arranque."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#gestor-de-arranque-grub-lo-básico",
    "href": "tema03-arranque/tema03-arranque.html#gestor-de-arranque-grub-lo-básico",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Gestor de arranque GRUB: lo básico",
    "text": "Gestor de arranque GRUB: lo básico\n\nArchivo fundamental de configuración: /boot/grub/grub.cfg. ¡No editar a mano!.\nEste archivo se genera a partir del comando sudo update-grub2, utilizando todos los scripts incluidos en la carpeta /etc/grub.d/.\n\n\n\n\n\n\n\nTip\n\n\n\nReinstalar GRUB (por ejemplo, después de que Windows borre el MBR): sudo grub-install /dev/sda.\n\n\n\n\n\n\n\n\nImportante\n\n\n\nA través del cargador de arranque o un USB maligno se pueden ganar privilegios en una máquina"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#grub-configuración-general",
    "href": "tema03-arranque/tema03-arranque.html#grub-configuración-general",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "GRUB: configuración general",
    "text": "GRUB: configuración general\nContenidos de la carpeta /etc/grub.d/ (en principio, no modificar nada):\n\n/etc/grub.d/00_header: Cabeceras.\n/etc/grub.d/05_debian_theme: Aspecto visual del menú, colores, temas, imagen de fondo...\n/etc/grub.d/10_linux: Este archivo contiene mandatos y scripts que se encargan del kernel Linux de la partición principal (se incluyen todos los núcleos presentes en /boot).\n/etc/grub.d/20_*: Aplicaciones third party (20_memtest86+, 20_linux_xen...)\n/etc/grub.d/30_os-prober: Este archivo contiene comandos y scripts que se encargan de otros sistemas operativos.\n/etc/grub.d/30_uefi-firmware: Este archivo contiene comandos que automatizan la extracción de configuraciones incluidas en la partición EFI."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#grub-algunas-opciones-i",
    "href": "tema03-arranque/tema03-arranque.html#grub-algunas-opciones-i",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "GRUB: algunas opciones (I)",
    "text": "GRUB: algunas opciones (I)\nFichero /etc/default/grub:\n\nEste fichero si es editable (00_header lee su contenido).\nGRUB_DEFAULT``=0: entrada por defecto para el arranque. Si ponemos saved, será seleccionada por el administrador (comandos grub-set-default, permanente, y grub-reboot, un solo arranque).\nGRUB_SAVEDEFAULT``=true: la entrada por defecto es siempre la última seleccionada.\nGRUB_HIDDEN_TIMEOUT``=0:\n\nMuestra una pantalla en negro o con una imagen, durante el número de segundos indicado, antes del menú de arranque (pulsar una tecla para saltarla). Es 0 cuando solo hay linux (el menú puede aparecer con Shift).\nSuele no usarse cuando hay múltiples sistemas (comentado).\n\nGRUB_HIDDEN_TIMEOUT_QUIET``=true: sin cuenta atrás."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#grub-algunas-opciones-ii",
    "href": "tema03-arranque/tema03-arranque.html#grub-algunas-opciones-ii",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "GRUB: algunas opciones (II)",
    "text": "GRUB: algunas opciones (II)\nFichero /etc/default/grub:\n\nGRUB_TIMEOUT``=10: número de segundos hasta seleccionar entrada por defecto.\nGRUB_CMDLINE_LINUX``=“opciones\": pasar opciones de arranque al kernel linux (modo normal o recuperación).\nGRUB_CMDLINE_LINUX_DEFAULT``=\"quiet splash\": pasar opciones de arranque al kernel linux (modo normal).\nGRUB_TERMINAL``=console: desactivar modo gráfico.\nGRUB_BADRAM``=\"0x7DDF0000,0xffffc000\": deshabilitar el uso de algunas direcciones de memoria (el primer argumento es la primera dirección a partir de la cual se aplica, el segundo es una máscara con un 1 en los bits que voy a considerar) \\(\\Rightarrow\\) en el ejemplo, no se usan posiciones de la 0x7DDF0000 a la 0x7DDF4000."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#grub-algunas-opciones-iii",
    "href": "tema03-arranque/tema03-arranque.html#grub-algunas-opciones-iii",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "GRUB: algunas opciones (III)",
    "text": "GRUB: algunas opciones (III)\nFichero /etc/default/grub:\n\nGRUB_DISTRIBUTOR``` =lsb_release -i -s 2> /dev/null || echo Debian` ``: obtener el nombre de la distribución.\nGRUB_DISABLE_LINUX_UUID``=\"true\": no utilizar el UUID del dispositivo raíz (utilizar nomenclatura tradicional /dev/sda).\nGRUB_GFXMODE``=640x480: seleccionar manualmente la resolución para el menú.\nGRUB_INIT_TUNE``=\"480 440 1\": hacer beep antes del menú de inicio (tempo [pitch1 duration1] [pitch2 duration2]...).\nGRUB_BACKGROUND: imagen de fondo."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#gestor-de-arranque-grub-2",
    "href": "tema03-arranque/tema03-arranque.html#gestor-de-arranque-grub-2",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Gestor de arranque GRUB",
    "text": "Gestor de arranque GRUB\nGRUB permite (durante la selección del SO):\n\nEditar las entradas:\n\nPulsar tecla e, permite modificar las entradas de arranque para solucionar errores.\nLos cambios no son permanentes, solo sirve para probar.\n\nConsola interactiva GRUB: pulsar la tecla c. Permite ejecutar comandos para arreglar el arranque (seleccionar otro initrd, cargar módulos...).\nTerminología de GRUB, numerando los dispositivos según los reconozca la BIOS empezando en cero:\n\nNombres de dispositivos: (<t><n>,<np>)\n(hd0,0) \\(\\Rightarrow\\) /dev/sda1\nNombres de ficheros (hd0,0)/boot/grub/grub.conf"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#fragmento-bootgrubgrub.cfg-linux",
    "href": "tema03-arranque/tema03-arranque.html#fragmento-bootgrubgrub.cfg-linux",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Fragmento /boot/grub/grub.cfg (Linux)",
    "text": "Fragmento /boot/grub/grub.cfg (Linux)\nmenuentry 'Debian GNU/Linux, con Linux 5.4.0-0.bpo.3-amd64' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-5.4.0-0.bpo.3-amd64-advanced-bf8474c5-958e-4cca-a568-4828b2310fda' {\n    load_video\n    insmod gzio\n    insmod part_msdos\n    insmod ext2\n    set root='hd0,msdos1'\n    search --no-floppy --fs-uuid --set=root bf8474c5-958e-4cca-a568-4828b2310fda\n    echo 'Cargando Linux 5.4.0-0.bpo.3-amd64...'\n    linux /boot/vmlinuz-5.4.0-0.bpo.3-amd64 root=UUID=bf8474c5-958e-4cca-a568-4828b2310fda ro initrd=/install/gtk/initrd.gz quiet\n    echo 'Cargando imagen de memoria inicial...'\n    initrd /boot/initrd.img-5.4.0-0.bpo.3-amd64\n}\nmenuentry 'Debian GNU/Linux, with Linux 5.4.0-0.bpo.3-amd64 (recovery mode)' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-5.4.0-0.bpo.3-amd64-recovery-bf8474c5-958e-4cca-a568-4828b2310fda' {\n    load_video   \n    insmod gzio\n    insmod part_msdos\n    insmod ext2\n    set root='hd0,msdos1'\n    search --no-floppy --fs-uuid --set=root bf8474c5-958e-4cca-a568-4828b2310fda\n    echo 'Cargando Linux 5.4.0-0.bpo.3-amd64...'\n    linux /boot/vmlinuz-5.4.0-0.bpo.3-amd64 root=UUID=bf8474c5-958e-4cca-a568-4828b2310fda ro single initrd=/install/gtk/initrd.gz\n    echo 'Cargando imagen de memoria inicial...'\n    initrd /boot/initrd.img-5.4.0-0.bpo.3-amd64\n    }"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#fragmento-bootgrubgrub.cfg-windows",
    "href": "tema03-arranque/tema03-arranque.html#fragmento-bootgrubgrub.cfg-windows",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Fragmento /boot/grub/grub.cfg (Windows)",
    "text": "Fragmento /boot/grub/grub.cfg (Windows)\n...\n## BEGIN /etc/grub.d/30_os-prober ###\nmenuentry 'Windows 7 (en /dev/sdb1)' --class windows --class os $menuentry_id_option 'osprober-chain-DA3EBC4E3EBC2583' {\n    insmod part_msdos\n    insmod ntfs\n    set root='hd1,msdos1'\n    search --no-floppy --fs-uuid --set=root DA3EBC4E3EBC2583\n    parttool ${root} hidden-\n    chainloader +1\n}\n## END /etc/grub.d/30_os-prober ##"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#ejercicio-parámetros-básicos-de-grub",
    "href": "tema03-arranque/tema03-arranque.html#ejercicio-parámetros-básicos-de-grub",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Ejercicio: parámetros básicos de GRUB",
    "text": "Ejercicio: parámetros básicos de GRUB\n\nCambia la imagen de fondo a la que quieras.\n\n\nPara ello puedes copiar una imagen usando el navegador de archivos, scp, descargarla con wget…\nPuedes poner la imagen en /boot.\nQuizás no te funcione a la primera. Revisa:\n\nRuta entre comillas.\nFormato imagen (¿imagemagick?).\nRegenerar ficheros de configuración.\n\n\n\nCambia el timeout."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#opciones-avanzadas-y-modo-monousuario",
    "href": "tema03-arranque/tema03-arranque.html#opciones-avanzadas-y-modo-monousuario",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Opciones avanzadas y modo monousuario",
    "text": "Opciones avanzadas y modo monousuario"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#modo-monousuario",
    "href": "tema03-arranque/tema03-arranque.html#modo-monousuario",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Modo monousuario",
    "text": "Modo monousuario\n\nEstado del sistema definido para realizar tareas administrativas y de mantenimiento, que requieren un control completo y no compartido.\nSólo realiza el montaje del sistema de ficheros raíz (/), los otros SF están disponibles pero no están montados.\nSe puede acceder a todo el sistema, pero:\n\nMuy pocos demonios están en ejecución, sólo los necesarios.\nMuchas utilidades no están activas (impresión, red).\nSólo las órdenes del SF raíz están disponibles (si /usr está en otra partición, no está montado).\n\nPara entrar en modo monousuario el proceso Init crea el shell por defecto (/bin/sh) como usuario root:\n\nPero antes se ejecuta la orden /sbin/sulogin, que pide la contraseña de root para dejar entrar al sistema."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#modo-monousuario-1",
    "href": "tema03-arranque/tema03-arranque.html#modo-monousuario-1",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Modo monousuario",
    "text": "Modo monousuario\n\n¿Cómo se entra en modo monousuario?\n\nManualmente, indicando al cargador una opción o parámetro: mediante la interfaz de edición de GRUB, opción single a la entrada del núcleo.\nAutomáticamente, si hay problemas en el proceso de arranque que el sistema no puede solucionar por sí solo (p.e. problemas en el SF que fsck no puede solucionar, errores en los ficheros de arranque)."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#modo-monousuario-2",
    "href": "tema03-arranque/tema03-arranque.html#modo-monousuario-2",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Modo monousuario",
    "text": "Modo monousuario\n\n\n¡Problema!: si cambiamos las opciones de GRUB y ponemos init=/bin/sh, no se llama a sulogin.\nPermite tener acceso a todo el sistema, estando delante del ordenador."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#ejercicio-hacerse-root-sin-la-contraseña",
    "href": "tema03-arranque/tema03-arranque.html#ejercicio-hacerse-root-sin-la-contraseña",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Ejercicio: hacerse root sin la contraseña",
    "text": "Ejercicio: hacerse root sin la contraseña\n\nHas conseguido entrar en la sala de servidores echándole laxante en el café al guardia de seguridad. ¿Podrías hacerte con el usuario root del sistema y ponerle la contraseña que quieras?\nPara conseguirlo puedes hacer algo extraordinario como mirar la bibliografía del tema."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#modo-monousuario-3",
    "href": "tema03-arranque/tema03-arranque.html#modo-monousuario-3",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Modo monousuario",
    "text": "Modo monousuario\n\nSolución: no existe una solución única sino un conjunto de medidas de mitigación para proteger ante accesos físicos al sistema.\nPor ejemplo, solicitar contraseña para la entrada de administración.\n\nFichero /etc/grub.d/40_custom (o donde esté la entrada).\n\nset superusers=\"user1\"\npassword_pbkdf2 user1 grub.pbkdf2.sha512.10000.086EB0CC8 ...\npassword_pbkdf2 user2 grub.pbkdf2.sha512.10000.045EB0CC8 ...\n\nEl password se puede generar usando:\n\ngrub-mkpasswd-pbkdf2\nEnter password: \nReenter password: \nYour PBKDF2 is grub.pbkdf2.sha512.10000.086EB0CC8CB1E39E2...\n\nEjecutar update-grub o modificar la entrada de administración para que requiera password: --users user1."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#modo-monousuario-4",
    "href": "tema03-arranque/tema03-arranque.html#modo-monousuario-4",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Modo monousuario",
    "text": "Modo monousuario\n\n\nVulnerabilidad en el sistema de contraseñas de grub y estrategias de mitigación:\n\n\n\n\n\nUna vulnerabilidad puede darte acceso root en Linux pulsando Intro durante 70 segundos (2016)\nAlgunas estrategias de mitigación frente a accesos físicos (2009)\nPhysical Security for Linux Systems (2020)"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#ejercicio-proteje-tu-sistema-de-arranque",
    "href": "tema03-arranque/tema03-arranque.html#ejercicio-proteje-tu-sistema-de-arranque",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Ejercicio: proteje tu sistema de arranque",
    "text": "Ejercicio: proteje tu sistema de arranque\n\nAñade un usuario y contraseña a GRUB.\nDesabilita el reinicio por teclado Ctrl+Alt+Del. Prueba esto usando el menú de Virtual Box o reiniciarás tu ordenador"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#pasos-arranque-modo-multiusuario-iii",
    "href": "tema03-arranque/tema03-arranque.html#pasos-arranque-modo-multiusuario-iii",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Pasos arranque modo multiusuario (I/II)",
    "text": "Pasos arranque modo multiusuario (I/II)\n\nChequea el sistema de ficheros raíz con fsck.\n\nSi al apagar el sistema, el sistema de ficheros se desmontó correctamente, no se chequea.\nSin embargo, algunos SOs con determinados SFs fuerzan el chequeo siempre, o cada cierto tiempo (cada 3 meses) o cada cierto número de montajes sin chequear (cada 20 veces).\nSi fsck encuentra problemas que no puede solucionar “sólo”, lleva al sistema a modo monousuario para que el administrador realice el chequeo manual.\n\nMonta el sistema de ficheros raíz en modo lectura-escritura.\nChequea el resto de SFs con fsck (idem al punto 1).\nMonta el resto de SFs.\nActiva las particiones de intercambio (swapping): swapon -a.\nActiva las cuotas de disco: quotacheck -a y quotaon -a."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#pasos-arranque-modo-multiusuario-iiii",
    "href": "tema03-arranque/tema03-arranque.html#pasos-arranque-modo-multiusuario-iiii",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Pasos arranque modo multiusuario (II/II)",
    "text": "Pasos arranque modo multiusuario (II/II)\n\nLanza los procesos servidores o demonios: crond, atd, cupsd, syslogd...\nActiva la red.\nLanza los demonios de red: xinetd, apache2, nagiosd, sshd, ntpd, nfsd, rpc.mountd, slapd...\nLimpia los sistemas de ficheros: /tmp, etc.\nPermite que los usuarios entren:\n\nCrea las terminales, lanzando getty en modo texto, y el terminal gráfico, si es preciso.\nBorra, en caso de que exista, el fichero /etc/nologin: Si el fichero /etc/nologin existe, los usuarios (excepto root) no pueden entrar al sistema. Algunos sistemas lo crean al iniciar el arranque."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#niveles-de-ejecución-en-gnulinux",
    "href": "tema03-arranque/tema03-arranque.html#niveles-de-ejecución-en-gnulinux",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Niveles de ejecución en GNU/Linux",
    "text": "Niveles de ejecución en GNU/Linux\n\nEl SO puede estar en distintos niveles de ejecución (no solo modo monousuario y multiusuario).\nEn GNU/Linux, los niveles de ejecución son:\n\nNivel 0: Sistema apagado.\nNivel 1, s o S: Modo monousuario, rescue o troubleshooting.\nNivel 2: Modo multiusuario sin funciones de red.\nNivel 3: Modo multiusuario con funciones de red y terminales de texto.\nNivel 4: Sin usar, a redefinir por el administrador.\nNivel 5: Modo multiusuario con funciones de red e inicio de sesión gráfico.\nNivel 6: Sistema reiniciándose.\n\nEn Debian, por defecto, los niveles 2 al 5 son todos modo multiusuario con todas las funciones."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#niveles-de-ejecución-en-gnulinux-init",
    "href": "tema03-arranque/tema03-arranque.html#niveles-de-ejecución-en-gnulinux-init",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Niveles de ejecución en GNU/Linux (init)",
    "text": "Niveles de ejecución en GNU/Linux (init)\n\n/sbin/runlevel: saber en qué nivel está el sistema.\n/sbin/telinit: cambiar de nivel de ejecución:\n\ntelinit 1: a modo monousuario.\ntelinit 6: reiniciar el sistema.\ntelinit 3: cambiar al nivel 3.\nsystemctl isolate multi-user.target \\(\\rightarrow\\) cambiar al nivel 3 en systemd.**\n\nEl nivel por defecto, establecido al arrancar, se encuentra:\n\nEn el fichero /etc/inittab: id:2:initdefault:\nO con el siguiente comando (systemd): systemctl set-default multi-user.target\n\nAl arrancar mediante GRUB, al núcleo se le puede pasar como parámetro un número indicando el nivel en el que queremos arrancar. En este caso se obviará el nivel por defecto."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#systemd",
    "href": "tema03-arranque/tema03-arranque.html#systemd",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Systemd",
    "text": "Systemd\n\nEs un reemplazo del proceso Init que viene incorporándose en GNU/Linux desde el año 2015.\nAmplía funcionalidades, pudiendo gestionar cosas que Init no gestiona, por ejemplo el sistema de logs.\nFilosofía principal:\n\nMejorar la forma de expresar dependencias.\nPermitir que se realicen más tareas en paralelo.\nReducir la carga extra que supone el intérprete.\n\nSe gestiona mediante unidades (servicios) y targets (algo similar a los niveles de ejecución)."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#systemd-controversia",
    "href": "tema03-arranque/tema03-arranque.html#systemd-controversia",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Systemd: controversia",
    "text": "Systemd: controversia\nSistema muy complejo, causa algunas dependencias innecesarias, ficheros binarios vs texto…\n\nhttps://without-systemd.org"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#equivalencia-de-niveles-de-ejecución-de-init-y-systemd",
    "href": "tema03-arranque/tema03-arranque.html#equivalencia-de-niveles-de-ejecución-de-init-y-systemd",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Equivalencia de niveles de ejecución de init y systemd",
    "text": "Equivalencia de niveles de ejecución de init y systemd\nsystemd se encarga de dar soporte hacia atrás a guiones y niveles de Init.\n\nFuente [Nemeth et al., 2018]."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#ficheros-de-inicialización",
    "href": "tema03-arranque/tema03-arranque.html#ficheros-de-inicialización",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Ficheros de inicialización",
    "text": "Ficheros de inicialización\n\nPersonalizar niveles de ejecución \\(\\Rightarrow\\) carpetas /etc/rc?.d/, donde ? es el nivel de ejecución.\nTodos ellos son ejecutados por Init durante el arranque.\nSe ejecutan al arrancar o al cambiar de nivel:\n\nEl nombre del script empieza por S o K, seguido de dos dígitos y un nombre descriptivo: K35smb K15httpd S40atd S50xinetd S60cups S99local\nLos ejecuta en orden alfabético, primero los K después los S, los dos dígitos establecen el orden entre todos los K y todos los S.\nFicheros K: detener demonios o matar procesos.\nFicheros S: lanzar demonios o ejecutar funciones de inicio.\nPara cada nivel de inicialización, se especifica qué demonios tienen que estar activos o no."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#ficheros-de-inicialización-1",
    "href": "tema03-arranque/tema03-arranque.html#ficheros-de-inicialización-1",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Ficheros de inicialización",
    "text": "Ficheros de inicialización\n\nCarpetas /etc/rc?.d/:\n\nTodos los ficheros son enlaces simbólicos al fichero con el mismo nombre descriptivo localizado en /etc/init.d.\nLos scripts reciben varios parámetros: start, stop, restart...\nEsto permite lanzar o relanzar demonios sin reiniciar el sistema.\nrc ejecuta los ficheros K con el parámetro stop y los S con start.\nEstos scripts se mantienen por retrocompatibilidad, se tiende a utilizar systemd y el comando systemctl que actúa sobre unidades descritas en /etc/systemd/system/ para cada objetivo systemd."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#ficheros-de-inicialización-2",
    "href": "tema03-arranque/tema03-arranque.html#ficheros-de-inicialización-2",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Ficheros de inicialización",
    "text": "Ficheros de inicialización\n$ ls /etc/rc2.d/ -la\ntotal 16\ndrwxr-xr-x   2 root root  4096 feb 13 10:21 .\ndrwxr-xr-x 180 root root 12288 mar 13 09:11 ..\nlrwxrwxrwx   1 root root    22 nov 14  2019 K01cups-browsed -> ../init.d/cups-browsed\nlrwxrwxrwx   1 root root    18 nov 14  2019 K01whoopsie -> ../init.d/whoopsie\nlrwxrwxrwx   1 root root    15 nov 14  2019 S01acpid -> ../init.d/acpid\nlrwxrwxrwx   1 root root    17 nov 14  2019 S01anacron -> ../init.d/anacron\nlrwxrwxrwx   1 root root    16 nov 14  2019 S01apport -> ../init.d/apport\nlrwxrwxrwx   1 root root    13 mar 22  2022 S01atd -> ../init.d/atd\nlrwxrwxrwx   1 root root    22 nov 14  2019 S01avahi-daemon -> ../init.d/avahi-daemon\nlrwxrwxrwx   1 root root    24 may  3  2020 S01binfmt-support -> ../init.d/binfmt-support\nlrwxrwxrwx   1 root root    19 nov 14  2019 S01bluetooth -> ../init.d/bluetooth\nlrwxrwxrwx   1 root root    26 nov 14  2019 S01console-setup.sh -> ../init.d/console-setup.sh\nlrwxrwxrwx   1 root root    22 mar  9  2021 S01cpufrequtils -> ../init.d/cpufrequtils\nlrwxrwxrwx   1 root root    14 nov 14  2019 S01cron -> ../init.d/cron\nlrwxrwxrwx   1 root root    14 nov 14  2019 S01cups -> ../init.d/cups\nlrwxrwxrwx   1 root root    14 nov 14  2019 S01dbus -> ../init.d/dbus\nlrwxrwxrwx   1 root root    16 ene 26 12:59 S01docker -> ../init.d/docker\nlrwxrwxrwx   1 root root    14 nov 14  2019 S01gdm3 -> ../init.d/gdm3\nlrwxrwxrwx   1 root root    21 nov 14  2019 S01grub-common -> ../init.d/grub-common\nlrwxrwxrwx   1 root root    17 mar  9  2021 S01hddtemp -> ../init.d/hddtemp\nlrwxrwxrwx   1 root root    20 nov 14  2019 S01irqbalance -> ../init.d/irqbalance\nlrwxrwxrwx   1 root root    16 mar 20  2020 S01jicofo -> ../init.d/jicofo\nlrwxrwxrwx   1 root root    20 nov 14  2019 S01kerneloops -> ../init.d/kerneloops\nlrwxrwxrwx   1 root root    17 mar  9  2021 S01lightdm -> ../init.d/lightdm\nlrwxrwxrwx   1 root root    21 mar  9  2021 S01loadcpufreq -> ../init.d/loadcpufreq\nlrwxrwxrwx   1 root root    22 nov 14  2019 S01lvm2-lvmetad -> ../init.d/lvm2-lvmetad\nlrwxrwxrwx   1 root root    23 nov 14  2019 S01lvm2-lvmpolld -> ../init.d/lvm2-lvmpolld\nlrwxrwxrwx   1 root root    15 nov 14  2019 S01mdadm -> ../init.d/mdadm\nlrwxrwxrwx   1 root root    13 feb 13 10:21 S01mpd -> ../init.d/mpd\nlrwxrwxrwx   1 root root    17 mar  4  2020 S01openvpn -> ../init.d/openvpn\nlrwxrwxrwx   1 root root    18 nov 14  2019 S01plymouth -> ../init.d/plymouth"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#systemd-1",
    "href": "tema03-arranque/tema03-arranque.html#systemd-1",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Systemd",
    "text": "Systemd\n\nEs compatible hacia atrás con los scripts SysV.\nPero incorpora su propio mecanismo (más potente) de gestión de servicios.\nEn la carpeta /etc/systemd/ existen carpetas a distintos niveles con ficheros para distintos targets. Ejemplo:\n\n# /etc/systemd/system/sshd.service \n[Unit]\nDescription=OpenBSD Secure Shell server\nAfter=network.target auditd.service\nConditionPathExists=!/etc/ssh/sshd_not_to_be_run\n\n[Service]\nEnvironmentFile=-/etc/default/ssh\nExecStartPre=/usr/sbin/sshd -t\nExecStart=/usr/sbin/sshd -D $SSHD_OPTS\nExecReload=/usr/sbin/sshd -t\n...\nRuntimeDirectoryMode=0755\n\n[Install]\nWantedBy=multi-user.target\nAlias=sshd.service"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#systemd-2",
    "href": "tema03-arranque/tema03-arranque.html#systemd-2",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Systemd",
    "text": "Systemd\n\nLa forma de describir dependencias es más flexible:\n\nAfter especifica qué necesita el servicio para poder ejecutarse.\nWantedBy especifica cuándo se lanzará el servicio.\n\nSe puede especificar el usuario con User.\nEl ejecutable se especifica con ExecStart.\nRestart=always hace que el servicio se re-ejecute si por, algún motivo, se para.\nRestartSec=1: el reinicio se hace tras 1 segundo.\nStartLimitIntervalSec=0[service]: se intenta el reinicio para siempre (no hay límite)."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#manejar-servicios",
    "href": "tema03-arranque/tema03-arranque.html#manejar-servicios",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Manejar servicios",
    "text": "Manejar servicios\n# Arrancar un servicio (tradicional):\n/etc/init.d/myservice start\n# Arrancar un servicio (systemd):\nsystemctl start myservice\n# Parar un servicio (tradicional): \n/etc/init.d/myservice stop\n# Parar un servicio (systemd):\nsystemctl stop myservice\n# Listar servicios (tradicional):\nls /etc/init.d\n# Listar servicios (systemd):\nsystemctl list-units --type=service\n# Añadir un servicio a todos los niveles\nupdate-rc.d apache2 defaults\n# Eliminar un servicio a todos los niveles\nrm /etc/rc*/*myscript\n# Eliminar un servicio a todos los niveles\nupdate-rc.d apache2 remove"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#herramientas-de-systemd",
    "href": "tema03-arranque/tema03-arranque.html#herramientas-de-systemd",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Herramientas de systemd",
    "text": "Herramientas de systemd\nsystemd con su abanico de herramientas permite consultar información y realizar acciones sobre arranque, servicios y logs muy útiles que son difíciles o imposibles con init:\nMostrar servicios y servicios activos:\nsystemctl\nsystemd-cgls\nsystemctl --type=service\nsystemctl --type=service --state=active\nListar temporizadores:\nsystemctl list-timers`\nMostrar logs de un servicio (ej. ssh.service, apache2.service):\njournalctl -u service-name.service\njournalctl -u service-name.service -b\nMostrar logs desde una fecha (también se puede elegir un intervalo):\njournalctl --since \"2023-01-30\""
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#resumen-del-proceso-de-arranque-1",
    "href": "tema03-arranque/tema03-arranque.html#resumen-del-proceso-de-arranque-1",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Resumen del proceso de arranque",
    "text": "Resumen del proceso de arranque\n\nIniciador ROM (BIOS/UEFI)\n\nChequeo inicial del sistema.\nLee y almacena en memoria el programa cargador del SO.\nPasa el control al cargador del SO, saltando a la dirección de memoria donde lo ha almacenado.\n\nCargador del sistema operativo (GRUB) \\(\\Rightarrow\\) carga el núcleo del SO y le pasa el control, sabe dónde está el núcleo.\nNúcleo del SO:\n\nChequeo hardware.\nCreación e inicialización de las estructuras de datos, tablas...\nCrea el proceso Init y le pasa el control.\n\nProceso Init: termina el proceso de arranque, dejando el sistema preparado para ser usado (chequeo de SFs, montaje de SFs, activación de la swap, de cuotas, demonios, etc.)"
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#parada-del-sistema-1",
    "href": "tema03-arranque/tema03-arranque.html#parada-del-sistema-1",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Parada del sistema",
    "text": "Parada del sistema\n\nEn ocasiones es necesario apagar o reiniciar el sistema: mantenimiento, diagnóstico, hardware nuevo, etc.\n\n\nAcciones durante proceso de parada\n\nSe notifica a los usuarios.\nProcesos en ejecución \\(\\Rightarrow\\) enviar la señal de terminación (TERM).\nSe paran los demonios.\nA los usuarios que quedan conectados se les echa del sistema.\nProcesos que queden en ejecución \\(\\Rightarrow\\) enviar la señal de fin (KILL).\nActualizaciones de disco pendientes (integridad del SF) con sync."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#parada-del-sistema-shutdown",
    "href": "tema03-arranque/tema03-arranque.html#parada-del-sistema-shutdown",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Parada del sistema: shutdown",
    "text": "Parada del sistema: shutdown\nshutdown [opciones] tiempo [mensaje]:\n\nSin opciones: modo monousuario (telinit 1 o systemctl isolate rescue.target).\n-r: reiniciar (telinit 6 o systemctl isolate reboot.target).\n-h: parar (telinit 0 o systemctl isolate shutdown.target).\n-c: cancelar.\n-k: hacer una simulación de apagado.\ntiempo: +minutos, now, horas:minutos.\n\nAl salir del modo monousuario, vuelve al nivel por defecto (salvo que expresamente se reinicie o apague)."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#diagnóstico-de-sistema-y-arranque",
    "href": "tema03-arranque/tema03-arranque.html#diagnóstico-de-sistema-y-arranque",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Diagnóstico de sistema y arranque",
    "text": "Diagnóstico de sistema y arranque\nPosibles causas de caídas del sistema\n\nFallos hardware.\nErrores de hardware irrecuperables.\nFallos de luz (cortes o altibajos).\nOtros problemas ambientales.\nProblemas de entrada/salida.\nProblemas de algún sistema de ficheros."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#diagnóstico-de-sistema-y-arranque-1",
    "href": "tema03-arranque/tema03-arranque.html#diagnóstico-de-sistema-y-arranque-1",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Diagnóstico de sistema y arranque",
    "text": "Diagnóstico de sistema y arranque\nProblemas de arranque:\n\nFallos hardware.\nNo se puede leer el sistema de ficheros de los discos de trabajo.\nHay áreas dañadas en el disco que no pertenecen al sistema de ficheros (p.e. tabla de particiones).\nHardware incompatible.\nErrores en la configuración del sistema."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#diagnóstico-de-sistema-y-arranque-2",
    "href": "tema03-arranque/tema03-arranque.html#diagnóstico-de-sistema-y-arranque-2",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Diagnóstico de sistema y arranque",
    "text": "Diagnóstico de sistema y arranque\n\nAl rearrancar mirar los mensajes que hay en el fichero /var/log/messages.\nLa orden dmesg \\(\\Rightarrow\\) mensajes producidos durante el arranque.\nEn el arranque al núcleo se le pueden pasar otros parámetros:\n\nroot=particion \\(\\Rightarrow\\) indicar que monte como partición raíz una distinta.\ninit=ejecutable \\(\\Rightarrow\\) que en vez del proceso Init lance otro proceso:\ninit=/bin/bash \\(\\Rightarrow\\) en este caso el proceso de inicio del Init no se realiza, el SF está montado en modo sólo lectura, hay que remontarlo: mount -o remount -w -n /\nsingle \\(\\Rightarrow\\) arrancar en modo monousuario.\nUn número indicando el nivel de arranque."
  },
  {
    "objectID": "tema03-arranque/tema03-arranque.html#referencias-1",
    "href": "tema03-arranque/tema03-arranque.html#referencias-1",
    "title": "Tema 3: Arranque y parada del sistema",
    "section": "Referencias",
    "text": "Referencias\nEvi Nemeth, Garth Snyder, Trent R. Hein, Ben Whaley y Dan Mackin. Unix and Linux system administration handbook. Capítulo 2. Booting and System Management Daemons, Capítulo 10. Logging. Addison-Wesley. 5th Edition. 2018.\nAeleen Frisch. Essential system administration. Capítulo 4. Startup and shut down. O’Reilly and Associates. Tercera edición. 2002.\nEjemplo de acceso al modo monousuario sin contraseña de root: https://blog.sleeplessbeastie.eu/2014/05/01/how-to-access-single-user-mode-without-password/"
  },
  {
    "objectID": "tema03-arranque/latex-src/beamer.html#programa-cargador-grub",
    "href": "tema03-arranque/latex-src/beamer.html#programa-cargador-grub",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "Programa cargador: GRUB",
    "text": "Programa cargador: GRUB\n\nGestor de arranque GRUB\n\nGRUB: GRand Unified Bootloader:\n\nGRUB se instala en el master boot record (MBR) o como UEFI boot loader y hace de las funciones de master boot program (MBP, programa cargador de arranque).\nPregunta qué SO arrancar: p.ej. Linux o Windows.\n\nSi la respuesta es Linux \\(\\Rightarrow\\) carga el núcleo solicitado y le pasa el control para que el arranque continúe.\nSi la respuesta es Windows \\(\\Rightarrow\\) pasa el control a Windows que realiza su arranque.\n\nGRUB 2.0: desde el año 2009.\n\nArchivo fundamental de configuración: /boot/grub/grub.cfg\n¡No editar a mano!.\nEste archivo se genera a partir del comando sudo update-grub2, utilizando todos los scripts incluidos en la carpeta /etc/grub.d/.\n\n\n\n\n\nGestor de arranque GRUB\n\nContenidos de la carpeta /etc/grub.d/ (en principio, no modificar nada):\n\n/etc/grub.d/00_header: Cabeceras.\n/etc/grub.d/05_debian_theme: Aspecto visual del menú, colores, temas, imagen de fondo...\n/etc/grub.d/10_linux: Este archivo contiene mandatos y scripts que se encargan del kernel Linux de la partición principal (se incluyen todos los núcleos presentes en /boot).\n/etc/grub.d/20_*: Aplicaciones third party (20_memtest86+, 20_linux_xen...)\n/etc/grub.d/30_os-prober: Este archivo contiene comandos y scripts que se encargan de otros sistemas operativos.\n/etc/grub.d/30_uefi-firmware: Este archivo contiene comandos que automatizan la extracción de configuraciones incluidas en la partición EFI.\n\n\n\n\nGestor de arranque GRUB\n\nFichero /etc/default/grub:\n\nEste fichero si es editable (00_header lee su contenido).\nGRUB_DEFAULT=0: entrada por defecto para el arranque. Si ponemos saved, será seleccionada por el administrador (comandos grub-set-default, permanente, y grub-reboot, un solo arranque).\nGRUB_SAVEDEFAULT=true: la entrada por defecto es siempre la última seleccionada.\nGRUB_HIDDEN_TIMEOUT=0:\n\nMuestra una pantalla en negro o con una imagen, durante el número de segundos indicado, antes del menú de arranque (pulsar una tecla para saltarla).\nSuele no usarse cuando hay múltiples sistemas (comentado).\nEs 0 cuando solo hay linux (el menú puede aparecer con Shift).\n\nGRUB_HIDDEN_TIMEOUT_QUIET=true: sin cuenta atrás.\n\n\n\n\nGestor de arranque GRUB\n\nFichero /etc/default/grub:\n\nGRUB_TIMEOUT=10: número de segundos hasta seleccionar entrada por defecto.\nGRUB_CMDLINE_LINUX=“opciones\": pasar opciones de arranque al kernel linux (modo normal o recuperación).\nGRUB_CMDLINE_LINUX_DEFAULT=\"quiet splash\": pasar opciones de arranque al kernel linux (modo normal).\nGRUB_TERMINAL=console: desactivar modo gráfico.\nGRUB_BADRAM=\"0x7DDF0000,0xffffc000\": deshabilitar el uso de algunas direcciones de memoria (el primer argumento es la primera dirección a partir de la cual se aplica, el segundo es una máscara con un 1 en los bits que voy a considerar) \\(\\Rightarrow\\) en el ejemplo, no se usan posiciones de la 0x7DDF0000 a la 0x7DDF4000.\n\n\n\n\nGestor de arranque GRUB\n\nFichero /etc/default/grub:\n\nGRUB_DISTRIBUTOR=`lsb_release -i -s 2> /dev/null || echo Debian`: obtener el nombre de la distribución.\nGRUB_DISABLE_LINUX_UUID=\"true\": no utilizar el UUID del dispositivo raíz (utilizar nomenclatura tradicional /dev/sda).\nGRUB_GFXMODE=640x480: seleccionar manualmente la resolución para el menú.\nGRUB_INIT_TUNE=\"480 440 1\": hacer beep antes del menú de inicio (tempo [pitch1 duration1] [pitch2 duration2]...).\nGRUB_BACKGROUND: imagen de fondo.\n\nReinstalar GRUB (por ejemplo, después de que Windows borre el MBR): sudo grub-install /dev/sda.\n\n\n\nGestor de arranque GRUB\n\nGRUB permite (durante la selección del SO):\n\nEditar las entradas:\n\nPulsar tecla e, permite modificar las entradas de arranque para solucionar errores.\nLos cambios no son permanentes, solo sirve para probar.\n\nConsola interactiva GRUB: pulsar la tecla c. Permite ejecutar comandos para arreglar el arranque (seleccionar otro initrd, cargar módulos...).\nTerminología de GRUB, numerando los dispositivos según los reconozca la BIOS empezando en cero:\n\nNombres de dispositivos: (<t><n>,<np>)\n(hd0,0) \\(\\Rightarrow\\) /dev/sda1\nNombres de ficheros (hd0,0)/boot/grub/grub.conf\n\n\n\n\n\nFragmento /boot/grub/grub.cfg (Linux)\n...\nmenuentry 'Debian GNU/Linux, con Linux 5.4.0-0.bpo.3-amd64' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-5.4.0-0.bpo.3-amd64-advanced-bf8474c5-958e-4cca-a568-4828b2310fda' {\n   load_video\n   insmod gzio\n   insmod part_msdos\n   insmod ext2\n   set root='hd0,msdos1'\n   search --no-floppy --fs-uuid --set=root bf8474c5-958e-4cca-a568-4828b2310fda\n   echo 'Cargando Linux 5.4.0-0.bpo.3-amd64...'\n   linux /boot/vmlinuz-5.4.0-0.bpo.3-amd64 root=UUID=bf8474c5-958e-4cca-a568-4828b2310fda ro initrd=/install/gtk/initrd.gz quiet\n   echo 'Cargando imagen de memoria inicial...'\n   initrd /boot/initrd.img-5.4.0-0.bpo.3-amd64\n}\nmenuentry 'Debian GNU/Linux, with Linux 5.4.0-0.bpo.3-amd64 (recovery mode)' --class debian --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-5.4.0-0.bpo.3-amd64-recovery-bf8474c5-958e-4cca-a568-4828b2310fda' {\n   load_video   \n   insmod gzio\n   insmod part_msdos\n   insmod ext2\n   set root='hd0,msdos1'\n   search --no-floppy --fs-uuid --set=root bf8474c5-958e-4cca-a568-4828b2310fda\n   echo 'Cargando Linux 5.4.0-0.bpo.3-amd64...'\n   linux /boot/vmlinuz-5.4.0-0.bpo.3-amd64 root=UUID=bf8474c5-958e-4cca-a568-4828b2310fda ro single initrd=/install/gtk/initrd.gz\n   echo 'Cargando imagen de memoria inicial...'\n   initrd /boot/initrd.img-5.4.0-0.bpo.3-amd64\n } \n...\n\n\nFragmento /boot/grub/grub.cfg (Windows)\n...\n### BEGIN /etc/grub.d/30_os-prober ###\nmenuentry 'Windows 7 (en /dev/sdb1)' --class windows --class os $menuentry_id_option 'osprober-chain-DA3EBC4E3EBC2583' {\n   insmod part_msdos\n   insmod ntfs\n   set root='hd1,msdos1'\n   search --no-floppy --fs-uuid --set=root DA3EBC4E3EBC2583\n   parttool ${root} hidden-\n   chainloader +1\n}\n### END /etc/grub.d/30_os-prober ### \n..."
  },
  {
    "objectID": "tema03-arranque/latex-src/beamer.html#modo-monousuariomultiusuario",
    "href": "tema03-arranque/latex-src/beamer.html#modo-monousuariomultiusuario",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "Modo monousuario/multiusuario",
    "text": "Modo monousuario/multiusuario\n\nOpciones avanzadas\n\n\n\n\nimage\n\n\n\n\n\nModo monousuario\n\n\n\n\nimage\n\n\n\n\n\nModo monousuario\n\nEstado del sistema definido para realizar tareas administrativas y de mantenimiento, que requieren un control completo y no compartido.\nSólo realiza el montaje del sistema de ficheros raíz (/), los otros SF están disponibles pero no están montados.\nSe puede acceder a todo el sistema, pero:\n\nMuy pocos demonios están en ejecución, sólo los necesarios.\nMuchas utilidades no están activas (impresión, red).\nSólo las órdenes del SF raíz están disponibles (si /usr está en otra partición, no está montado).\n\nPara entrar en modo monousuario el proceso Init crea el shell por defecto (/bin/sh) como usuario root:\n\nPero antes se ejecuta la orden /sbin/sulogin, que pide la contraseña de root para dejar entrar al sistema.\n\n\n\n\nModo monousuario\n\n¿Cómo se entra en modo monousuario?\n\nManualmente, indicando al cargador una opción o parámetro:\nmediante la interfaz de edición de GRUB, opción single a la entrada del núcleo.\nAutomáticamente, si hay problemas en el proceso de arranque que el sistema no puede solucionar por sí solo (p.e. problemas en el SF que fsck no puede solucionar, errores en los ficheros de arranque).\n\n¡Problema!: si cambiamos las opciones de GRUB y ponemos init=/bin/sh, no se llama a sulogin1.\n\nPermite tener acceso a todo el sistema, estando delante del ordenador.\n\n\n\n\nModo monousuario\n\nSolución: no existe una solución única sino un conjunto de medidas de mitigación para proteger ante accesos físicos al sistema.\nPor ejemplo, solicitar contraseña para la entrada de administración.\n\nFichero /etc/grub.d/40_custom (o donde esté la entrada).\nset superusers=\"user1\"\npassword_pbkdf2 user1 grub.pbkdf2.sha512.10000.086EB0CC8 ...\npassword_pbkdf2 user2 grub.pbkdf2.sha512.10000.045EB0CC8 ...\nModificar la entrada de administración, para que requiera password, incluyendo –users user1 (modificarlo en los scripts).\nEl password se puede generar usando:\npagutierrez@TOSHIBA:~$ grub-mkpasswd-pbkdf2\nEnter password: \nReenter password: \nYour PBKDF2 is grub.pbkdf2.sha512.10000.086EB0CC8CB1E39E2...\n\n\n\n\nModo monousuario\nVulnerabilidad en el sistema de contraseñas de grub y estrategias de mitigación:\n\nEnlace a la noticia (2016): https://www.genbeta.com/seguridad/una-vulnerabilidad-puede-darte-acceso-root-en-linux-pulsando-intro-durante-70-segundos\nAlgunas estrategias de mitigación frente a accesos físicos (2009): https://www.cyberciti.biz/tips/tips-to-protect-linux-servers-physical-console-access.html\n\n\n\nModo multiusuario\n\nPasos del proceso de arranque (I/II):\n\nChequea el sistema de ficheros raíz con fsck.\n\nSi al apagar el sistema, el sistema de ficheros se desmontó correctamente, no se chequea.\nSin embargo, algunos SOs con determinados SFs fuerzan el chequeo siempre, o cada cierto tiempo (cada 3 meses) o cada cierto número de montajes sin chequear (cada 20 veces).\nSi fsck encuentra problemas que no puede solucionar “sólo”, lleva al sistema a modo monousuario para que el administrador realice el chequeo manual.\n\nMonta el sistema de ficheros raíz en modo lectura-escritura.\nChequea el resto de SFs con fsck (idem al punto 1).\nMonta el resto de SFs.\nActiva las particiones de intercambio (swapping): swapon -a.\nActiva las cuotas de disco: quotacheck -a y quotaon -a.\n\n\n\n\nModo multiusuario\n\nPasos del proceso de arranque (II/II):\n\nLanza los procesos servidores o demonios:\ncrond, atd, cupsd, syslogd...\nActiva la red.\nLanza los demonios de red:\nxinetd, apache2, nagiosd, sshd, ntpd, nfsd, rpc.mountd, slapd...\nLimpia los sistemas de ficheros: /tmp, etc.\nPermite que los usuarios entren:\n\nCrea las terminales, lanzando getty en modo texto, y el terminal gráfico, si es preciso.\nBorra, en caso de que exista, el fichero /etc/nologin:\nSi el fichero /etc/nologin existe, los usuarios (excepto root) no pueden entrar al sistema. Algunos sistemas lo crean al iniciar el arranque."
  },
  {
    "objectID": "tema03-arranque/latex-src/beamer.html#niveles-de-ejecución",
    "href": "tema03-arranque/latex-src/beamer.html#niveles-de-ejecución",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "Niveles de ejecución",
    "text": "Niveles de ejecución\n\nNiveles de ejecución en GNU/Linux\n\nEl SO puede estar en distintos niveles de ejecución (no solo modo monousuario y multiusuario).\nEn GNU/Linux, los niveles de ejecución son:\n\nNivel 0: Sistema apagado.\nNivel 1, s o S: Modo monousuario, rescue o troubleshooting.\nNivel 2: Modo multiusuario sin funciones de red.\nNivel 3: Modo multiusuario con funciones de red y terminales de texto.\nNivel 4: Sin usar, a redefinir por el administrador.\nNivel 5: Modo multiusuario con funciones de red e inicio de sesión gráfico.\nNivel 6: Sistema reiniciándose.\n\nEn Debian, por defecto, los niveles 2 al 5 son todos modo multiusuario con todas las funciones.\n\n\n\nNiveles de ejecución en GNU/Linux\n\n/sbin/runlevel \\(\\Rightarrow\\) saber en qué nivel está el sistema.\n/sbin/telinit \\(\\Rightarrow\\) cambiar de nivel de ejecución:\n\ntelinit 1 \\(\\rightarrow\\) a modo monousuario.\ntelinit 6 \\(\\rightarrow\\) reiniciar el sistema.\ntelinit 3 \\(\\rightarrow\\) cambiar al nivel 3.\nsystemctl isolate multi-user.target \\(\\rightarrow\\) cambiar al nivel 3 en systemd.\n\nEl nivel por defecto, establecido al arrancar, se encuentra:\n\nEn el fichero /etc/inittab\n\n\nid:2:initdefault:\n\nO con el siguiente comando (systemd)\n\n\nsystemctl set-default multi-user.target\n\n\nAl arrancar mediante GRUB, al núcleo se le puede pasar como parámetro un número indicando el nivel en el que queremos arrancar. En este caso se obviará el nivel por defecto.\n\n\n\nEquivalencias init y systemd\n\n\n\n\nimage\n\n\n\nFuente [Nemeth et al., 2018]."
  },
  {
    "objectID": "tema03-arranque/latex-src/beamer.html#ficheros-de-inicialización",
    "href": "tema03-arranque/latex-src/beamer.html#ficheros-de-inicialización",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "Ficheros de inicialización",
    "text": "Ficheros de inicialización\n\nFicheros de inicialización\n\nPersonalizar niveles de ejecución \\(\\Rightarrow\\) carpetas /etc/rc?.d/, donde ? es el nivel de ejecución.\nTodos ellos son ejecutados por Init durante el arranque.\nSe ejecutan al arrancar o al cambiar de nivel:\n\nEl nombre del script empieza por S o K, seguido de dos dígitos y un nombre descriptivo:\n\nK35smb K15httpd S40atd S50xinetd S60cups S99local\n\nLos ejecuta en orden alfabético, primero los K después los S, los dos dígitos establecen el orden entre todos los K y todos los S.\nFicheros K: detener demonios o matar procesos.\nFicheros S: lanzar demonios o ejecutar funciones de inicio.\nPara cada nivel de inicialización, se especifica qué demonios tienen que estar activos o no.\n\n\n\n\nFicheros de inicialización\n\nCarpetas /etc/rc?.d/:\n\nTodos los ficheros son enlaces simbólicos al fichero con el mismo nombre descriptivo localizado en /etc/init.d.\nLos scripts reciben varios parámetros: start, stop, restart...\nEsto permite lanzar o relanzar demonios sin reiniciar el sistema.\nrc ejecuta los ficheros K con el parámetro stop y los S con start.\nEstos scripts se mantienen por retrocompatibilidad, se tiende a utilizar systemd y el comando systemctl que actúa sobre unidades descritas en /etc/systemd/system/ para cada objetivo systemd.\n\n\n\n\nFicheros de inicialización\npedroa@pedroaLaptop:~$ ls /etc/rc2.d/ -la\ntotal 20\ndrwxr-xr-x   2 root root  4096 oct 27 12:05 .\ndrwxr-xr-x 146 root root 12288 feb 21 16:11 ..\n-rw-r--r--   1 root root   677 jul 14  2020 README\nlrwxrwxrwx   1 root root    14 jul 25  2020 S01motd -> ../init.d/motd\nlrwxrwxrwx   1 root root    17 jul 25  2020 S13rpcbind -> ../init.d/rpcbind\nlrwxrwxrwx   1 root root    17 jul 25  2020 S16rsyslog -> ../init.d/rsyslog\nlrwxrwxrwx   1 root root    14 jul 25  2020 S16sudo -> ../init.d/sudo\nlrwxrwxrwx   1 root root    15 jul 25  2020 S17acpid -> ../init.d/acpid\nlrwxrwxrwx   1 root root    17 jul 25  2020 S17anacron -> ../init.d/anacron\nlrwxrwxrwx   1 root root    13 jul 25  2020 S17atd -> ../init.d/atd\nlrwxrwxrwx   1 root root    14 jul 25  2020 S17cron -> ../init.d/cron\nlrwxrwxrwx   1 root root    14 jul 25  2020 S17dbus -> ../init.d/dbus\nlrwxrwxrwx   1 root root    15 jul 25  2020 S17exim4 -> ../init.d/exim4\nlrwxrwxrwx   1 root root    17 jul 26  2020 S17hddtemp -> ../init.d/hddtemp\nlrwxrwxrwx   1 root root    13 oct 27 12:05 S17ntp -> ../init.d/ntp\nlrwxrwxrwx   1 root root    15 jul 25  2020 S17rsync -> ../init.d/rsync\nlrwxrwxrwx   1 root root    13 jul 25  2020 S17ssh -> ../init.d/ssh\nlrwxrwxrwx   1 root root    17 jul 27  2020 S19openvpn -> ../init.d/openvpn\nlrwxrwxrwx   1 root root    14 jul 27  2020 S20cups -> ../init.d/cups\nlrwxrwxrwx   1 root root    14 jul 27  2020 S20gdm3 -> ../init.d/gdm3\nlrwxrwxrwx   1 root root    15 jul 27  2020 S20saned -> ../init.d/saned\n\n\nManejar servicios\n# Arrancar un servicio (tradicional):\n/etc/init.d/myservice start\n# Arrancar un servicio (systemd):\nsystemctl start myservice\n# Parar un servicio (tradicional): \n/etc/init.d/myservice stop\n# Parar un servicio (systemd):\nsystemctl stop myservice\n# Listar servicios (tradicional):\nls /etc/init.d\n# Listar servicios (systemd):\nsystemctl list-units --type=service\n# Añadir un servicio a todos los niveles\nupdate-rc.d apache2 defaults\n# Eliminar un servicio a todos los niveles\nrm /etc/rc*/*myscript\n# Eliminar un servicio a todos los niveles\nupdate-rc.d apache2 remove"
  },
  {
    "objectID": "tema03-arranque/latex-src/beamer.html#systemd",
    "href": "tema03-arranque/latex-src/beamer.html#systemd",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "Systemd",
    "text": "Systemd\n\nSystemd\n\nEs un reemplazo del proceso Init que viene incorporándose en GNU/Linux desde el año 2015.\nAmplía funcionalidades, pudiendo gestionar cosas que Init no gestiona, por ejemplo el sistema de logs.\nFilosofía principal:\n\nMejorar la forma de expresar dependencias.\nPermitir que se realicen más tareas en paralelo.\nReducir la carga extra que supone el intérprete.\n\nCierta controversia:\n\nSistema muy complejo, que causa algunas dependencias innecesarias.\n\nSe gestiona mediante unidades (servicios) y targets (algo similar a los niveles de ejecución).\n\n\n\nSystemd\n\nEs compatible hacia atrás con los scripts SysV.\nPero incorpora su propio mecanismo (más potente) de gestión de servicios.\nCarpeta /etc/systemd:\n\nCada servicio es un fichero .conf. Ejemplo:\n\n\n\n[Unit]\nDescription=Servicio de ejemplo\nAfter=network.target\nStartLimitIntervalSec=0[Service]\nType=simple\nRestart=always\nRestartSec=1\nUser=pedroa\nExecStart=/ruta/ejecutable argumentos\n\n[Install]\nWantedBy=multi-user.target\n\n\nSystemd\n\nLa forma de describir dependencias es más flexible:\n\nAfter especifica qué necesita el servicio para poder ejecutarse.\nWantedBy especifica cuándo se lanzará el servicio.\n\nSe puede especificar el usuario con User.\nEl ejecutable se especifica con ExecStart.\nRestart=always hace que el servicio se re-ejecute si por, algún motivo, se para.\nRestartSec=1: el reinicio se hace tras 1 segundo.\nStartLimitIntervalSec=0[service]: se intenta el reinicio para siempre (no hay límite).\n\n\n\nResumen del proceso de arranque\n\nIniciador ROM (BIOS/UEFI)\n\nChequeo inicial del sistema.\nLee y almacena en memoria el programa cargador del SO.\nPasa el control al cargador del SO, saltando a la dirección de memoria donde lo ha almacenado.\n\nCargador del sistema operativo (GRUB) \\(\\Rightarrow\\) carga el núcleo del SO y le pasa el control, sabe dónde está el núcleo.\nNúcleo del SO:\n\nChequeo hardware.\nCreación e inicialización de las estructuras de datos, tablas...\nCrea el proceso Init y le pasa el control.\n\nProceso Init: termina el proceso de arranque, dejando el sistema preparado para ser usado (chequeo de SFs, montaje de SFs, activación de la swap, de cuotas, demonios, etc.)"
  },
  {
    "objectID": "enlaces.html",
    "href": "enlaces.html",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "",
    "text": "How To Create And Use NAT Network In VirtualBox\nVirtualBox Network Settings: Complete Guide"
  },
  {
    "objectID": "enlaces.html#auditoría-básica",
    "href": "enlaces.html#auditoría-básica",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "Auditoría básica",
    "text": "Auditoría básica\nhttps://cisofy.com/lynis/"
  },
  {
    "objectID": "enlaces.html#escalado-de-privilegios",
    "href": "enlaces.html#escalado-de-privilegios",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "Escalado de privilegios",
    "text": "Escalado de privilegios\nIncluye enlaces a scripts de auditoría: Privilege Escalation on Linux\nAlgunos ejemplos básicos de explotación de errores de configuración (permisos, grupos, usuarios, etc.): Linux Privilege Escalation: Three Easy Ways to Get a Root Shell"
  },
  {
    "objectID": "enlaces.html#fork-bomb-y-protecciones",
    "href": "enlaces.html#fork-bomb-y-protecciones",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "Fork bomb y protecciones",
    "text": "Fork bomb y protecciones\nUnderstanding Bash fork() Bomb :(){ :|:& };: code. https://www.cyberciti.biz/faq/understanding-bash-fork-bomb/\nHow to: Prevent a fork bomb by limiting user process. https://www.cyberciti.biz/tips/linux-limiting-user-process.html\nFork Bomb y el apocalipsis zombie en GNU/Linux. https://juncotic.com/fork-bomb-el-apocalipsis-zombie-en-linux/"
  },
  {
    "objectID": "enlaces.html#trucos-vim",
    "href": "enlaces.html#trucos-vim",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "Trucos VIM",
    "text": "Trucos VIM\nGuardar con sudo un fichero que hemos abierto sin sudo (y añadir un atajo permanente): TL;DR: :w !sudo tee %\nhttps://www.cyberciti.biz/faq/vim-vi-text-editor-save-file-without-root-permission/"
  },
  {
    "objectID": "enlaces.html#cifrado",
    "href": "enlaces.html#cifrado",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "Cifrado:",
    "text": "Cifrado:\nDiferencias de seguridad bcrypt vs SHA\nNIST Post-Quantum Cryptography Standardization"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html",
    "href": "tema05-recursos/tema05-recursos.html",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "",
    "text": "Conocer cuáles son los recursos básicos del sistema operativo (CPU, memoria y espacio en disco) y la necesidad e importancia de su monitorización y gestión.\nDefinir los procesos en GNU/Linux y distinguir los modos de ejecución básicos (modo usuario y modo núcleo).\nEstablecer los tipos de procesos que pueden ejecutarse en el sistema operativo.\nUtilizar la herramienta ps para ver los procesos en ejecución y sus atributos.\nExplicar el ciclo de vida de un proceso en GNU/Linux desde el punto de vista de su administración, detallando los distintos estados por los que puede pasar.\nConocer el mecanismo de planificación utilizado en GNU/Linux para ejecutar los procesos.\nUtilizar el número nice para modificar la prioridad de los procesos.\nEnviar señales a procesos para controlar su ejecución y distinguir entre el efecto de las distintas señales.\nMonitorizar el tiempo de actividad de un sistema mediante la herramienta uptime.\nMonitorizar el árbol de ejecución de procesos de un sistema mediante la herramienta pstree.\nMonitorizar los procesos en ejecución de forma interactiva mediante la herramienta top.\nObtener informes sobre la ejecución de procesos en un sistema mediante la herramienta vmstat.\nConocer el contenido de la carpeta /proc y los ficheros que en ella aparecen para cada uno de los procesos en ejecución.\nPostergar la ejecución de procesos mediante el uso de la herramienta at.\nPlanificar la ejecución periódica de procesos mediante la herramienta cron.\nRastrear señales y llamadas al sistema de un determinado proceso mediante la herramienta strace.\nMonitorizar la cantidad de memoria libre mediante la herramienta free.\nMonitorizar el uso de memoria mediante vmstat.\nDecidir el espacio de paginación necesario para un sistema operativo.\nControlar el espacio en disco mediante las herramientas df y du.\nMonitorizar el rendimiento de los discos mediante el uso de la herramienta iostat.\n\n\n\n\n\nCuestionarios objetivos.\nPruebas de respuesta libre.\nTareas de administración."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#tareas-típicas",
    "href": "tema05-recursos/tema05-recursos.html#tareas-típicas",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Tareas típicas",
    "text": "Tareas típicas\nEmpieza a ir lento un servicio, ¿qué puede pasar?\n\n¿Cuántos recursos gasta nuestro servidor web según aumentan las peticiones?\n\n\n¿cómo programo una tarea para que se ejecute repetidamente?"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#introducción-1",
    "href": "tema05-recursos/tema05-recursos.html#introducción-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Introducción",
    "text": "Introducción\nUna correcta administración del sistema implica obtener información sobre sus recursos y rendimiento:\n\nProcesos en ejecución,\ncantidad de memoria disponible,\nespacio en disco,\nnº de particiones,\nprioridad de procesos, etc.\n\npara poder identificar y mitigar cuellos de botella, ataques, incidencias, etc."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-en-gnulinux",
    "href": "tema05-recursos/tema05-recursos.html#procesos-en-gnulinux",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos en GNU/Linux",
    "text": "Procesos en GNU/Linux\n\nFuente Nemeth et. al 2018"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-en-gnulinux-1",
    "href": "tema05-recursos/tema05-recursos.html#procesos-en-gnulinux-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos en GNU/Linux",
    "text": "Procesos en GNU/Linux\n\nProceso: representa un programa en ejecución (el SO crea el proceso cuando comienza la ejecución y lo elimina al finalizarla). Es una abstracción a través de la cuál la memoria, tiempo de procesador y recursos E/S pueden gestionarse y monitorizarse.\nUn sistema de tiempo compartido como GNU/Linux permite múltiples usuarios que ejecuten múltiples procesos, aunque la CPU solo puede ejecutar un proceso a la vez por núcleo.\nLa CPU conmuta rápidamente de un proceso al siguiente, ejecutando un cuanto (por ejemplo, 100ms) de cada proceso.\nEl SO es el encargado de decidir qué proceso se ejecuta en qué lugar \\(\\rightarrow\\) planificación de la CPU."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#información-de-cpu-y-núcleos-pc",
    "href": "tema05-recursos/tema05-recursos.html#información-de-cpu-y-núcleos-pc",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Información de CPU y núcleos: PC",
    "text": "Información de CPU y núcleos: PC\nEn un PC:\n$ lscpu | grep -E '^Hilo|^Núcleo|^socket|^CPU\\('\nCPU(s):                              8\nHilo(s) de procesamiento por núcleo: 2\nNúcleo(s) por «socket»:              4\nCPU(s) del nodo NUMA 0:              0-7\n$ grep -m 1 'cpu cores' /proc/cpuinfo\ncpu cores   : 4\n$ nproc --all\n8"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#información-de-cpu-y-núcleos-servidor",
    "href": "tema05-recursos/tema05-recursos.html#información-de-cpu-y-núcleos-servidor",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Información de CPU y núcleos: servidor",
    "text": "Información de CPU y núcleos: servidor\nEn un servidor:\n$ grep -m 1 'cpu cores' /proc/cpuinfo\ncpu cores   : 20\n$ nproc --all\n160\n$ lscpu | grep -E '^Hilo|^Núcleo|^socket|^CPU\\('\nCPU(s):                              160\nHilo(s) de procesamiento por núcleo: 2\nNúcleo(s) por «socket»:              20\nCPU(s) del nodo NUMA 0:              0-19,80-99\nCPU(s) del nodo NUMA 1:              20-39,100-119\nCPU(s) del nodo NUMA 2:              40-59,120-139\nCPU(s) del nodo NUMA 3:              60-79,140-159"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-modos-de-ejecución",
    "href": "tema05-recursos/tema05-recursos.html#procesos-modos-de-ejecución",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos: modos de ejecución",
    "text": "Procesos: modos de ejecución\nModos de ejecución (distinción para proteger mejor las direcciones de memoria a las que puede acceder un proceso)\n\nModo usuario: se ejecuta código normal del programa.\nModo núcleo: se ejecutan las funciones del núcleo (en realidad, es el kernel ejecutándose en nombre del proceso):\n\nLlamadas al sistema: Los procesos de usuario solicitan servicios explícitamente a través de la interfaz de llamadas al sistema (p.ej. crear un hilo, abrir un fichero…).\nExcepciones: Situaciones excepcionales (división por cero, errores de direccionamiento…) causan excepciones hardware que requieren intervención del kernel.\nInterrupciones: Los dispositivos periféricos interrumpen para notificar al kernel de diversos sucesos (terminación de E/S, cambio de estado…)."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-tipos-de-procesos-iii",
    "href": "tema05-recursos/tema05-recursos.html#procesos-tipos-de-procesos-iii",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos: tipos de procesos (I/II)",
    "text": "Procesos: tipos de procesos (I/II)\n\nProcesos de usuario\n\nProcesos creados por un usuario real.\nSe ejecutan en modo usuario, excepto en los casos anteriores.\n\n\n\nProcesos demonio\n\nNo asociados a un usuario, o asociados a uno ficticio.\nSe ejecutan en modo usuario, excepto en los casos anteriores.\nRealizan tareas periódicas relacionadas con la administración del sistema (gestión de la red, crontab…)."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-tipos-de-procesos-iiii",
    "href": "tema05-recursos/tema05-recursos.html#procesos-tipos-de-procesos-iiii",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos: tipos de procesos (II/II)",
    "text": "Procesos: tipos de procesos (II/II)\n\nProcesos núcleo\n\nNo asociados a un usuario.\nCorresponden al código del kernel.\nSe ejecutan siempre en modo núcleo.\nTareas de administración más delicadas (planificación, intercambio de procesos, intercambio de páginas…)."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-monitorizar-con-ps",
    "href": "tema05-recursos/tema05-recursos.html#procesos-monitorizar-con-ps",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos: monitorizar con ps",
    "text": "Procesos: monitorizar con ps\nps: información sobre los procesos en ejecución\n\nUSER \\(\\Rightarrow\\) usuario que lanzó el programa.\nPID \\(\\Rightarrow\\) identificador del proceso.\nPPID \\(\\Rightarrow\\) identificador del proceso padre (los nuevos procesos se crean clonándose con fork).\n%CPU \\(\\Rightarrow\\) porcentaje de la CPU consumido por este proceso (en ese momento).\n%MEM \\(\\Rightarrow\\) fracción de memoria consumida (es una estimación).\nVSZ \\(\\Rightarrow\\) tamaño virtual (código+datos+pila) en KB.\nRSS \\(\\Rightarrow\\) memoria real usada en KB (VSZ incluye a RSS).\nTTY \\(\\Rightarrow\\) terminal asociado con el proceso."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-monitorizar-con-ps-1",
    "href": "tema05-recursos/tema05-recursos.html#procesos-monitorizar-con-ps-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos: monitorizar con ps",
    "text": "Procesos: monitorizar con ps\n\n\nps: información sobre los procesos en ejecución\n\nSTAT estado del proceso:\n\nR: en ejecución\nS: durmiendo\nZ: proceso zombie\nD: durmiendo ininterrumpible (E/S)\nT: parado (señal o trace)\n\n\n\n\n\n\n\nSTAT banderas adicionales:\n\n<:prioridad más alta de lo normal (\\(<0\\)), N: más baja de lo normal (\\(>0\\))\nl: tiene multithread, +: proceso, foreground, s: líder de sesión\nL: tiene páginas bloqueadas en memoria"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-estados-de-los-procesos",
    "href": "tema05-recursos/tema05-recursos.html#procesos-estados-de-los-procesos",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos: estados de los procesos",
    "text": "Procesos: estados de los procesos\n\n\n\n\nR: un proceso en ejecución está listo para ejecutarse en cuanto la CPU esté libre. Tiene todos los recursos que necesita y está esperando su cuanto para ejecutarse.\nS: durmiendo, esperando a que ocurra un evento específico (petición I/O, lectura de un socket…). bash y los demonios del sistema pasan casi todo su tiempo durmiendo, esperando la entrada por terminal o que un cliente haga una petición por la red. Estos procesos no recibirán tiempo de CPU hasta que el evento ocurra o que se reciba una señal específica."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-estados-de-los-procesos-1",
    "href": "tema05-recursos/tema05-recursos.html#procesos-estados-de-los-procesos-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos: estados de los procesos",
    "text": "Procesos: estados de los procesos\n\n\n\n\nD: durmiendo, espera ininterrumpible. Algunas operaciones causan este estado, en el que el proceso no maneja señales, solo despertará cuando pase el evento. Normalmente, el estado D es transitorio y no llegaríamos a verlo en el ps. Sin embargo, determinadas situaciones anómalas hacen que el estado se mantenga (p.ej. pedir un fichero a un servidor NFS al que no podemos acceder y que hemos montado con hard). Solo podemos reiniciar o arreglar el problema."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-estados-de-los-procesos-2",
    "href": "tema05-recursos/tema05-recursos.html#procesos-estados-de-los-procesos-2",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos: estados de los procesos",
    "text": "Procesos: estados de los procesos\n\n\n\n\nZ: zombie, el proceso termina correctamente pero el padre no recoge su código de error \\(\\rightarrow\\) Consultar el PPID para ver el origen del problema.\nT: proceso detenido temporalmente mediante señales (Ctrl+Z) o porque está siendo examinado (trace). Solo volverán a ejecutarse tras otra señal."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-estados-de-los-procesos-3",
    "href": "tema05-recursos/tema05-recursos.html#procesos-estados-de-los-procesos-3",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos: estados de los procesos",
    "text": "Procesos: estados de los procesos\n\n\n\n\nI: idle, este estado se introdujo en 2017 con la versión 4.17 del núcleo. Significa que estamos ante un proceso ocioso de un hilo del núcleo, en espera ininterrumpible. A diferencia del estado D, solo se aplica a procesos del núcleo y no contribuye a la carga de la CPU."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-estados-de-los-procesos-4",
    "href": "tema05-recursos/tema05-recursos.html#procesos-estados-de-los-procesos-4",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos: estados de los procesos",
    "text": "Procesos: estados de los procesos\n\ns: líder de sesión. Los procesos se pueden agrupar. Si se manda una señal al grupo, se le manda a todos los procesos. El líder es el que interactúa con la terminal.\nl: hilos creados con CLONE_THREAD (p.ej. hilos Native Posix Thread Library, NPTL).\nL: el proceso ha pedido al kernel bloquear determinadas páginas de memoria, para evitar que no se modifiquen mientras se hacen determinadas operaciones.\n+: foreground, proceso de primer plano, iniciado sin &."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#ejemplo-salida-ps",
    "href": "tema05-recursos/tema05-recursos.html#ejemplo-salida-ps",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Ejemplo salida ps",
    "text": "Ejemplo salida ps\n$ ps aux | less #a-> Todos usuarios, x-> Procesos sin terminal, u -> Añadir nombre de usuario\nUSER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot           1  0.0  0.0 166852 11240 ?        Ss   11:50   0:02 /sbin/init\nroot           2  0.0  0.0      0     0 ?        S    11:50   0:00 [kthreadd]\nroot           3  0.0  0.0      0     0 ?        I<   11:50   0:00 [rcu_gp]\nroot           4  0.0  0.0      0     0 ?        I<   11:50   0:00 [rcu_par_gp]\nroot          12  0.0  0.0      0     0 ?        S    11:50   0:00 [ksoftirqd/0]\nroot          13  0.0  0.0      0     0 ?        I    11:50   0:30 [rcu_sched]\n...\npedroa     18651  0.0  0.0  14096  3400 pts/1    R+   20:36   0:00 ps aux\npedroa     18652  0.0  0.0   8140   912 pts/1    S+   20:36   0:00 less\n$ ps al #a-> Todos usuarios, l -> Formato \"long\"\nF   UID     PID    PPID PRI  NI    VSZ   RSS WCHAN  STAT TTY        TIME COMMAND\n4     0    1323    1315  20   0 633340 217800 -   Ssl+ tty7      31:12 /usr/lib/xorg/Xorg :0 -seat seat0 -auth /var/run/lightdm/root/:0 -nolisten tcp vt7 -novtswitch\n4     0    1324       1  20   0   8340  1760 -    Ss+  tty1       0:00 /sbin/agetty -o -p -- \\u --noclear tty1 linux\n0  1000   18303   18292  20   0  10644  4860 core_s Ss+  pts/0      0:00 bash\n0  1000   18649   18292  20   0  10644  4912 -    Ss   pts/1      0:00 bash\n4  1000   18718   18649  20   0  13816  1308 -    R+   pts/1      0:00 ps al"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#árbol-de-procesos-pstree",
    "href": "tema05-recursos/tema05-recursos.html#árbol-de-procesos-pstree",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Árbol de procesos: pstree",
    "text": "Árbol de procesos: pstree\npstree \\(\\Rightarrow\\) visualiza un árbol de los procesos en ejecución\ninit---NetworkManager---2*[{NetworkManager}]\n        |--acpid\n        |--atd\n        |--avahi-daemon---avahi-daemon\n        |--bamfdaemon\n        |--bluetoothd\n        |--bonobo-activati---2*[{bonobo-activat}]\n        |--console-kit-dae---64*[{console-kit-da}]\n        |--cron\n        |--cupsd\n        |--2*[dbus-daemon]\n        |--dbus-launch\n        |--dconf-service---{dconf-service}\n        |--evince---3*[{evince}]\n        |--evinced---{evinced}\n        |--firefox---plugin-containe---7*[{plugin-contain}]\n        |         |--21*[{firefox}]\n        |--gconfd-2"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#prioridad",
    "href": "tema05-recursos/tema05-recursos.html#prioridad",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Prioridad",
    "text": "Prioridad\nNúmero nice (“buena gente”) y prioridad de procesos:\n\nPlanificación de procesos por prioridades dinámicas.\nAl lanzar el proceso, se le asigna un número nice o prioridad estática (se hereda por defecto del proceso padre).\nLa prioridad por defecto se obtiene mediante el número nice.\nValores bajos (negativos): más prioridad.\nValores altos (positivos): menos prioridad.\nRango de prioridad estática \\(\\Rightarrow [-20,19]\\)"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#prioridad-y-señales-ejemplos-nice",
    "href": "tema05-recursos/tema05-recursos.html#prioridad-y-señales-ejemplos-nice",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Prioridad y señales: ejemplos nice",
    "text": "Prioridad y señales: ejemplos nice\nAsignación de prioridades mayores o menores que la actual:\n\nnice -5 nautilus: lanzar nautilus con nº nice incrementado en 5.\nnice --10 nautilus: lanzar nautilus con nº nice decrementado en 10 (solo root).\nrenice 14 890: prioridad 14 al proceso 890.\nrenice 5 -u pedroa: prioridad 5 para todos los procesos del usuario pedroa."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#ejercicio-nice",
    "href": "tema05-recursos/tema05-recursos.html#ejercicio-nice",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Ejercicio nice",
    "text": "Ejercicio nice\n\nLista la información los procesos relacionados con apache\nBusca cómo averiguar la prioridad de estos procesos (hay varias alternativas).\nLista y cambia la prioridad a algún proceso."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#ejercicio-nice-solución",
    "href": "tema05-recursos/tema05-recursos.html#ejercicio-nice-solución",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Ejercicio nice (solución)",
    "text": "Ejercicio nice (solución)\nInformación con ps:\n$ ps axu|grep -E 'apache|COMMAND'\nUSER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\nroot       29822  0.0  0.0   6524  4396 ?        Ss   12:45   0:00 /usr/sbin/apache2 -k start\nwww-data   29823  0.0  0.0 1997844 4320 ?        Sl   12:45   0:00 /usr/sbin/apache2 -k start\nwww-data   29824  0.0  0.0 1932308 4316 ?        Sl   12:45   0:00 /usr/sbin/apache2 -k start\nCon la opción -l:\nps -lu www-data\nUna vez sabemos el PID podemos consultar su prioridad:\nps -o pid 29822\nTambién con top."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#señales-y-procesos-kill",
    "href": "tema05-recursos/tema05-recursos.html#señales-y-procesos-kill",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Señales y procesos: kill",
    "text": "Señales y procesos: kill\nEnvío de señales a los procesos (pararlos, hacer que continúen, eliminarlos…):\n\nkill -señal pid (donde señal es un número).\nkill pid: mandar señal por defecto al proceso pid (señal SIGTERM, número 15, se puede capturar).\nSIGKILL (9) fuerza la salida del proceso. No se puede capturar.\nParar un proceso SIGSTOP (19), Reiniciarlo SIGCONT (18).\nkillall comando: permite mandar una señal a todos los procesos con un determinado nombre de comando.\npkill ó skill \\(\\Rightarrow\\) enviar una señal usando el nombre u otros atributos o criterios (uid, gid, terminal…).\nLos procesos en estado D o Z no se detienen pese a recibir la señal KILL."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#señales-posix",
    "href": "tema05-recursos/tema05-recursos.html#señales-posix",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Señales POSIX",
    "text": "Señales POSIX\n\nFuente Nemeth et. al 2018."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#señales-posix-1",
    "href": "tema05-recursos/tema05-recursos.html#señales-posix-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Señales POSIX",
    "text": "Señales POSIX\n\n\n\n#\nNombre\nDescripción\nPor defecto\n¿Se puede capturar?\n¿Se puede bloquear?\n¿core dump?\n\n\n1\nHUP\nHang up (terminal)\nTerminar\nSi\nSi\nNo\n\n\n2\nINT\nInterrumpir (Ctrl+C)\nTerminar\nSi\nSi\nNo\n\n\n3\nQUIT\nSimilar a TERM\nTerminar\nSi\nSi\nSi\n\n\n9\nKILL\nMatar proceso\nTerminar\nNo\nNo\nNo\n\n\n*\nBUS\nError manejo bus\nTerminar\nSi\nSi\nSi\n\n\n11\nSEGV\nViolación de segmento\nTerminar\nSi\nSi\nSi\n\n\n15\nTERM\nParar software\nTerminar\nSi\nSi\nNo\n\n\n*\nSTOP\nParada\nParar\nNo\nNo\nNo\n\n\n*\nTSTP\nParada (Ctrl+Z)\nParar\nSi\nSi\nNo\n\n\n*\nCONT\nContinuar (tras STOP)\nContinuar\nSi\nNo\nNo\n\n\n*\nWINCH\nCambio tamaño\nContinuar\nSi\nSi\nNo\n\n\n*\nUSR1\nA definir\nTerminar\nSi\nSi\nNo\n\n\n*\nUSR2\nA definir\nTerminar\nSi\nSi\nNo\n\n\n\n*: depende del Sistema Operativo."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#señales-y-procesos",
    "href": "tema05-recursos/tema05-recursos.html#señales-y-procesos",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Señales y procesos",
    "text": "Señales y procesos\n\nKILL (9): No se puede bloquear ni capturar.\nINT (2): La que se envía al pulsar Crtl+C.\n\nSe puede bloquear.\nSi se manda a un intérprete de órdenes, podría cancelar la orden que está ejecutando, pero no el programa completo.\n\nTERM (15): La que se manda al cerrar el proceso padre o al reiniciar. Se puede bloquear y capturar.\nDiferencia entre STOP y TSP: STOP no se puede ni bloquear ni capturar."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#señales-y-procesos-1",
    "href": "tema05-recursos/tema05-recursos.html#señales-y-procesos-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Señales y procesos",
    "text": "Señales y procesos\n\nHUP (1):\n\nSi se trata de demonios, debería provocar que se reinicien, volviendo a leer su configuración.\nSi se trata de procesos iniciados en una terminal, se manda al cerrar la terminal (algunos intérpretes hacen inmunes los procesos background a esta señal, en bash, hay que hacerlo con el comando nohup).\n\nQUIT (3): Similar a TERM pero hace un core dump.\nTSTP: La que se envía al pulsar Crtl+Z.\nLos procesos detenidos con TSTP o con STOP, se puede reanudar con:\n\nla señal CONT, o usando el comando fg (vuelve al foreground) o bg (vuelve al background)."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#monitorizar-uso-cpu-con-uptime",
    "href": "tema05-recursos/tema05-recursos.html#monitorizar-uso-cpu-con-uptime",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Monitorizar uso CPU con uptime",
    "text": "Monitorizar uso CPU con uptime\nuptime: hora actual, cuánto tiempo lleva en marcha el sistema, número de usuarios conectados, y carga media del sistema (el número medio de procesos del sistema que durante los últimos \\(1\\), \\(5\\) y \\(15\\) minutos han estado en los estados R o D).\n\nValores altos implican que el sistema se está usando mucho, pero ¿cuándo se considera que un valor es alto? \\(\\rightarrow\\) depende del número de núcleos.\nValores bajos no significan que el tiempo de respuesta vaya a ser bajo.\n\ni02samoj@VTS1:~$ uptime\n 13:54:52 up  7:55,  4 users,  load average: 0,00, 0,00, 0,00"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#top",
    "href": "tema05-recursos/tema05-recursos.html#top",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "top",
    "text": "top\ntop: proporciona una visión continua de la actividad del procesador, en tiempo real, mostrando las tareas que hacen más uso de la CPU. Además, permite manipular procesos de forma interactiva.\n\nLas cinco líneas primeras muestran información general:\n\nEstadísticas uptime.\nResumen de procesos en el sistema: nº procesos, nº procesos en ejecución, durmiendo, parados o zombies.\nPorcentaje de tiempo de CPU gastado en: modo usuario (us), modo sistema o núcleo (sy), procesos valor nice positivo (ni), tiempo ocioso (id), procesos esperando eventos E/S (wa), tratando interrupciones (hardware o software, hi o si), espera involuntaria en virtualización (st).\nEstado actual de la memoria física: total disponible, usada, libre, usada en buffers.\nEspacio swap: total disponible, usada, libre, usada en buffers, usada en caché de página."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#top-ejemplo",
    "href": "tema05-recursos/tema05-recursos.html#top-ejemplo",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "top (ejemplo)",
    "text": "top (ejemplo)\ntop - 14:06:52 up  4:58,  1 user,  load average: 0,73, 1,04, 1,09\nTareas: 338 total,   1 ejecutar,  336 hibernar,    0 detener,    1 zombie\n%Cpu(s):  2,4 usuario,  1,2 sist,  0,0 adecuado, 96,0 inact,  0,0 en espera,  0,0 hardw int,  0,4 softw int,  0,0 roba\nMiB Mem :  31976,8 total,  16274,0 libre,   5729,4 usado,   9973,5 búfer/caché\nMiB Intercambio:   2048,0 total,   2048,0 libre,      0,0 usado.  24470,8 dispon Mem \n\n    PID USUARIO   PR  NI    VIRT    RES    SHR S  %CPU  %MEM     HORA+ ORDEN                                          \n    927 root      20   0 1059784 340240 279388 S   6,9   1,0  24:22.48 Xorg                                           \n  14955 javi      20   0   54,5g 300016 117956 S   5,6   0,9  10:38.54 code                                           \n  14926 javi      20   0   32,5g 129396  87796 S   5,0   0,4   3:36.17 code                                           \n  14860 javi      20   0  658428  69480  47412 S   3,0   0,2   0:28.59 mate-terminal                                  \n   1174 javi       9 -11 2460768  20644  15760 S   2,0   0,1   6:21.53 pulseaudio                                     \n   1402 javi      20   0  386468  80468  47844 S   1,3   0,2   4:31.08 marco                                          \n   2307 javi      20   0   20,6g 755064 283428 S   1,3   2,3  64:47.79 firefox-bin                                    \n  38250 javi      20   0   14892   4132   3296 R   1,0   0,0   0:00.15 top                                            \n   1292 javi      20   0  317004  11644   6160 S   0,7   0,0   2:24.85 ibus-daemon                                    \n   1916 javi      20   0 3680980 594664 237824 S   0,7   1,8   6:55.73 thunderbird                                    \n    710 root      20   0  486964  20516  17240 S   0,3   0,1   0:17.27 NetworkManager                                 \n   1424 javi      20   0  756152 108576  51740 S   0,3   0,3   1:02.19 mintmenu                                       \n   1569 javi      20   0 5177956 295572  76252 S   0,3   0,9   2:01.15 dropbox                                        \n  14892 javi      20   0   36,6g 191608 136864 S   0,3   0,6   1:47.41 code                                           \n  25532 root      20   0       0      0      0 I   0,3   0,0   0:05.80 kworker/u16:4-events_unbound                   \n  26234 javi      20   0 2574928 164384  95444 S   0,3   0,5   0:31.49 Isolated Web Co                                \n  29156 javi      20   0 1596016 205008 129828 S   0,3   0,6   0:21.91 VirtualBox                                     \n  29176 javi      20   0   77236  15284  12404 S   0,3   0,0   0:13.22 VBoxXPCOMIPCD                                  \n  31941 javi      20   0 2821780 302532 114364 S   0,3   0,9   1:02.87 Isolated Web Co"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#top-ejemplo-1",
    "href": "tema05-recursos/tema05-recursos.html#top-ejemplo-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "top (ejemplo)",
    "text": "top (ejemplo)"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#top-interacción",
    "href": "tema05-recursos/tema05-recursos.html#top-interacción",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "top: interacción",
    "text": "top: interacción\n\nLos datos de la parte inferior son similares a los de ps (excepto [SHR] memoria compartida disponible para ser utilizada).\nProcesos ordenados decrecientemente por uso de CPU.\nLista actualizada interactivamente, normalmente cada 5s o pulsar intro/espacio."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#top-interacción-1",
    "href": "tema05-recursos/tema05-recursos.html#top-interacción-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "top: interacción",
    "text": "top: interacción\n\nTareas sobre los procesos:\n\nCambiar la prioridad de alguno utilizando la opción “r”.\nMatar o enviar una señal con la opción “k”.\nOrdenarlos según diferentes criterios (por PID con “N”, uso de CPU con “P”, tiempo con “T”, por memoria con “M”, etc.).\nCon “n” se cambia el número de procesos que se muestran.\nPara salir se utiliza la letra “q”.\n“u” mostrar un usuario.\n“R” cambiar ordenación.\n“1” información independiente por cada procesador."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#alternativas-a-top",
    "href": "tema05-recursos/tema05-recursos.html#alternativas-a-top",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Alternativas a top",
    "text": "Alternativas a top\ntop viene con todas las distribuciones de linux, pero hay otras alternativas como htop"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#ejercicio-top",
    "href": "tema05-recursos/tema05-recursos.html#ejercicio-top",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Ejercicio top",
    "text": "Ejercicio top\n\nRecuerda que puedes ver la ayuda pulsando h.\nPrueba a monitorizar los procesos de un solo usuario.\nPrueba a ordenar por diferentes criterios. Busca el proceso que más memoria consume.\nBusca cómo saber el número de hilos del sistema.\nInstala htop y prueba de nuevo."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#vmstat",
    "href": "tema05-recursos/tema05-recursos.html#vmstat",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "vmstat",
    "text": "vmstat\n**vmstat [options] [delay [count]]: información sobre memoria virtual (y más)\n\nr \\(\\Rightarrow\\) número de procesos esperando su tiempo de ejecución.\nb \\(\\Rightarrow\\) número de procesos en espera ininterrumpible.\nus \\(\\Rightarrow\\) tiempo de CPU en modo usuario (modo usuario).\nsy \\(\\Rightarrow\\) tiempo de CPU en modo sistema (modo núcleo).\nid \\(\\Rightarrow\\) tiempo de CPU en inactividad.\nwa \\(\\Rightarrow\\) tiempo de CPU usado en espera de E/S.\nst \\(\\Rightarrow\\) tiempo de CPU usado en virtualización."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#vmstat-ejemplo",
    "href": "tema05-recursos/tema05-recursos.html#vmstat-ejemplo",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "vmstat: ejemplo",
    "text": "vmstat: ejemplo\nRepetir cada 2 segundos 5 veces:\n$ vmstat 2 5\nprocs  ----------memory------------ -swap- --io-- -system-- -----cpu------\nr  b   swpd     free   buff   cache si  so  bi bo  in    cs us sy id wa st\n0  0      0 10368052 221628 3251020  0   0 109 71  142  482 5  1 93  0   0\n0  0      0 10367408 221636 3251288  0   0   0 58 1526 7113 4  2 94  0   0\n0  0      0 10350648 221636 3269616  0   0   0  0 1165 3711 9  1 90  0   0\n1  0      0 10351420 221636 3268904  0   0   0  0  575 1578 6  0 93  0   0\n1  0      0 10345792 221636 3274928  0   0   0 26 2497 8090 6  3 91  0   0"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#carpeta-proc",
    "href": "tema05-recursos/tema05-recursos.html#carpeta-proc",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Carpeta /proc",
    "text": "Carpeta /proc\nps y top leen la información que necesitan de /proc.\nCada proceso tiene una carpeta (cuyo nombre es el pid) y en esa carpeta hay información sobre el mismo:\n\ncmdline: línea de comandos con que fue iniciado.\ncwd: enlace simbólico al directorio actual del proceso.\nenviron: Las variables de entorno en el momento de invocación.\nexe: enlace simbólico al fichero ejecutado.\nfd: carpeta con cualquier descriptor de fichero abierto.\nmaps: información de mapeo de memoria.\nroot: enlace simbólico a la raíz del sistema (/).\nstat: estado del proceso.\nstatm: uso de memoria."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#ejercicio-monitoriza-apache",
    "href": "tema05-recursos/tema05-recursos.html#ejercicio-monitoriza-apache",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Ejercicio: monitoriza apache",
    "text": "Ejercicio: monitoriza apache\n\nInstala las utilidades de apache:\n\nsudo apt install apache2-utils\n\nVamos a usar apache benchmark para probar el rendimiento de nuestro servidor. Nota: Idealmente ab debe utilizarse desde otra máquina distinta al servidor.\n\n# esto lanza 10000 peticiones con un máximo de 100 concurrentes\nab -n 10000 -c 100 http://localhost/\n\nAbre 3 terminales en tu servidor.\nInicia top para vigilar la CPU.\nLanza vmstat para mostrar información periódicamente.\nUsa ab y observa qué pasa."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#ejercicio-fork-bomb",
    "href": "tema05-recursos/tema05-recursos.html#ejercicio-fork-bomb",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Ejercicio: fork bomb",
    "text": "Ejercicio: fork bomb\nEl siguiente código lanza una subprocesos de forma recursiva :(){ :|:& };:. [ATENCIÓN: prueba esto sólo en tu máquina virtual]. Explicación en Understanding Bash fork() Bomb.\n\nLanza vmstat 1.\nLanza el ataque:\n\n:(){ :|:& };:\n\nIntenta arreglarlo.\n¿Cómo podemos protegernos frente a este ataque?"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#programar-ejecución-de-procesos-con-at",
    "href": "tema05-recursos/tema05-recursos.html#programar-ejecución-de-procesos-con-at",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Programar ejecución de procesos con at",
    "text": "Programar ejecución de procesos con at\nat: ejecutar tareas a una determinada hora (no viene instalado por defecto).\n\nPuede recibir un fichero de texto con las órdenes a ejecutar.\nDispone de un prompt para ir introduciendo las órdenes (Ctrl+D para finalizar introduce <EOT>).\natd: demonio que ejecuta las órdenes.\natq: consulta la lista de órdenes.\natrm: eliminar órdenes."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#at-ejemplo",
    "href": "tema05-recursos/tema05-recursos.html#at-ejemplo",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "at: ejemplo",
    "text": "at: ejemplo\n$ date\nlun 20 mar 2023 14:36:50 CET\n$ at 14:40\nwarning: commands will be executed using /bin/sh\nat> echo \"Hola Mundo\" > /tmp/saludo\nat> <EOT>\njob 3 at Mon Mar 20 14:40:00 2023\n$ atq \n3   Mon Mar 20 14:40:00 2023 a javi\n$ date ; cat /tmp/saludo\nlun 20 mar 2023 14:37:39 CET\ncat: /tmp/saludo: No existe el archivo o el directorio\n$ date ; cat /tmp/saludo\nlun 20 mar 2023 14:40:20 CET\nHola Mundo"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#tareas-periódicas-con-cron",
    "href": "tema05-recursos/tema05-recursos.html#tareas-periódicas-con-cron",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Tareas periódicas con cron",
    "text": "Tareas periódicas con cron\n\ncron: ejecutar tareas periódicamente.\n\ncrond: demonio encargado de ejecutar las órdenes.\ncrontab: establecer las tareas a ejecutar (-e: añadir/modificar tareas, -l: listar tareas, -r: eliminar tareas).\n/etc/crontab: fichero de configuración del administrador.\n/etc/cron.d: directorio en el que el administrador puede copiar ficheros con formato del crontab que ejecutará cron."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#crontab",
    "href": "tema05-recursos/tema05-recursos.html#crontab",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "crontab",
    "text": "crontab\n\nFormato de crontab:\nminuto hora día_mes mes día_semana [user] comando\nSe interpreta como una conjunción de condiciones, salvo para día_semana y día_mes (que sería disyunción).\nLos domingos son el día 0 y 7 de la semana.\n\n        # Hacer una copia de seguridad del home cada semana\n        0 5 * * 1       tar -zcf /var/backups/home.tgz /home/\n        # Otras tareas\n        5 9 * * *       $HOME/tareadiaria     # 9:05\n        15 14 1 * *     $HOME/tareames        # 14:15 el día 1 cada mes\n        0 22 * * 1-5    $HOME/tareasemanal    # 22:0 de lunes a viernes\n        21 0-23/2 * * * $HOME/tareacada2horas # 0h, 2h, 4h, 6h, y 21m\n        5 4 * * sun     $HOME/tareadomingos   # Domingos a las 4:05\n        0 9 1 * 5       $HOME/otratarea       # A las 9:00h el día 1 \n                                              # de cada mes O los viernes"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#anacron",
    "href": "tema05-recursos/tema05-recursos.html#anacron",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "anacron",
    "text": "anacron\n\nSi la máquina no está encendida cuando se ha requerido lanzar el proceso \\(\\Rightarrow\\) cron no lo lanza.\nSe podría hacer 0 10 */3 * * para conseguir algo parecido (lo intentaría a las 10h cada tres días).\nanacron: no asume que la máquina está siempre encendida.\n\nCombina el uso de scripts al inicio con el uso de cron.\nPermite especificar tareas diarias, semanales o mensuales, de forma muy simple.\nIntroducir aplicaciones o enlaces a las mismas en:\n\n/etc/cron.daily/, /etc/cron.hourly/, /etc/cron.monthly/, /etc/cron.weekly/"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#rastreo-de-señales-y-llamadas-al-sistema",
    "href": "tema05-recursos/tema05-recursos.html#rastreo-de-señales-y-llamadas-al-sistema",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Rastreo de señales y llamadas al sistema",
    "text": "Rastreo de señales y llamadas al sistema\nEl comando strace nos permite observar qué es lo que está haciendo un proceso.\nMuestra cada llamada al sistema que hace y cada señal que recibe.\n\nstrace -p pid: rastrear un proceso ya iniciado.\nstrace comando: iniciar un proceso y rastrearlo.\nstrace -o salida.txt comando: utilizar un fichero para guardar la salida.\n\nProcesos acaparadores:\n\nComo administradores, debemos sospechar cuando un proceso acapara mucha CPU.\nAntes de matarlos, deberíamos saber qué están haciendo.\nSi el proceso parece legítimo, deberíamos suspenderlo con STOP, aplicarle renice y reanudarlo con CONT tras hablar con el dueño del proceso."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#rastreo-de-señales-y-llamadas-al-sistema-1",
    "href": "tema05-recursos/tema05-recursos.html#rastreo-de-señales-y-llamadas-al-sistema-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Rastreo de señales y llamadas al sistema",
    "text": "Rastreo de señales y llamadas al sistema\n    while 1\n       mkdir adir\n       cd adir\n       touch afile\n    end\n\nNo consume mucho espacio, pero bloquea el uso del disco ¿por qué?.\nEl árbol que se genera es tan grande, que ni si quiera rm -R es capaz de manejarlo."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#controlgestión-de-la-actividad-de-la-memoria",
    "href": "tema05-recursos/tema05-recursos.html#controlgestión-de-la-actividad-de-la-memoria",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Control/gestión de la actividad de la memoria",
    "text": "Control/gestión de la actividad de la memoria\n\nIntercambio y paginación \\(\\Rightarrow\\) memoria virtual para alojar procesos.\nDebemos gestionar la RAM y la zona de intercambio.\nvmstat (todo en KBs):\n\nswpd \\(\\Rightarrow\\) Cantidad de memoria virtual (intercambio) ocupada.\nfree \\(\\Rightarrow\\) Cantidad de memoria virtual sin usar.\nbuff \\(\\Rightarrow\\) Cantidad de memoria empleada como buffers para E/S (memoria temporal empleada por algunos dispositivos, p.ej. una tarjeta de red).\ncache \\(\\Rightarrow\\) La cantidad de memoria empleada como caché de disco.\n\n\n$ vmstat 2 2\nprocs ------------memory---------- --swap- --io-- -system-- -----cpu------\nr  b  swpd     free   buff   cache  si  so  bi bo  in    cs us sy id wa st\n0  0     0 10368052 221628 3251020  0   0  109 71  142  482 5  1 93  0   0\n0  0     0 10367408 221636 3251288  0   0    0 58 1526 7113 4  2 94  0   0"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#controlgestión-de-la-actividad-de-la-memoria-1",
    "href": "tema05-recursos/tema05-recursos.html#controlgestión-de-la-actividad-de-la-memoria-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Control/gestión de la actividad de la memoria",
    "text": "Control/gestión de la actividad de la memoria\n\nvmstat\n\nsi \\(\\Rightarrow\\) Cantidad de memoria traída del espacio de intercambio desde disco en KB/s.\nso \\(\\Rightarrow\\) Cantidad de memoria intercambiada al disco en KB/s.\nbi \\(\\Rightarrow\\) Bloques recibidos desde un dispositivo de bloques (en bloques/s).\nbo \\(\\Rightarrow\\) Bloques enviados a un dispositivo de bloques (en bloques/s).\nin \\(\\Rightarrow\\) Nº de interrupciones por segundo (contando el reloj).\ncs \\(\\Rightarrow\\) Nº de cambios de contexto por segundo.\n\n\n$ vmstat 2 2\nprocs ------------memory---------- --swap- --io-- -system-- -----cpu------\nr  b  swpd     free   buff   cache  si  so  bi bo   in   cs us sy id wa st\n0  0     0 10368052 221628 3251020   0   0 109 71  142  482 5  1 93  0   0\n0  0     0 10367408 221636 3251288   0   0   0 58 1526 7113 4  2 94  0   0"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#memoria-de-intercambio",
    "href": "tema05-recursos/tema05-recursos.html#memoria-de-intercambio",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Memoria de intercambio",
    "text": "Memoria de intercambio\nEspacio para paginación:\n\n¿Qué tamaño es el adecuado para la paginación?. Depende:\n\nMemoria requerida por los procesos, número de procesos simultáneos, etc…\nDemanda del sistema.\nEn portátiles, para posibilitar la hibernación, al menos tanto espacio como memoria RAM.\n\nSe puede tener una partición de intercambio o un fichero de intercambio, ¿qué opción es la mejor?\nSe puede controlar con números de prioridad en /etc/fstab."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#gestión-memoria-de-intercambio",
    "href": "tema05-recursos/tema05-recursos.html#gestión-memoria-de-intercambio",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Gestión memoria de intercambio:",
    "text": "Gestión memoria de intercambio:\nEspacio para paginación:\n\nswapon -s: nos da un listado de particiones o ficheros activos.\nswapon /dev/sdd1: activar una determinada partición.\nswapoff /dev/sdd1: desactivar una determinada partición.\n¿Cómo se crea un fichero de paginación?\n\n# El fichero debe ser contiguo en disco\nsudo dd if=/dev/zero of=/.fichero_swap bs=1048576 count=1024\nsudo mkswap /.fichero_swap\nsudo sync\nsudo swapon /.fichero_swap"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#uso-de-memoria-free",
    "href": "tema05-recursos/tema05-recursos.html#uso-de-memoria-free",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Uso de memoria: free",
    "text": "Uso de memoria: free\nfree: obtener información sobre el uso de memoria (mismos campos que top).\n$ free\ntotal        used        free      shared  buff/cache   available\nMem:     16203968     3778368     3046064      570784     9379536    11514988\nSwap:           0           0           0"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#espacio-en-disco-df",
    "href": "tema05-recursos/tema05-recursos.html#espacio-en-disco-df",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Espacio en disco: df",
    "text": "Espacio en disco: df\nEspacio en disco (particiones):\n\ndf: muestra la capacidad, el espacio libre y el punto de montaje de cada sistema de ficheros del equipo.\n\n$ df -h\nS.ficheros     Tamaño Usados  Disp Uso% Montado en\nudev             7,7G      0  7,7G   0% /dev\ntmpfs            1,6G   1,8M  1,6G   1% /run\n/dev/nvme0n1p6    58G    32G   24G  58% /\ntmpfs            7,8G   279M  7,5G   4% /dev/shm\ntmpfs            5,0M   4,0K  5,0M   1% /run/lock\n/dev/nvme0n1p5   314G   131G  167G  45% /home\n/dev/loop1        83M    83M     0 100% /snap/scrcpy/274\n...\n\nSi el sistema de ficheros raíz se quedase sin espacio el sistema tendría problemas. P.ej., no podría arrancar, (¿por qué?).\n“-i” nos permite mostrar información sobre los nodos-i.\n\n$ df -i /dev/nvme0n1p5\nS.ficheros      Nodos-i NUsados  NLibres NUso% Montado en\n/dev/nvme0n1p5 20946944 1021112 19925832    5% /home"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#espacio-en-disco-du",
    "href": "tema05-recursos/tema05-recursos.html#espacio-en-disco-du",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Espacio en disco: du",
    "text": "Espacio en disco: du\nEspacio en disco (carpetas):\n\ndu: muestra el espacio usado por cada subdirectorio del directorio actual.\n\n/PAS$ du -h --max-depth=1\n196K    ./Programa2021\n176K    ./logs\n32K ./reservas\n79M ./Evaluacion\n45M ./MaterialDocente\n6,9M    ./guiaDocente\n1,4M    ./listaClase\n133M\n\nSi no ponemos --max-depth=1 nos muestra todas las carpetas.\nLa última línea es el acumulado.\n¡OJO! du cuenta bloques del sistema de ficheros, estén o no completamente ocupados (para un fichero de 1B cuenta 4 KB)."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#estadísticas-memoria-iostat",
    "href": "tema05-recursos/tema05-recursos.html#estadísticas-memoria-iostat",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Estadísticas memoria: iostat",
    "text": "Estadísticas memoria: iostat\nEstadísticas de entrada/salida de disco\niostat intervalo numero: presenta estadísticas sobre la CPU y los dispositivos y particiones de E/S.\n\ntps \\(\\Rightarrow\\) nº de transferencias por segundo.\nkB_read/s \\(\\Rightarrow\\) nº de kBs leídos por segundo.\nkB_wrtn/s \\(\\Rightarrow\\) nº de kBs escritos por segundo.\nkB_read \\(\\Rightarrow\\) nº total de kBs leídos.\nkB_wrtn \\(\\Rightarrow\\) nº total de kBs escritos.\n\n$ iostat \nLinux 5.4.0-144-generic     20/03/23    _x86_64_    (8 CPU)\n\navg-cpu:  %user   %nice %system %iowait  %steal   %idle\n           7,41    0,79    2,62    0,91    0,00   88,28\n\nDevice             tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn\nloop0             0,11         0,91         0,00       1158          0\n...\nnvme0n1         218,69      3299,26      2384,25    4185145    3024449\nloop8             0,09         0,89         0,00       1131          0\nloop9             0,13         0,93         0,00       1181          0\n...\ndm-0            208,57      1415,84       427,96    1796005     542868"
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#procesos-y-acceso-a-disco-iotop",
    "href": "tema05-recursos/tema05-recursos.html#procesos-y-acceso-a-disco-iotop",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Procesos y acceso a disco: iotop",
    "text": "Procesos y acceso a disco: iotop\niotop:\n\nIs your Linux server too slow or load is too high? One of the possible causes of such symptoms may be high IO (input/output) waiting time, which basically means that some of your processes need to read or write to a hard drive while it is too slow and not ready yet, serving data for some other processes.\nCommon practice is to use iostat -x in order to find out which block device (hard drive) is slow, but this information is not always helpful. It could help you much more if you knew which process reads or writes the most data from your slow disk, so you could renice it using ionice or even kill it.\niotop identifies processes that use high amount of input/output requests on your machine. It is similar to the well known top utility, but instead of showing you what consumes CPU the most, it lists processes by their IO usage. Inspired by iotop Python script from Guillaume Chazarain, rewritten in C by Vyacheslav Trushkin and improved by Boian Bonev so it runs without Python at all."
  },
  {
    "objectID": "tema05-recursos/tema05-recursos.html#referencias-1",
    "href": "tema05-recursos/tema05-recursos.html#referencias-1",
    "title": "Tema 5: Gestión de recursos del sistema",
    "section": "Referencias",
    "text": "Referencias\nEvi Nemeth, Garth Snyder, Trent R. Hein, Ben Whaley y Dan Mackin. Unix and Linux system administration handbook. Capítulo 4. Process Control, Capítulo 10. Logging. Addison-Wesley. 5th Edition. 2018.\nAeleen Frisch. Essential system administration. Capítulo 15. Managing system resources. O’Reilly and Associates. Tercera edición. 2002."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html",
    "href": "tema01-introduccion/tema01-introduccion.html",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "",
    "text": "Distinguir entre las distintas generaciones de sistemas operativos y cómo va surgiendo la necesidad de administrar dichos sistemas operativos o servicios.\nEnumerar los sistemas operativos más usuales.\nDefinir el sistema informático de una organización.\nDefinir el Departamento de Informática, sus funciones y su organización.\nDefinir el rol del administrador de sistemas dentro de una organización.\nEnumerar las tareas típicas del administrador de sistemas, incluyendo tareas a nivel hardware, mantenimiento software y documentación, soporte a usuarios, servicios, seguridad y copias de seguridad.\nDefinir estrategias y consejos genéricos en administración de sistemas.\n\n\n\n\n\nExplicar qué es GNULinux, cómo surge, su filosofía y las principales distribuciones de las que disponemos, destacando las más adecuadas para administración de sistemas.\nDefinir qué es el software libre y dar ejemplos de software que no sea libre.\nEnumerar las ventajas del software libre para la administración de sistemas.\nIdentificar el nivel de calado del software libre en administración de sistemas.\nEnumerar desventajas del software libre.\nEnumerar ventajas y desventajas del uso de interfaces gráficas de usuario en administración de sistemas.\nSaber qué es un superusuario y cómo se pueden realizar tareas como superusuario mediante la herramienta sudo.\nUsar herramientas de GNU/Linux para comunicarse con otros usuarios del sistema."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#generaciones-de-los-sistemas-operativos",
    "href": "tema01-introduccion/tema01-introduccion.html#generaciones-de-los-sistemas-operativos",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Generaciones de los sistemas operativos",
    "text": "Generaciones de los sistemas operativos\nPrimera generación (1945-1955)\n\nOrdenadores muy voluminosos, tarjetas perforadas.\nNo necesitaban Sistema Operativo (SO), el operario introducía la tarjeta con el código correspondiente.\n\n\n\n\n\n\n\n\n\n\n\n\nFuente: https://es.wikipedia.org/wiki/Error_de_software\nFuente: https://en.wikipedia.org/wiki/Patch_%28computing%29"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#generaciones-de-los-sistemas-operativos-1",
    "href": "tema01-introduccion/tema01-introduccion.html#generaciones-de-los-sistemas-operativos-1",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Generaciones de los sistemas operativos",
    "text": "Generaciones de los sistemas operativos\nSegunda generación (1955-1968)\n\nAparecen los transistores, los ordenadores disminuyen de tamaño y se puede empezar a pensar en SOs.\nLenguaje de Control de Tareas (JCL).\nLenguajes de alto nivel y de bajo nivel (assembler).\nSe comienza a hablar de superusuarios y de usuarios.\nDispositivos de entrada/salida (cintas magnéticas…)."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#generaciones-de-los-sistemas-operativos-2",
    "href": "tema01-introduccion/tema01-introduccion.html#generaciones-de-los-sistemas-operativos-2",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Generaciones de los sistemas operativos",
    "text": "Generaciones de los sistemas operativos\nTercera generación (1968-1981)\n\nAparecen los circuitos integrados (Large Scale Integration, LSI), que incluyen multitud de componentes electrónicos.\nComienzan a aparecer equipos de propósito general.\nNuevos conceptos: escalabilidad, multiprogramación, discos duros.\nMultiprogramación \\(\\rightarrow\\) buffering, gestión de procesos en el SO…\nInfrautilización de los ciclos de CPU \\(\\rightarrow\\) sistemas de tiempo compartido."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#generaciones-de-los-sistemas-operativos-3",
    "href": "tema01-introduccion/tema01-introduccion.html#generaciones-de-los-sistemas-operativos-3",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Generaciones de los sistemas operativos",
    "text": "Generaciones de los sistemas operativos\nCuarta generación (1981-2001)\n\nAparecen los Very Large Scale Integration, VLSI, y los microprocesadores: ORDENADOR PERSONAL.\nConectividad de dispositivos (Plug and play).\nAplicaciones cliente/servidor.\nMáquinas virtuales, porciones virtuales…\n\nQuinta generación\n\nTendencia a que los ordenadores los puedan manejar personas no expertas en la informática."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#sistemas-operativos-históricos",
    "href": "tema01-introduccion/tema01-introduccion.html#sistemas-operativos-históricos",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Sistemas operativos históricos",
    "text": "Sistemas operativos históricos\n\n\n\nUNIX: Es un sistema operativo, multitarea y multiusuario; desarrollado en principio por un grupo de empleados de los laboratorios Bell de AT&T.\nMac OS: es el nombre del primer sistema operativo de Apple para los ordenadores Macintosh.\nWindows: Es un sistema operativo gráfico para ordenadores personales cuyo propietario es la empresa Microsoft."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#sistemas-operativos-actuales",
    "href": "tema01-introduccion/tema01-introduccion.html#sistemas-operativos-actuales",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Sistemas operativos actuales",
    "text": "Sistemas operativos actuales"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#cuotas-sistemas-operativos",
    "href": "tema01-introduccion/tema01-introduccion.html#cuotas-sistemas-operativos",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Cuotas sistemas operativos",
    "text": "Cuotas sistemas operativos"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#el-sistema-informático",
    "href": "tema01-introduccion/tema01-introduccion.html#el-sistema-informático",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "El sistema informático",
    "text": "El sistema informático\n\nÓpticas posibles del Sistema Informático de una organización\n\nPara la organización: es un departamento como cualquier otro, con unos recursos disponibles para el resto de departamentos.\nPara los informáticos: es un conjunto de servidores, redes y ordenadores personales para “hacer cosas”.\nPara los usuarios: es una herramienta más que proporciona la organización para mejorar su tarea.\nPara la dirección: lo usan como una gran base de datos para hacer consultas que pueden ayudarles en la toma de decisiones."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#el-departamento-de-informática",
    "href": "tema01-introduccion/tema01-introduccion.html#el-departamento-de-informática",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "El Departamento de Informática",
    "text": "El Departamento de Informática\n\nEl Departamento de Informática (o Departamento de Tecnologías de la Información, término algo más general), se encarga de mantener y gestionar el Sistema Informático."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#tareas-del-departamento-de-informática",
    "href": "tema01-introduccion/tema01-introduccion.html#tareas-del-departamento-de-informática",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Tareas del Departamento de Informática",
    "text": "Tareas del Departamento de Informática\n\n\nSistema Informático Físico: Hardware:\n\nServidores: múltiples servidores especializados \\(\\rightarrow\\) + control, - riesgo de fallos.\nOrdenadores Personales y dispositivos móviles: prácticamente uno por trabajador.\nCableado y electrónica de red (concentradores, encaminadores, cortafuegos y conmutadores).\n[Centro de datos]: sala con condiciones físicas y de seguridad para los servidores.\n\nSoftware:\n\nSistemas Operativos: se debe hacer distinción entre el SO/servicios de los servidores/nube y el de los PCs.\nSoftware empresarial de base.\nAplicaciones específicas.\n\nPersonal: Responsable de Informática y Personal Técnico."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática",
    "href": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Funciones del Dept. de Informática",
    "text": "Funciones del Dept. de Informática"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-1",
    "href": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-1",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Funciones del Dept. de Informática",
    "text": "Funciones del Dept. de Informática\nAlgunos ejemplos de tareas:\n\nAdministración de servidores\n\nInstalar, mantener y reparar los servidores que prestan los servicios del sistema informático de la organización.\n\n\n\nAdministración de usuarios\n\nAtención de las necesidades de los usuarios.\nMantenimiento de sus equipos de sobremesa (microinformática).\nParte más “visible” de sus funciones."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-2",
    "href": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-2",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Funciones del Dept. de Informática",
    "text": "Funciones del Dept. de Informática\n\nAdministración de la red\n\nResponsabilidad sobre la parte física de la red.\nAsegurar que se encuentra en buen funcionamiento y que llega, de forma óptima, a todos los puntos de la organización.\n\n\n\nAdministración de los datos\n\nMantener la integridad de la información de la organización.\nLa información debería de estar en los servidores (aunque a veces se encuentra distribuida por todo el sistema).\n¿Minería de datos?."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-3",
    "href": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-3",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Funciones del Dept. de Informática",
    "text": "Funciones del Dept. de Informática\n\nAdministración de la web:\n\nMantenimiento del servidor web y, muchas veces, del contenido de la web.\nHomogeneidad global.\n\n\n\nAdministración de la seguridad\n\nLa seguridad informática es compleja:\n\nDesde la seguridad de la información existente,\nhasta la protección física contra robos, incendios…\n\nTarea presente en todas las funciones."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-4",
    "href": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-4",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Funciones del Dept. de Informática",
    "text": "Funciones del Dept. de Informática\n\nDesarrollo\n\nUna organización suele necesitar software específico.\nA veces, en lugar de comprarlo, se desarrolla. Ejemplos de aplicaciones en la UCO.\nEsta asignatura no cubre este aspecto, en todo caso, cubriría su implantación.\n\n\n\nResponsable de Informática\n\nEs el enlace entre:\n\nlas necesidades de la empresa,\ny el trabajo que se lleva a cabo en el departamento.\n\nDecide: qué software comprar (o si se hace a medida y cómo), servidores necesarios, ordenadores y red de comunicaciones…"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-5",
    "href": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-5",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Funciones del Dept. de Informática",
    "text": "Funciones del Dept. de Informática\nUCO: Servicio de Informática\n\nSistemas y Comunicaciones: servidores, correo, comunicaciones, infraestructura…\nDesarrollo y Explotación: aplicaciones propias y externas.\nSoporte: administración electrónica, docencia…\nÁrea de Gestión: usuarios, licencias de software, web, sigma…"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#interdependencia",
    "href": "tema01-introduccion/tema01-introduccion.html#interdependencia",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Interdependencia",
    "text": "Interdependencia\n\n\nInterdependencia\n\nCada función \\(\\rightarrow\\) tareas definidas.\nSin embargo, no son independientes, sino que tienen que trabajar coordinadas.\nLas funciones tienen intersecciones en algunos puntos.\nAlgunas tareas tienen que estar mezcladas para conseguir una gestión, un servicio y una atención al usuario en las mejores condiciones posibles."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-6",
    "href": "tema01-introduccion/tema01-introduccion.html#funciones-del-dept.-de-informática-6",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Funciones del Dept. de Informática",
    "text": "Funciones del Dept. de Informática\n\n\n¿Dar de alta a un usuario en los servicios es una tarea para el administrador de usuarios o para el administrador de servidores?\n\nSi es la misma persona quien hace las dos funciones, no hay problema.\nSi no lo es, se tiene que decidir quién se encarga:\n\nEn caso de que lo haga la persona que administra los servidores, se ha dividido la tarea de dar de alta a los usuarios (y todo lo que comporta) en diversas personas. Hay que valorar si vale la pena.\nSi sólo lo hace la persona que administra a los usuarios, entonces “manipulará” los servidores para hacerlo. Hay que valorar si ello es prudente."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#rol-de-administración-de-sistemas",
    "href": "tema01-introduccion/tema01-introduccion.html#rol-de-administración-de-sistemas",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Rol de administración de sistemas",
    "text": "Rol de administración de sistemas\n\nUn Administrador/a de Sistemas es la persona que tiene la responsabilidad de implementar, configurar, mantener, monitorizar, documentar y asegurar el correcto funcionamiento de un sistema informático, o algún aspecto de éste.\n\n\nEl Administrador/a del Sistemas tiene por objeto garantizar el tiempo de actividad (uptime), rendimiento, uso de recursos y la seguridad de los servidores que administra de forma proactiva.\n\nFuente: http://es.wikipedia.org/wiki/Administrador_de_sistemas\nDentro vídeo: The IT crowd"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#rol-de-administración-de-sistemas-1",
    "href": "tema01-introduccion/tema01-introduccion.html#rol-de-administración-de-sistemas-1",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Rol de administración de sistemas",
    "text": "Rol de administración de sistemas\n\n\nPersona con el poder y la responsabilidad de establecer:\n\nacciones,\nprocedimientos,\ny normas, para lograr que el sistema informático sea:\neficiente,\nseguro,\nfiable,\ny amigable.\n\nCualidades:Autoridad + responsabilidad + servicio + cooperación"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#rol-de-administración-de-sistemas-2",
    "href": "tema01-introduccion/tema01-introduccion.html#rol-de-administración-de-sistemas-2",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Rol de administración de sistemas",
    "text": "Rol de administración de sistemas\n\n¿Qué se espera del administrador?\n\nAmplios conocimientos de todo el sistema: hardware, software, datos, usuarios…\nCapacidad reconocida para tomar decisiones.\nAmbición y espíritu de superación.\nEficacia y moral irreprochables.\nResponsabilidad: se trabaja con datos muy importantes, hay un jefe por encima…"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-nivel-más-hardware",
    "href": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-nivel-más-hardware",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Tareas detalladas: nivel más hardware",
    "text": "Tareas detalladas: nivel más hardware\n\nPlanificar y administrar el entorno físico:\n\nDiseñar la habitación, especificar el sistema de refrigeración, las conexiones de energía, el control del entorno (alarma contraincendios, seguridad física…).\n\nPlanificar los cortes de suministro para realizar actualizaciones o para administrar los dispositivos.\nLocalizar, reparar y reemplazar componentes hardware defectuosos.\nConfigurar y mantener la conectividad entre los hosts (redes):\n\nMonitorización, Resolución de problemas, Calidad de servicio…\n\nInstalar y mantener dispositivos del sistema, hardware y drivers. Especificar dispositivos soportados."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-mantenimiento-software-y-documentación",
    "href": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-mantenimiento-software-y-documentación",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Tareas detalladas: mantenimiento software y documentación",
    "text": "Tareas detalladas: mantenimiento software y documentación\n\nMantenimiento software:\n\nInstalación y configuración de sistemas operativos.\nDetección de problemas en el software y reparación.\nConfigurar y mantener aplicaciones de negocio:\n\nAplicaciones propias (p.ej. Sigma en la UCO).\ne-mail.\nAgendas, calendarios…\n\n\nDocumentación:\n\nDocumentar todo el sistema.\nMantener documentos sobre configuraciones locales y políticas locales."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-soporte-a-usuarios",
    "href": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-soporte-a-usuarios",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Tareas detalladas: soporte a usuarios",
    "text": "Tareas detalladas: soporte a usuarios\n\n\nFormar a los usuarios en el manejo del software y en seguridad.\nAyudar a los usuarios y proporcionar soporte.\nEstablecer un sistema de rastreo de problemas para contestar las cuestiones de los usuarios (sistema Hermes de la UCO para notificación de incidencias).\nAsegurar que los usuarios tiene acceso a toda la documentación."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-servicios",
    "href": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-servicios",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Tareas detalladas: servicios",
    "text": "Tareas detalladas: servicios\n\nInstalar y mantener las cuentas de usuario, desarrollar políticas de uso aceptables y de nombrado de usuarios, instalar/configurar/administrar servicio de nombres, manejar las licencias de software…\nDeterminar los requisitos software, los parches a instalar, los servicios a proporcionar y cuáles deshabilitar.\nConfigurar los servicios de red (con sus políticas y sus requisitos de seguridad):\n\nImpresión, ficheros compartidos, servicio de nombres…\n\nInstalar, configurar y administrar servidores web."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-seguridad",
    "href": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-seguridad",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Tareas detalladas: seguridad",
    "text": "Tareas detalladas: seguridad\n\n\n\nDeterminar cuotas de disco, políticas de manejo del espacio y monitorizar los ficheros de log.\n\n\n \n\n\n\nConfigurar y manejar la seguridad del sistema:\n\nSeguridad para aplicaciones de negocio.\nLectura de listas de correo de seguridad y de alertas CERT (https://cert.europa.eu/), SNORT (reglas firewall liberadas, pago por alertas inmediatas).\nInstalar y configurar firewall para limitar el acceso de intrusos.\nRecabar evidencias en caso de intrusión y limpiar el rastro."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-copias-de-seguridad",
    "href": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-copias-de-seguridad",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Tareas detalladas: copias de seguridad",
    "text": "Tareas detalladas: copias de seguridad"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-copias-de-seguridad-1",
    "href": "tema01-introduccion/tema01-introduccion.html#tareas-detalladas-copias-de-seguridad-1",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Tareas detalladas: copias de seguridad",
    "text": "Tareas detalladas: copias de seguridad\n\nConfigurar y mantener backups del sistema:\n\nDeterminar la estrategia y las políticas de copias de seguridad.\nConfigurar el software de copia.\nRealizar/automatizar copias.\nMantener logs.\nDeterminar planes de supervivencia a catástrofes.\nRealizar restauraciones.\nComprobar la integridad de las copias."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#estrategia-general",
    "href": "tema01-introduccion/tema01-introduccion.html#estrategia-general",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Estrategia general",
    "text": "Estrategia general\n\nEstrategia al realizar una tarea:\n\nPlanearlo antes de hacer los cambios, haciendo un estudio detallado de los pasos que hay que realizar.\nHacer los cambios reversibles, haciendo copia de seguridad del sistema o de los ficheros de configuración a modificar.\nRealizar los cambios de forma incremental, probándolos si fuese posible (más fácil localizar los fallos).\nProbarlo, probarlo, probarlo, …, antes de hacerlo público.\nConocer realmente cómo trabajan las cosas.\n\nCuando se realice cualquier modificación:\n\nPrecaución antes de… probarlo después de…\n\nCuaderno de bitácora."
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#tareas-de-soporte-a-organización-y-tareas-devops",
    "href": "tema01-introduccion/tema01-introduccion.html#tareas-de-soporte-a-organización-y-tareas-devops",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Tareas de soporte a organización y tareas DevOps",
    "text": "Tareas de soporte a organización y tareas DevOps\n\n\n\n\nDespués del perfil “clásico” de administración de sistemas que hemos visto como soporte a una organización resulta pertinente echar un vistazo al de soporte al desarrollo y despliegue de aplicaciones.\nDevOps (acrónimo del inglés): es un conjunto de prácticas que agrupan el desarrollo de software ( Dev ) y las operaciones de TI (Ops ) roadmap.sh/devops"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#tecnologías-y-productos-para-devops",
    "href": "tema01-introduccion/tema01-introduccion.html#tecnologías-y-productos-para-devops",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Tecnologías y productos para DevOps",
    "text": "Tecnologías y productos para DevOps"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#vale-pero-por-dónde-empezar",
    "href": "tema01-introduccion/tema01-introduccion.html#vale-pero-por-dónde-empezar",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Vale, ¿pero por dónde empezar?",
    "text": "Vale, ¿pero por dónde empezar?\n\nInstalar GNU/Linux:\n\nIdeal: Uso cotidiano como sistema operativo de tu PC\nMenos ideal: Máquina virtual\n\nAprende a “vivir en la terminal”:\n\nEl Arte del Terminal.\n\nAprende algún editor de texto para el terminal:\n\nFácil: nano\nIntermedio-productivo: vi/vim viene instalado en todas las distribuciones de GNU/Linux y *BSD\nDifícil-Pro: emacs: “emacs está bien como sistema operativo pero le falta un buen editor de texto”"
  },
  {
    "objectID": "tema01-introduccion/tema01-introduccion.html#vim-vs-emacs",
    "href": "tema01-introduccion/tema01-introduccion.html#vim-vs-emacs",
    "title": "Tema 1: Introducción a la administración de sistemas",
    "section": "Vim vs Emacs",
    "text": "Vim vs Emacs"
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html",
    "href": "tema01-introduccion/tema01-software-libre.html",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "",
    "text": "Los albores de la informática...\nAños 60-70\n\nPocas Computadoras:\n\nGrandes computadoras o mainframes\nMuy pocos y muy caros\n\nSe desarrolla software artesanal:\n\nEl negocio estaba en el hardware\nPoca variedad de software \\(\\Rightarrow\\) muy específico\nSe dispone del código fuente y los desarrolladores de software compartían libremente sus programas unos con otros\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAparecen las computadoras más modernas y más baratas \\(\\Rightarrow\\) necesidad de software.\nEl software privativo se hace fuerte (Vídeo: Piratas Silicon Valley):\n\nImpiden a los usuarios modificar el software\nEn caso de encontrar un error \\(\\Rightarrow\\) comunicar a la empresa desarrolladora de ese software\n\n\n\nFuente History of Microsoft\n\n\n\n\n\n\n\nAños 80: Emerge Richard Stallman\n\n1984: comenzó a trabajar en el proyecto GNU.\n1985: funda la Free Software Foundation (FSF). Se introdujeron los conceptos de:\n\nFree Software (as in speech)\nCopyleft\n\nNace el movimiento social del software libre.\n\n\n\n\n\n\n\n\n\n\n\nAños 90: en 1991 Linus Torvalds crea el primer núcleo del sistema operativo GNU/Linux.\n\n\n\n\n\n\n\nControversia: http://es.wikipedia.org/wiki/Controversia_por_la_denominaci%C3%B3n_GNU/Linux\n\n\n\n\n\nFuente: https://www.gnu.org/education/education.es.html\n\n\n\n\n\n\nLibertad 0: usar el programa, con cualquier propósito.\nLibertad 1: estudiar cómo funciona el programa, y adaptarlo a tus necesidades.\nLibertad 2: distribuir copias, con lo que puedes ayudar a tu vecino.\nLibertad 3: mejorar el programa y hacer públicas las mejoras a los demás, de modo que toda la comunidad se beneficie.\n\n\n\n\n\n\n\n\n\n¿Y si alguien toma parte de mi software y lo utiliza de forma privativa?\n\n\ncopyleft: Restricción que se añade al software libre que impide que alguien distribuya copias o modificaciones restringiendo las 4 libertades\n\n\n\n\n\n\n\n\n\n\n\nLicencias libres (choosealicense.com)\n\nGarantizar las libertades\n\nSe utilizan licencias\nSe apoyan en el sistema de copyrigth (que pretenden reemplazar)\nNecesidad práctica no ideal\n\n\n\n\n\nCon copyleft:\n\nGPL/AGPL: GNU General Public License\nMPL: Mozilla Public License\nCC-sa: Creative Commons-Share Alike\n\n\nSin copyleft:\n\nBSD: Berkeley Software Distribution\nMIT: Massachusetts Institute of Technology\nCC: Creative Commons\n\n\n\n\n\n\n\n\n\n\n\nSegún la Free Software Foundation se entiende por software libre aquél que concede cuatro libertades a sus usuarios:\n\nLibertad 0: La libertad de usar el programa, con cualquier propósito. De modo que uno puede instalarlo en cuantas computadoras desee, sin pagar licencias, por tiempo ilimitado y para cualquier tipo de uso, incluyendo comerciales.\nLibertad 1: La libertad de estudiar cómo funciona el programa, y adaptarlo a sus necesidades. Así pues uno puede traducirlo a su idioma, corregir algún fallo o añadir alguna funcionalidad. No se depende de los intereses del productor original, sino que puede hacerlo uno mismo o encargárselo a alguien que tenga los conocimientos para hacerlo. Requiere el acceso al código.\n\n\n\n\n\nLibertad 2: La libertad de distribuir copias, con lo que un profesor puede dar copias del software a sus alumnos, y éstos copiárselo a sus amigos. Las copias no tienen porqué ser gratuitas, sino que es lícito cobrar por ellas. Al difundir el programa estaremos ayudando no sólo a otras personas, sino también al autor: su programa llega a más gente, y esto hace que reciba más sugerencias para mejorarlo, y más gente dispuesta a ayudarle en el desarrollo.\nLibertad 3: La libertad de mejorar el programa y hacer públicas las mejoras a los demás, de modo que toda la comunidad se beneficie. El acceso al código fuente también es un requisito para ello. Lo más habitual es enviar las mejoras a los autores originales para que las incorporen al programa. Así llegan a todos los usuarios y no hay que volver a hacer las modificaciones en futuras versiones.\n\n\n\n\nEstas cuatro libertades son las que definen el modelo del software libre, y todas sus demás características son consecuencia de ellas.\nPara que un programa sea considerado software libre, debe facilitar todas y cada una de estas libertades.\nEl software que no es libre suele designarse con los términos “software privativo” o “software propietario”. Tanto el software libre como el privativo puede ser, o no ser, comercial.\n\n\n\n\nSoftware de dominio público: Se denomina software de dominio público a aquél que no tiene copyright (derechos de autor), porque el autor ha renunciado a ellos. En caso de que el código fuente del programa fuera también de dominio público, se trataría de un tipo de software libre. Sin embargo, la inmensa mayoría del software libre sí tiene derechos de autor, si bien los autores autorizan los usos descritos anteriormente.\nSoftware semilibre: El software semilibre es aquel que proporciona las mismas libertades que el software libre, siempre y cuando sea usado sin ánimo de lucro. Un ejemplo es el sistema de cifrado PGP.\n\n\n\n\n\nFreeware o software gratuito: Existen muchos programas que se pueden descargar gratuitamente de Internet. Estos programas son gratuitos, pero no libres. Normalmente no dan acceso al “código fuente”, por lo que no pueden modificarse, traducirse, etc. Con frecuencia también se prohíbe vender una copia a alguien dispuesto a comprarla. Por otra parte, el software libre no tiene porqué ser gratuito y se puede cobrar la cantidad que estime oportuna por proporcionar una copia. Dos ejemplos de freeware son Microsoft Edge (anterior Internet Explorer) y Adobe Reader.\nShareware: programas que el autor permite utilizar, pero condicionando su uso. Por ejemplo, puede exigir que se pague por él si se emplea más allá de un determinado periodo de evaluación. A veces se distribuye una versión reducida de los programas y hay que pagar para poder disfrutar del programa en toda su capacidad. Normalmente tampoco se ofrece el código fuente. El compresor de ficheros WinRAR, o el programa de chat mIRC son shareware.\n\n\n\n\n\nSoftware con fuentes: Con algunos programas se entrega el código fuente, para que el usuario pueda comprobar que no hace nada malicioso, pero eso no los hace libres, si su licencia no permite su modificación y redistribución sin condiciones excesivamente restrictivas. Las primeras versiones de Unix, bajo licencia de AT&T, incluían el código fuente, pero quedaba prohibida su redistribución a terceras partes. Además, a veces puede ser difícil asegurar que el código publicado corresponde al ejecutable."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#cronología-de-gnulinux",
    "href": "tema01-introduccion/tema01-software-libre.html#cronología-de-gnulinux",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Cronología de GNU/Linux",
    "text": "Cronología de GNU/Linux\n\nEn agosto de 1991, el estudiante finlandés Linus Torvals, presenta en Internet la versión 0.01 del kernel de un nuevo SO, inspirado en MINIX (aunque sin código de MINIX).\nEsta primera versión tenía poco más de 10.000 líneas de código.\nEn 1992, Linux se libera bajo licencia GPL. A través de Internet, muchos programadores se unieron al proyecto.\nEn 1994 Linux alcanzó la versión 1.0.\nEn 2003, llegamos a la versión 2.6, con casi 6 millones de líneas de código.\nEn 2008 nace Android basado en el kernel de Linux.\nEn 2022, versión 6.1: www.kernel.org"
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#qué-es-gnulinux",
    "href": "tema01-introduccion/tema01-software-libre.html#qué-es-gnulinux",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "¿Qué es GNU/Linux?",
    "text": "¿Qué es GNU/Linux?\n\n\n\nEs un Sistema Operativo libre.\n\nSurgió como reimplementación y reelaboración de UNIX.\nSe acoge al estándar POSIX.\nNo es la única alternativa libre a UNIX (FreeBSD, OpenBSD, NetBSD...), pero si la más popular.\n\nCreado y mantenido por una comunidad de desarrolladoras/es.\nCódigo libre GPL\\(\\rightarrow\\) Se puede conocer, modificar y extender.\nGratuito."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#si-es-gratis...",
    "href": "tema01-introduccion/tema01-software-libre.html#si-es-gratis...",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Si es gratis...",
    "text": "Si es gratis...\n¿Quién piensas que desarrolla el Kernel de Linux?\n\n\nFuente: Who actually develops Linux? The answer might surprise you"
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux",
    "href": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Distribuciones de GNU/Linux",
    "text": "Distribuciones de GNU/Linux\n\nDistribución GNU/Linux: Colección de software que forma un S.O. basado en el kernel Linux. Normalmente incluye:\n\nEl kernel Linux + las aplicaciones GNU,\nsoftware de terceros, libre o propietario: escritorio,servidores, utilidades,...\n\nLas distribuciones difieren en el empaquetado de los programas (rpm, deb, tgz), el programa de instalación y las herramientas específicas:\n\nLista de distribuciones en Wikipedia: http://en.wikipedia.org/wiki/List_of_Linux_distributions\nInformación interesante en http://www.distrowatch.com\n\nAlgunas de las más populares son Debian, Red Hat (Fedora), Arch, SuSE, Gentoo, Ubuntu, Guadalinex, Alpinelinux…"
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux-debian",
    "href": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux-debian",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Distribuciones de GNU/Linux: Debian",
    "text": "Distribuciones de GNU/Linux: Debian\n\n\n\n\n\n\nDistribución totalmente libre, sin fines comerciales.\nTres ramas en la distribución:\n\nStable: destinada a entornos de producción. Soporte 3 + 2 años LTS, versión actual 11.0 bullseye (curiosidad).\nTesting: software más nuevo, en fase de prueba (actualmente bookworm).\nUnstable: en fase de desarrollo (siempre sid).\n\nAlgunas características:\n\nGran número de aplicaciones disponibles.\nPotente formato de empaquetado: paquetes deb y herramienta apt.\nPionera en instalación y cambio de versiones a través de red."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux-ubuntu",
    "href": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux-ubuntu",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Distribuciones de GNU/Linux: Ubuntu",
    "text": "Distribuciones de GNU/Linux: Ubuntu\n\n\n\n\n\n\nEnfocada a ordenadores de escritorio (Desktop/laptop Computers), aunque existe la versión para servidores. Filosofía Ubuntu.\nBasada en Debian, Ubuntu concentra su objetivo en la usabilidad, lanzamientos regulares y facilidad en la instalación.\nPatrocinado por Canonical Ltd., una empresa privada fundada y financiada por el empresario sudafricano Mark Shuttleworth.\n\nLTS (Long Term Support): soporte a largo plazo, Long Time Support (5 años).\nno-LTS: soporte <9 meses.\n\nProyectos: kubuntu, edubuntu, xubuntu, lubuntu, mint…"
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux-red-hat",
    "href": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux-red-hat",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Distribuciones de GNU/Linux: Red Hat",
    "text": "Distribuciones de GNU/Linux: Red Hat\n\n\n\n\n\n\nGran firma comercial del mundo GNU/Linux (1994).\nIntroduce el formato de empaquetado rpm (RedHat Package Manager).\nDesde 2002, orientado en exclusiva al mercado corporativo, solamente a suscriptores de pago (RHEL):\n\nCede la última distribución personal (RH 9) a la comunidad \\(\\Rightarrow\\) aparecen los proyectos Fedora/CentOS.\n\nDistribuciones libres que clonan RHEL: CentOS, Scientific Linux, ClearOS, etc."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux-centos",
    "href": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux-centos",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Distribuciones de GNU/Linux: CentOS",
    "text": "Distribuciones de GNU/Linux: CentOS\n\n\n\nObjetivo: ofrecer al usuario un software de “clase empresarial” gratuito.\nRobusto, estable y fácil de instalar y utilizar.\n\nMantiene el sistema de paquetes RPM, gestionado a través de yum.\nÚltima versión: CentOS 8.\n\nRecomendado para servidores."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux-arch",
    "href": "tema01-introduccion/tema01-software-libre.html#distribuciones-de-gnulinux-arch",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Distribuciones de GNU/Linux: Arch",
    "text": "Distribuciones de GNU/Linux: Arch\n\n\n\n\n\n\nArch Linux no posee herramientas de configuración automática, requiriendo un grado de conocimiento superior al básico.\nNo obstante, una vez instalado, se puede mantener y administrar el sistema de forma sencilla.\nSu filosofía huye del uso de interfaces gráficas.\nComo herramienta para administrarlo, Arch Linux se apoya en su gestor de paquetes, llamado pacman.\n\nExisten varias distribuciones que se apoyan en Arch Linux, siendo Manjaro quizás la más popular (https://manjaro.org/)."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#ventajas-del-sl",
    "href": "tema01-introduccion/tema01-software-libre.html#ventajas-del-sl",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Ventajas del SL",
    "text": "Ventajas del SL\n\nLibertad de uso, estudio, redistribución y modificación:\n\npodemos instalarlo en tantas máquinas como queramos.\npodemos adaptarlo a nuestras necesidades o las del cliente.\npodemos revisar el código y corregir errores sin esperar a que lo haga el desarrollador.\ncorrección mas rápida y eficiente de fallos, y rápida resolución de dudas y problemas, gracias al modelo bazar y a las fuertes comunidades que tiene detrás.\n\nIndependencia tecnológica: no nos atamos a ningún proveedor en particular.\nAusencia de secretismo tecnológico y de patentes (seguridad jurídica).\nFiabilidad y rendimiento."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#ventajas-del-sl-1",
    "href": "tema01-introduccion/tema01-software-libre.html#ventajas-del-sl-1",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Ventajas del SL",
    "text": "Ventajas del SL\n\n\nFormatos estándar: facilitan la interoperabilidad.\nMétodos simples y unificados de gestión de software (p.ej apt): las distribuciones evitan tener que acudir a buscar software de fuentes dudosas.\nInmensa variedad de soluciones muy maduras: el software libre es popular en entornos de servidores.\nDemanda de técnicos FLOSS en expansión, gracias a la creciente adopción por parte de las AAPP y de grandes empresas tecnológicas (Google, IBM, Sun/Oracle, etc.).\nSistemas potencialmente más seguros: hackers y empresas de seguridad de todo el mundo puedan auditar los programas.\nAspectos económicos: más de mil millones de euros en licencias de Microsoft en España anuales (2006)."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#uso-de-sl-en-administración-de-sistemas",
    "href": "tema01-introduccion/tema01-software-libre.html#uso-de-sl-en-administración-de-sistemas",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Uso de SL en administración de sistemas",
    "text": "Uso de SL en administración de sistemas\n\nEl mercado suele medirse por unidades vendidas o por beneficios.\nDifícil de de evaluar para el caso del FLOSS: sistemas libres son a menudo obtenidos sin coste e instalados sin contratar soporte.\nMuchas veces se instalan en máquinas que no fueron compradas con software libre precargado.\nEl método que se usa suele ser mediante acceso a máquinas públicamente accesibles (como servidores web).\nProblema: este método no contempla las máquinas no accesibles públicamente."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#uso-de-software-libre-en-administración-de-sistemas",
    "href": "tema01-introduccion/tema01-software-libre.html#uso-de-software-libre-en-administración-de-sistemas",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Uso de software libre en administración de sistemas",
    "text": "Uso de software libre en administración de sistemas\n\nSoftware libre en servidores web.\n\nFuente: http://en.wikipedia.org/wiki/Usage_share_of_operating_systems\nSoftware libre en la administración pública. http://es.wikipedia.org/wiki/Software_libre_en_la_Administraci%C3%B3n_P%C3%BAblica"
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#uso-de-software-libre-en-equipos-informáticos",
    "href": "tema01-introduccion/tema01-software-libre.html#uso-de-software-libre-en-equipos-informáticos",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Uso de software libre en equipos informáticos",
    "text": "Uso de software libre en equipos informáticos\n Fuente: http://en.wikipedia.org/wiki/Usage_share_of_operating_systems"
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#desventajas-del-software-libre",
    "href": "tema01-introduccion/tema01-software-libre.html#desventajas-del-software-libre",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Desventajas del software libre",
    "text": "Desventajas del software libre\n\nNecesidad de una formación especializada: la gente se suele (o solía) formar con SO privativos.\nAlgunas herramientas incorporan interfaces visuales con más funcionalidad privativas.\nNo siempre hay soporte para todo tipo de hardware (patentes, drivers y especificaciones privativas).\n¿Mayor mercado laboral en sistemas privativos? (en otros sectores, no en administración de sistemas)."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#interfaces-gráficas-de-usuario",
    "href": "tema01-introduccion/tema01-software-libre.html#interfaces-gráficas-de-usuario",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Interfaces gráficas de usuario",
    "text": "Interfaces gráficas de usuario\n\nMuchas distribuciones traen GUIs o herramientas visuales propias.\n\nSon útiles y facilitan las tareas, sobre todo para sysadmins noveles.\nSuelen ser propietarias.\nO nos hacen dependientes de una distribución en concreto.\nA veces poseen oscuros detalles en la forma de gestionar los recursos.\n\nVamos a estudiar siempre la tecnología y métodos subyacentes, incluyendo ficheros de configuración, comandos, etc…\n\nEstos suelen ser comunes a todas las distribuciones, incluso a todos los sistemas Unix.\nLa configuración manual es mejor: más rápida, más flexible, más fiable, más potente y más scriptable."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#inciso-cómo-promover-el-software-libre",
    "href": "tema01-introduccion/tema01-software-libre.html#inciso-cómo-promover-el-software-libre",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Inciso: ¿cómo promover el software libre?",
    "text": "Inciso: ¿cómo promover el software libre?\n\nLa gratuidad no es el punto fuerte del software libre.\nInsistir en la gratuidad supone minusvalorar el resto de ventajas (y es injusto para la gente que lo crea y lo mantiene).\nNo se debe comenzar hablando de dinero a los que toman las decisiones.\nNo hablar del FLOSS en abstracto (“Linux es mejor”): mejor estudiar costes de migración y tratar de cubrir necesidades concretas que no están cubiertas o mejorar lo que hay.\nNo hay que ser impaciente: dejar que el software libre crezca con los clientes, introduciendo mejoras de forma progresiva."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#el-superusuario-o-administrador",
    "href": "tema01-introduccion/tema01-software-libre.html#el-superusuario-o-administrador",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "El superusuario o administrador",
    "text": "El superusuario o administrador\n\nEl administrador o superusuario es el usuario que tiene siempre todos los privilegios sobre cualquier fichero, instrucción u orden del sistema.\nEn GNU/Linux ese usuario es root, que pertenece al grupo root:\n\nDirectorio HOME: /root (o / en modo monousuario).\nSi estamos en el sistema utilizando cualquier otro usuario ¿cómo podemos convertirnos en administrador?\n\nSalir de la sesión y entrar utilizando root como nombre de usuario (deshabilitado por defecto en algunos entornos).\nUtilizar el comando su \\(\\rightarrow\\) nos pedirá la contraseña de root y abrirá una shell donde tendremos privilegios de administración."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#el-superusuario-o-administrador-1",
    "href": "tema01-introduccion/tema01-software-libre.html#el-superusuario-o-administrador-1",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "El superusuario o administrador",
    "text": "El superusuario o administrador\npas@debianpas:~$ whoami\npas\npas@debianpas:~$ su\nContraseña: \nroot@debianpas:/home/debianpas# whoami\nroot"
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#la-herramienta-sudo",
    "href": "tema01-introduccion/tema01-software-libre.html#la-herramienta-sudo",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "La herramienta sudo",
    "text": "La herramienta sudo\n\nsudo permite a otros usuarios ejecutar órdenes como si fuesen el administrador.\n\n/etc/sudoers \\(\\Rightarrow\\) fichero de configuración\n\nFichero de solo lectura, incluso para root.\nEn él estableceremos “quién puede ejecutar qué y cómo” desde sudo.\nEn la mayoría de distribuciones basta con que el usuario pertenezca al grupo sudo."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#la-herramienta-sudo-1",
    "href": "tema01-introduccion/tema01-software-libre.html#la-herramienta-sudo-1",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "La herramienta sudo",
    "text": "La herramienta sudo\n\nvisudo \\(\\Rightarrow\\) orden para modificar el fichero de configuración /etc/sudoers.\n\n# Especificación de privilegios de usuario\nroot    ALL=(ALL:ALL) ALL\n# Los miembros del grupo sudo podrán ejecutar cualquier comando\n%sudo   ALL=(ALL:ALL) ALL\n\nsudo orden \\(\\Rightarrow\\) pide contraseña del usuario."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#comunicación-con-el-resto-de-usuarios",
    "href": "tema01-introduccion/tema01-software-libre.html#comunicación-con-el-resto-de-usuarios",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Comunicación con el resto de usuarios",
    "text": "Comunicación con el resto de usuarios\n\nEl administrador debe comunicarse con el resto de usuarios (algunos en desuso):\n\nwrite: enviar un mensaje a un usuario\ntalk: conversar con un usuario, incluso aunque esté en otra máquina GNU/Linux.\nmesg [y/n]: habilitar/deshabilitar la llegada de mensajes al terminal.\nwall: mandar un mensaje a todos los usuarios del sistema.\nFichero /etc/motd: contiene el mensaje del día que se imprime justo después de entrar al sistema (en modo texto).\n\nFichero $HOME/.hushlogin \\(\\Rightarrow\\) permite evitar el mensaje del día.\n\nFichero /etc/issue: contiene el mensaje que se muestra antes del login, normalmente muestra la versión de Linux (en modo texto)."
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#referencias",
    "href": "tema01-introduccion/tema01-software-libre.html#referencias",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Referencias",
    "text": "Referencias\n\n\nEvi Nemeth, Garth Snyder, Trent R. Hein, Ben Whaley y Dan Mackin. Unix and Linux system administration handbook. Capítulo 1. Where to Start. Addison-Wesley. 5th Edition. 2018.\nAeleen Frisch. Essential system administration. Capítulo 1. Introduction to System Administration. O’Reilly and Associates. Tercera edición. 2002.\nMiguel Vidal y José Castro El software libre y la administración de sistemas\nInitial Server Setup with Ubuntu 22.04"
  },
  {
    "objectID": "tema01-introduccion/tema01-software-libre.html#ejercicios",
    "href": "tema01-introduccion/tema01-software-libre.html#ejercicios",
    "title": "Tema 1: Introducción al software libre y GNU/Linux",
    "section": "Ejercicios",
    "text": "Ejercicios\n\nWeb Debian: netinstall vs imagen. Opcionalmente Ubuntu será equivalente para casi todo.\nCrear VM + disco + conectar .iso\n\n1-2GB RM + 4GB de disco es suficiente para trabajar sin entorno gráfico\n\nVamos a instalar sin entorno gráfico\nEn el particionado utilizaremos el por defecto de momento.\nNos piden cosas básicas: ssh, entorno gráfico…\n\nYa tenemos nuestra máquina lista:\n\nCambiar contraseña por defecto (en imágenes de VPS/nubes)\nTerminamos: no hay ni sudo, vim, etc.\nComo root:\n\nInstalar sudo:\n\napt install sudo\n\nEliminar el CD/ISO de las fuentes de software:\n\nnano /etc/apt/sources.list\n\nAñadir usuario sudo:\n\nadduser adminpas\nsudo usermod -aG sudo adminpas\n\n¡Ya hemos terminado con root!\n\nCon el usuario adminpas probamos algún comando, por ejemplo: sudo cat /etc/shadow\n¿Qué hace sudo !!?\nExplorar la máquina:\n\nDisco libre, particiones y memoria: df, fdisk -l, free (quizás necesites sudo para alguno)\nProcesadores y núcleos: cat /proc/cpuinfo\nHerramienta apt y repositorios: APT: el comando básico que debes conocer para usar Linux\n\n¿Cómo apagar o reiniciar desde el terminal de Linux?"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html",
    "href": "tema04-usuarios/tema04-usuarios.html",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "",
    "text": "Definir qué son usuarios del sistema, las características de los mismos y sus ficheros de configuración.\nEnumerar y explicar los campos del fichero /etc/passwd y /etc/shadow.\nExplicar las características que deberían tener las contraseñas para los usuarios.\nExplicar el mecanismo de shadow passwords y el mecanismo de cifrado de contraseñas que evita guardar las contraseñas del sistema en texto plano.\nEnumerar los mecanismos de revocación de contraseñas, las restricciones de tiempo en cuanto a la validez de las contraseñas y las herramientas de administración que permiten configurarlas.\nCambiar el intérprete de órdenes por defecto de los usuarios.\nConfigurar cuentas restrictivas para usuarios especiales.\nEnumerar los pasos para añadir un usuario al sistema.\nUtilizar herramientas administrativas para añadir o modificar cuentas de usuario.\nEstablecer el objetivo de los grupos de usuarios, identificar grupo primario y grupo activo de un usuario, enumerar y explicar los campos del fichero /etc/group.\nConfigurar grupos con contraseñas.\nUtilizar las distintas herramientas administrativas para grupos.\nIdentificar usuarios y grupos estándar en un sistema GNU/Linux.\n\n\n\n\n\nCuestionarios objetivos.\nPruebas de respuesta libre.\nTareas de administración."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#introducción-1",
    "href": "tema04-usuarios/tema04-usuarios.html#introducción-1",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Introducción",
    "text": "Introducción\n\n\nDefinición de usuario\n\nPersona que trabaja en el sistema, editando ficheros, ejecutando programas...\nPseudo-usuario: entidad, que sin ser una persona, puede ejecutar programas o poseer ficheros (se les reserva identificadores de 0 a 499) y se utiliza típicamente para servicios y tareas automatizadas."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#información-mínima-usuario",
    "href": "tema04-usuarios/tema04-usuarios.html#información-mínima-usuario",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Información mínima usuario",
    "text": "Información mínima usuario\n\nCaracterísticas básicas de un usuario:\n\nNombre de usuario (logname o username).\nIdentificador de usuario (UID): el sistema trabaja, internamente, con el UID y no con el nombre de usuario.\nIdentificadores de los grupos a los que pertenece (GIDs)."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#ficheros-básicos",
    "href": "tema04-usuarios/tema04-usuarios.html#ficheros-básicos",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Ficheros básicos",
    "text": "Ficheros básicos\n\nFicheros de configuración: \\(\\;\\)\n\n/etc/passwd: información de las cuentas de usuarios.\n/etc/shadow: passwords cifradas (hash de las contraseñas) e información de “envejecimiento” de las cuentas.\n/etc/group: definición de los grupos y usuarios miembros.\n/etc/gshadow: passwords de grupos cifradas.\n\n\n\nEjercicio: lista los permisos de todos estos ficheros y trata de entender la política de seguridad.\nls -l /etc/passwd /etc/shadow /etc/group /etc/gshadow"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#fichero-etcpasswd",
    "href": "tema04-usuarios/tema04-usuarios.html#fichero-etcpasswd",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Fichero /etc/passwd",
    "text": "Fichero /etc/passwd\n\nContiene la lista de usuarios del sistema y sus contraseñas.\nFormato: nombre:password:uid:gid:gecos:home:shell.\n\nnombre \\(\\rightarrow\\) Nombre del usuario, logname o username.\npassword \\(\\rightarrow\\) contraseña cifrada o:\n\n“*” o “!!” \\(\\rightarrow\\) la cuenta está desactivada o bloqueada.\n“x” \\(\\rightarrow\\) las shadow están activas, la contraseña cifrada se guarda en /etc/shadow.\n\nuid \\(\\rightarrow\\) identificador del usuario.\ngid \\(\\rightarrow\\) identificador del grupo primario al que pertenece.\ngecos \\(\\rightarrow\\) campo de información referente al usuario (nombre, teléfono, ...).\nhome \\(\\rightarrow\\) Path del directorio $HOME del usuario.\nshell \\(\\rightarrow\\) Intérprete de órdenes."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#fichero-etcpasswd-1",
    "href": "tema04-usuarios/tema04-usuarios.html#fichero-etcpasswd-1",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Fichero /etc/passwd",
    "text": "Fichero /etc/passwd\n\nEl propietario del fichero es root y el grupo root.\nLos permisos del fichero son rw-r-r-.\nEl programa /usr/sbin/vipw permite editar el fichero manualmente.\nEl programa pwck verifica la integridad de /etc/passwd y /etc/shadow.\nSe permite el acceso al fichero /etc/passwd en modo lectura para poder leer información del usuario, pero no se debería permitir acceso a las passwords (aunque estén cifradas)."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#fichero-etcpasswd-2",
    "href": "tema04-usuarios/tema04-usuarios.html#fichero-etcpasswd-2",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Fichero /etc/passwd",
    "text": "Fichero /etc/passwd"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#contraseñas",
    "href": "tema04-usuarios/tema04-usuarios.html#contraseñas",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Contraseñas",
    "text": "Contraseñas\n\npasswd <nombre_usuario> \\(\\Rightarrow\\) asignar contraseña a un usuario (o cambiarla).\nElección de una contraseña adecuada\nNo utilizar:\n\nLas contraseñas más usadas\nTu nombre, parte de él, o el de alguien cercano a ti.\nNúmeros significativos para ti o alguien cercano.\nNombre, nº, lugar o persona, relacionados con tu trabajo.\nNombres de gente famosa, lugares, películas, publicidad...\nPalabras que estén en el diccionario (ver cracklib)."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#contraseñas-1",
    "href": "tema04-usuarios/tema04-usuarios.html#contraseñas-1",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Contraseñas",
    "text": "Contraseñas\n\nConsejos sin llegar a políticas absurdas:\n\nIntroducir 2 o más caracteres extras, símbolos especiales...\nEscribir mal las palabras.\nUtilizar mayúsculas y minúsculas, pero no de forma evidente.\nConcatenar, embeber o mezclar 2 o más palabras.\nUsar caracteres poco comunes: $, &, #..."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#contraseñas-2",
    "href": "tema04-usuarios/tema04-usuarios.html#contraseñas-2",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Contraseñas",
    "text": "Contraseñas\n\nLa contraseña se debe cambiar cuando:\n\nSe sospecha que alguien la ha podido conocer o averiguar.\nSe sospecha que alguien ha conseguido el fichero con las contraseñas (/etc/passwd o /etc/shadow).\nUn usuario se marcha del trabajo \\(\\Rightarrow\\) cambiar todas las que conozca.\nUn administrador del sistema se va \\(\\Rightarrow\\) cambiar TODAS.\nUn intruso ha conseguido entrar en el sistema.\n\nPeriódicamente, se debe forzar a que los usuarios cambien sus contraseñas, incluido el administrador.\n\nPor otro lado, si se obliga a los usuarios a cambiar su contraseña con demasiada frecuencia, lo normal es que elijan malas contraseñas, fáciles de adivinar..."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#herramientas-de-robustez-de-contraseñas",
    "href": "tema04-usuarios/tema04-usuarios.html#herramientas-de-robustez-de-contraseñas",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Herramientas de robustez de contraseñas",
    "text": "Herramientas de robustez de contraseñas\npam_cracklib y pam_pwquality son dos herramientas para forzar políticas de seguridad de contraseñas fuertes.\nPuedes ver un mínimo de fortaleza de una contraseña escribiendo por teclado:\ncracklib-check\nó así:\n\necho \"1234\" | cracklib-check\necho \"micontra\" | cracklib-check\necho \"M1contra$\" | cracklib-check\n\n1234: Es demasiado corta.\n\n\nmicontra: Está basada en una palabra del diccionario.\n\n\nM1contra$: OK"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#algunos-recursos-web",
    "href": "tema04-usuarios/tema04-usuarios.html#algunos-recursos-web",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Algunos recursos web",
    "text": "Algunos recursos web\n\n\ndumbpasswordrules.com\nhaveibeenpwned.com"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#shadow-passwords",
    "href": "tema04-usuarios/tema04-usuarios.html#shadow-passwords",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Shadow passwords",
    "text": "Shadow passwords\n\nPermiten que las contraseñas cifradas no se guarden en el fichero /etc/passwd sino en /etc/shadow (más restringido).\n/etc/shadow tiene los permisos rw------, y el usuario y grupo propietario es root.\n\nEn las últimas versiones, tiene permisos rw-r---- y el grupo propietario es shadow (flexibilidad para comprobación de contraseña por usuarios que pertenezcan a dicho grupo).\n\nEste fichero guarda para cada usuario del sistema, la contraseña cifrada junto con su información de envejecimiento.\nSolo para aquellos usuarios que tengan una “x” en /etc/passwd.\nPor defecto, están activas y se actualizan automáticamente."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-1",
    "href": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-1",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Shadow passwords",
    "text": "Shadow passwords"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-2",
    "href": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-2",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Shadow passwords",
    "text": "Shadow passwords\nnom:pass:changed:minlife:maxlife:warn:inactive:expired:unused\n\nnom \\(\\Rightarrow\\) nombre del usuario, logname o username.\npass \\(\\Rightarrow\\) contraseña cifrada.\n\nmkpasswd -method=sha-512 contraseña salt\n\nComandos de actualización:\n\npwconv \\(\\Rightarrow\\) crear y actualizar el fichero /etc/shadow.\npwunconv \\(\\Rightarrow\\) desactivar los shadow passwords."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-3",
    "href": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-3",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Shadow passwords",
    "text": "Shadow passwords\n\nPara cifrar una contraseña, se utilizan algoritmos criptográficos de generación de resumen (función hash, \\(H(\\cdot)\\)).\n\nEl mensaje en este caso es la contraseña (\\(C\\)).\nsalt (\\(S\\)) es una palabra aleatoria que se concatena a los bytes de contraseña \\(\\rightarrow\\) dificulta ataques con diccionarios y tablas de hash precomputadas; añade aleatoriedad al resumen.\nEl sistema concatena \\(C\\) con \\(S\\), \\(\\{C,S\\}\\), calcula el resumen \\(F=H(\\{C,S\\})\\) y almacena \\(S\\) y \\(F\\).\nCuando el usuario introduce una contraseña \\(C'\\), se repite todo el proceso: \\(F'=H(\\{C',S\\})\\).\nSi \\(F=F'\\), entonces el usuario puede entrar al sistema."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-4",
    "href": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-4",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Shadow passwords",
    "text": "Shadow passwords\n\nPropiedades deseables de las funciones de resumen:\n\nDado \\(C\\), debe ser fácil calcular \\(H(C)\\) \\(\\rightarrow\\) para que el coste computacional no sea alto.\nDado \\(H(C)\\), debe ser extremadamente difícil calcular \\(C\\) \\(\\rightarrow\\) para que las contraseñas originales no se puedan conocer sabiendo el resumen (fugas de información).\nDado \\(C\\), debe ser muy difícil encontrar otro mensaje \\(C'\\) tal que \\(H(C)=H(C')\\) \\(\\rightarrow\\) para que dos usuarios no terminen con la misma contraseña.\n\nEste tipo de funciones se denominan funciones de dispersión de un solo sentido."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#cómo-se-almacena-el-hash-y-salt-en-shadows",
    "href": "tema04-usuarios/tema04-usuarios.html#cómo-se-almacena-el-hash-y-salt-en-shadows",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "¿Cómo se almacena el hash y salt en shadows?",
    "text": "¿Cómo se almacena el hash y salt en shadows?\n¿Dónde se guarda la sal? El campo de la contraseña shadow tiene 3 subcampos: $id$salt$hash donde:\n\n$1$ es MD5\n$2a$ es Blowfish\n$2y$ es Blowfish\n$5$ es SHA-256\n$6$ es SHA-512\n\nMás información en:\n\nAdding Salt to Hashing: A Better Way to Store Passwords (con vídeo)\nPassword Storage Tier List: encryption, hashing, salting, bcrypt, and beyond"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-algoritmos-de-hash",
    "href": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-algoritmos-de-hash",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Shadow passwords: Algoritmos de hash",
    "text": "Shadow passwords: Algoritmos de hash\nDos algoritmos: MD5 y SHA\nMD5 (Message-Digest algorithm 5)\n\nAplica funciones no lineales a los 17 segmentos de 32 bits de un bloque de 512 bits.\nSe obtiene un resumen de 128 bits.\nObtener suma MD5 (GNU/Linux):\n\nmd5sum Fichero.ext > Fichero.md5\n\nChequear suma MD5 (GNU/Linux) (se busca un fichero con el nombre correcto en la carpeta actual):\n\nmd5sum -c Fichero.md5"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-algoritmos-de-hash-1",
    "href": "tema04-usuarios/tema04-usuarios.html#shadow-passwords-algoritmos-de-hash-1",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Shadow passwords: Algoritmos de hash",
    "text": "Shadow passwords: Algoritmos de hash\n\nSHA (Secure Hash Algorithm):\n\nEstándar del NIST.\nParecido a MD5, pero genera resúmenes más grandes, que lo hacen más seguro contra ataques de fuerza bruta o del cumpleaños.\nSe pueden considerar 160, 224, 256, 384 o 512 bits para el resumen.\nObtener suma SHA (GNU/Linux):\n\nshasum [-anumBits] Fichero.ext > Fichero.sha\n\nChequear suma SHA (GNU/Linux):\n\nshasum -c Fichero.sha\n\nSHA-512 es el algoritmo utilizado por defecto en GNU/Linux para guardar la contraseña."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#ejemplo-sha",
    "href": "tema04-usuarios/tema04-usuarios.html#ejemplo-sha",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Ejemplo SHA:",
    "text": "Ejemplo SHA:\n\nshasum /etc/passwd > resumen_pw.sha \ncat resumen_pw.sha \nshasum -c resumen_pw.sha\n\n073070775bc5a6c360148c81c079d8ae47d555a6  /etc/passwd\n\n\n/etc/passwd: OK"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#restricciones-de-tiempo-etcshadow",
    "href": "tema04-usuarios/tema04-usuarios.html#restricciones-de-tiempo-etcshadow",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Restricciones de tiempo (/etc/shadow)",
    "text": "Restricciones de tiempo (/etc/shadow)\n\nIntroducir restricciones de tiempo o envejecimiento para la validez de la cuenta o de la contraseña.\n\nchanged \\(\\Rightarrow\\) fecha del último cambio de contraseña.\nminlife \\(\\Rightarrow\\) nº de días que han de pasar para poder cambiar la contraseña.\nmaxlife \\(\\Rightarrow\\) nº de días máximo que puede estar con la misma contraseña sin cambiarla.\nwarn \\(\\Rightarrow\\) cuántos días antes de que la contraseña expire (maxlife) el usuario será informado sobre ello, indicándole que tiene que cambiarla.\ninactive \\(\\Rightarrow\\) nº de días después de que la contraseña expire en que la cuenta se deshabilitará si no ha sido cambiada.\nexpired \\(\\Rightarrow\\) fecha en la que la cuenta expira y se deshabilita de forma automática."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#restricciones-de-tiempo",
    "href": "tema04-usuarios/tema04-usuarios.html#restricciones-de-tiempo",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Restricciones de tiempo",
    "text": "Restricciones de tiempo\n\nEl fichero /etc/login.defs tiene los valores por defecto.\nComando chage (administrador):\n\nchage -d ult_día usuario \\(\\Rightarrow\\) último cambio de password.\nchage -m min_días usuario \\(\\Rightarrow\\) nº de días que han de pasar para poder cambiar la contraseña.\nchage -M max_días usuario \\(\\Rightarrow\\) nº de días máximo que puede estar con la misma contraseña sin cambiarla.\nchage -W warn_días usuario \\(\\Rightarrow\\) establece un aviso de que la contraseña expira un número de días antes de que expire.\nchage -I inac_días usuario \\(\\Rightarrow\\) nº de días después de que la contraseña expire que la cuenta se deshabilitará de forma automática si la contraseña no ha sido cambiada.\nchage -E exp_días usuario \\(\\Rightarrow\\) fecha en la que la cuenta expira y se deshabilita de forma automática."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#restricciones-de-tiempo-1",
    "href": "tema04-usuarios/tema04-usuarios.html#restricciones-de-tiempo-1",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Restricciones de tiempo",
    "text": "Restricciones de tiempo\nSupongamos que el usuario pagutierrez cambia su contraseña el 1 de marzo y root ejecuta estas órdenes:\nchage -M 20 pagutierrez\nchage -W 6 pagutierrez\nchage -I 5 pagutierrez\nchage -E 2023-10-30 pagutierrez\nLos tiempos quedan fijados de la siguiente manera:\n\nEl 14 de marzo pagutierrez recibirá el primer aviso para que cambie su contraseña.\nEl 20 de marzo, debería haber cambiado su contraseña.\nSi no cambia la contraseña, como se ha fijado el tiempo de inactividad, la cuenta aún no se bloqueará.\nSi el 25 de marzo pagutierrez no ha cambiado su contraseña, la cuenta será bloqueada.\nLa cuenta expira, pase lo que pase, el 30 de octubre."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#ejercicio-restricciones-de-tiempo",
    "href": "tema04-usuarios/tema04-usuarios.html#ejercicio-restricciones-de-tiempo",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Ejercicio restricciones de tiempo",
    "text": "Ejercicio restricciones de tiempo\nImportante: no hacer esto sobre el único usuario de entrada al sistema.\n\nConsulta la ayuda del comando lslogin y lista las últimas sesiones de los usuarios.\nConsulta los parámetros de caducidad de algún usuario con: chage -l usuario.\nCambia la caducidad de contraseña de alguna cuenta y comprueba el resultado intentando iniciar sesión con esa cuenta."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#ficheros-de-inicialización",
    "href": "tema04-usuarios/tema04-usuarios.html#ficheros-de-inicialización",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Ficheros de inicialización",
    "text": "Ficheros de inicialización\n\nDirectorio /etc/skel/ \\(\\Rightarrow\\) ficheros que se copian automáticamente a cada $HOME.\nLos ficheros de inicialización son scripts shell que realizan tareas como dar valor a variables, nombrar alias, realizar funciones específicas...\nLos ficheros dependen del intérprete de órdenes seleccionado: Bourne shell (sh), Bourne again shell (bash), C shell (csh)...\nIncluyen el PATH, variables de entorno, umask, funciones de inicialización, alias, var. del propio shell...\nLo normal es que lean parte de su contenido de algún fichero global (/etc/profile, /etc/bash.bashrc)"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#ficheros-de-inicialización-y-cierre",
    "href": "tema04-usuarios/tema04-usuarios.html#ficheros-de-inicialización-y-cierre",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Ficheros de inicialización y cierre",
    "text": "Ficheros de inicialización y cierre\nSe ejecuta al hacer un login en el sistema por SSH o por terminal real:\n\n.bash_profile en bash / .profile en bash y sh / .login en csh:\n\nCada vez que se ejecuta una shell en bash aunque no conlleve login:\n\n.bashrc / .cshrc en csh:\n\nAl salir del sistema el usuario (al finalizar la sesión):\n\n.bash_logout en bash / .logout en C csh"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#configuración-de-login-de-usuarios",
    "href": "tema04-usuarios/tema04-usuarios.html#configuración-de-login-de-usuarios",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Configuración de login de usuarios",
    "text": "Configuración de login de usuarios\nLas política generales de gestión de contraseñas, creación de usuarios, umask por defecto, etc. se definen en: /etc/login.defs.\nPuedes ver un resumen de todo esto en Gestión de política de contraseñas en Linux: login.defs y pam_pwquality&pam_cracklib"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#ejercicio-ficheros-inicialización",
    "href": "tema04-usuarios/tema04-usuarios.html#ejercicio-ficheros-inicialización",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Ejercicio ficheros inicialización",
    "text": "Ejercicio ficheros inicialización\n\nPrueba a añadir algún alias útil a tu fichero .bashrc. Por ejemplo un alias para rm que pida siempre confirmación antes de borrar.\nPrueba a cambiar tu prompt y a hacerlo permanente si te gusta:\n\nexport PS1='\\e[33;1m\\u@\\h: \\e[31m\\W\\e[0m\\$ '\n\nPrueba a poner una máscara por defecto para todos los usuarios de nueva creación. Por ejemplo una restrictiva que no deje hacer nada al resto del grupo y usuarios.\nAñade un saludo con una vaca (necesitarás sudo apt install cowsay)."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#selección-de-intérprete-de-órdenes",
    "href": "tema04-usuarios/tema04-usuarios.html#selección-de-intérprete-de-órdenes",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Selección de intérprete de órdenes",
    "text": "Selección de intérprete de órdenes\n\nEn el último campo del fichero /etc/passwd, se establece el intérprete de órdenes que se ejecuta al entrar al sistema.\nEn el fichero /etc/shells se indican los shells permitidos.\nUn usuario puede cambiar su shell con chsh:\n\n¡Ojo! Si se prohíbe un shell, no se podrá elegir con chsh, pero los usuarios que ya lo tenían asignado lo podrán seguir usando.\n\nSi un usuario no tiene asignado ningún intérprete de órdenes, se usará el **shell por defecto /bin/sh.\nSi se desea que el usuario no pueda entrar al sistema se le puede asignar /bin/false o /sbin/nologin.\nTambién se puede establecer como shell un fichero ejecutable:\n\nCuando el usuario entre al sistema se ejecuta, y, al finalizar la ejecución, el usuario sale del sistema (no llega a hacer login)."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#cuentas-restrictivas",
    "href": "tema04-usuarios/tema04-usuarios.html#cuentas-restrictivas",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Cuentas restrictivas",
    "text": "Cuentas restrictivas\nLas cuentas restrictivas permiten limitar las acciones de los usuarios en el sistema.\nSe pueden crear de dos formas:\n\nAsignar como shell un fichero ejecutable que realice una tarea determinada, y al terminar se sale del sistema:\n\nUsuario para hacer copias de seguridad: como shell tiene un script que hace esa tarea.\nUsuario para apagar el sistema: ejecuta la orden shutdown.\n\nLos usuarios restrictivos de este tipo tienen que tener los permisos necesarios para poder hacer la tarea asignada. Estos permisos se asignan a nivel de identificador de usuario.\n\nPara apagar el sistema, se necesitan permisos de administración."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#cuentas",
    "href": "tema04-usuarios/tema04-usuarios.html#cuentas",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Cuentas",
    "text": "Cuentas\nUsando el shell restrictivo /bin/rbash:\n\nrbash es un enlace simbólico a /bin/bash (rbash es equivalente a /bin/bash -r).\nEste intérprete se comporta como un intérprete normal, salvo que el usuario no puede hacer determinadas tareas, como:\n\nCambiar de directorio.\nEstablecer o modificar los valores de $PATH o $HOME.\nEspecificar nombres u órdenes que contengan /.\nUsar redirección.\nUtilizar la orden exec para reemplazar el shell por otro programa.\n\nA estos usuarios hay que limitarles los ficheros que pueden ejecutar, copiándolos a un directorio y que su PATH sea sólo ese directorio. En otro caso, con un PATH “normal”, es casi como si no tuviesen restricciones."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#añadir-nuevos-usuarios-al-sistema-i",
    "href": "tema04-usuarios/tema04-usuarios.html#añadir-nuevos-usuarios-al-sistema-i",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Añadir nuevos usuarios al sistema (I)",
    "text": "Añadir nuevos usuarios al sistema (I)\nPasos a realizar (del 1 al 7, automatizados con herramientas):\n\nDecidir el nombre de usuario, el UID, y los grupos a los que va a pertenecer (grupo primario y grupos secundarios).\nIntroducir los datos en los ficheros /etc/passwd y /etc/group (poniendo como contraseña “*”).\nAsignar un password a la nueva cuenta.\nSi las shadow están activas, escribir la contraseña.\nEstablecer los parámetros de envejecimiento de la cuenta.\nCrear el directorio $HOME del nuevo usuario, establecer el propietario y grupo correspondiente y los permisos adecuados.\nCopiar ficheros necesarios por defecto (.bash_profile, .bashrc...) desde /etc/skel/."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#añadir-nuevos-usuarios-al-sistema-ii",
    "href": "tema04-usuarios/tema04-usuarios.html#añadir-nuevos-usuarios-al-sistema-ii",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Añadir nuevos usuarios al sistema (II)",
    "text": "Añadir nuevos usuarios al sistema (II)\nPasos opcionales:\n\nEstablecer otras facilidades: quotas, mail, permisos, etc.\nEjecutar cualquier tarea de inicialización propia del sistema.\nProbar la nueva cuenta."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#herramientas-para-crearmodificar-cuentas-de-usuario",
    "href": "tema04-usuarios/tema04-usuarios.html#herramientas-para-crearmodificar-cuentas-de-usuario",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Herramientas para crear/modificar cuentas de usuario",
    "text": "Herramientas para crear/modificar cuentas de usuario\nLas herramientas de creación de cuentas de usuario suelen realizar todas las tareas básicas del proceso, a excepción de las específicas (quotas, impresión, etc.).\n\nadduser o useradd \\(\\Rightarrow\\) crear cuentas de usuario, o modificar cuentas ya existentes. Toma los valores por defecto de /etc/default/useradd y de /etc/login.defs.\nuseradd se salta algunos pasos.\nusermod \\(\\Rightarrow\\) modificar cuentas.\ndeluser o userdel \\(\\Rightarrow\\) eliminar cuentas (por defecto no borra el directorio $HOME).\nnewusers \\(\\Rightarrow\\) crea cuentas de usuarios utilizando la información introducida en un fichero de texto (en batch), que ha de tener el formato del fichero /etc/passwd (no copia los ficheros de inicialización).\nusers-admin \\(\\Rightarrow\\) herramienta en modo gráfico."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#grupos-1",
    "href": "tema04-usuarios/tema04-usuarios.html#grupos-1",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Grupos",
    "text": "Grupos\n\nGrupos: colecciones de usuarios que comparten recursos o ficheros del sistema. Características: nombre del grupo o groupname e identificador del grupo (GID) \\(\\Rightarrow\\) internamente el sistema identifica al grupo por este número.\nObjetivo: Garantizar permisos concretos para un conjunto de usuarios, sin tener que aplicarlos a cada uno.\nEl fichero de configuración es /etc/group, con el formato: nombre:x:gid:lista de usuarios\n\nnombre \\(\\Rightarrow\\) nombre del grupo.\ngid \\(\\Rightarrow\\) identificador del grupo.\nlista de usuarios que pertenecen al grupo, sep. por “,”.\n\n\npas:x:519:pagutierrez,jsanchezm"
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#grupos-2",
    "href": "tema04-usuarios/tema04-usuarios.html#grupos-2",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Grupos",
    "text": "Grupos\n\nTipos de grupos:\n\nPrimarios \\(\\Rightarrow\\) grupo especificado en /etc/passwd.\nSecundarios \\(\\Rightarrow\\) otros grupos (indicados en /etc/group).\n\nFuncionamiento de los grupos:\n\nAl crear un fichero se establece como grupo propietario el grupo activo del usuario en ese momento.\nGrupo activo \\(\\Rightarrow\\) grupo primario (salvo que usemos newgrp).\nAl determinar los permisos sobre un fichero, se usan todos los grupos del usuario."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#grupos-contraseñas-opcional",
    "href": "tema04-usuarios/tema04-usuarios.html#grupos-contraseñas-opcional",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Grupos: contraseñas (opcional)",
    "text": "Grupos: contraseñas (opcional)\nEsta es una funcionalidad con poco uso en la actualidad.\nLos grupos pueden tener contraseña \\(\\Rightarrow\\) /etc/gshadow:\n\nSi un usuario sabe la contraseña de un grupo, puede usarlo sin pertenecer a él con la orden newgrp.\nInformación en /etc/gshadow: grupo, contraseña, usuarios administradores (pueden cambiar la contraseña y los miembros) y miembros (idea parecida al /etc/shadow)."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#grupos-herramientas",
    "href": "tema04-usuarios/tema04-usuarios.html#grupos-herramientas",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Grupos: herramientas",
    "text": "Grupos: herramientas\n\naddgroup grupo \\(\\Rightarrow\\) crear un nuevo grupo.\ngroupmod grupo \\(\\Rightarrow\\) modificar un grupo existente.\ndelgroup grupo \\(\\Rightarrow\\) eliminar un grupo.\ngroups [usuario] \\(\\Rightarrow\\) grupos a los que pertenece un usuario.\nid [usuario] \\(\\Rightarrow\\) lista el identificador del usuario y los grupos a los que pertenece.\ngrpck \\(\\Rightarrow\\) chequea la consistencia del fichero de grupos."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#grupos-herramientas-para-contraseñas-opcional",
    "href": "tema04-usuarios/tema04-usuarios.html#grupos-herramientas-para-contraseñas-opcional",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Grupos: herramientas para contraseñas (opcional)",
    "text": "Grupos: herramientas para contraseñas (opcional)\n\nnewgrp grupo \\(\\Rightarrow\\) cambiar de grupo activo (lanza un shell)\ngpasswd grupo \\(\\Rightarrow\\) asignar una contraseña a un grupo:\n\nSi el usuario no pertenece al grupo, pero el grupo tiene contraseña, se le solicita y pasa a ser su grupo activo.\n\ngpasswd -a user grupo \\(\\Rightarrow\\) añadir un usuario a un grupo."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#rangos-del-uid",
    "href": "tema04-usuarios/tema04-usuarios.html#rangos-del-uid",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Rangos del UID",
    "text": "Rangos del UID\n\n\\(UID\\in[0,99]\\): Usuarios que representan al propio SO.\n\\(UID\\in[100,499]\\): Usuarios especiales que representan servicios o programas.\n\\(UID\\ge 1000\\): Usuarios normales."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#algunos-usuarios-y-grupos-estándar",
    "href": "tema04-usuarios/tema04-usuarios.html#algunos-usuarios-y-grupos-estándar",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Algunos usuarios y grupos estándar",
    "text": "Algunos usuarios y grupos estándar\n\nUsuarios estándar:\n\nroot \\(\\Rightarrow\\) Cuenta del administrador (\\(0\\)).\nbin (utilidades comunes de usuarios, \\(2\\)), daemon (ejecución de demonios, \\(1\\)), lp, sync, shutdown, etc. \\(\\Rightarrow\\) Tradicionalmente usados para poseer ficheros o ejecutar servicios\nmail, news, ftp \\(\\Rightarrow\\) Asociados con herramientas o facilidades.\npostgres, mysql, xfs \\(\\Rightarrow\\) Creados por herramientas instaladas en el sistema para administrar y ejecutar sus servicios.\nnobody o nfsnobody \\(\\Rightarrow\\) Usado por NFS y otras utilidades, usuario sin privilegios."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#algunos-usuarios-y-grupos-estándar-1",
    "href": "tema04-usuarios/tema04-usuarios.html#algunos-usuarios-y-grupos-estándar-1",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Algunos usuarios y grupos estándar",
    "text": "Algunos usuarios y grupos estándar\n\nGrupos estándar:\n\nroot, sys.\nbin, daemon, adm, lp, disk, mail, ftp, nobody, etc.\nkmem \\(\\Rightarrow\\) Grupo propietario de los programas para leer la memoria del kernel.\nuser o users \\(\\Rightarrow\\) Grupo de los usuarios normales (no siempre se usa)."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#ejercicio-usuario-y-grupo-para-apache",
    "href": "tema04-usuarios/tema04-usuarios.html#ejercicio-usuario-y-grupo-para-apache",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Ejercicio usuario y grupo para Apache",
    "text": "Ejercicio usuario y grupo para Apache\n\nInstala apache en Debian con: apt install apache2.\nExamina qué usuario y grupo utiliza el proceso y carpetas y las características de estos.\nSupón que un usuario no administrador del sistema operativo va a ser el administrador web de esta instancia de Apache. ¿Qué estrategia de permisos y grupos se te ocurren para que sea práctico y seguro? (puedes buscar en internet). Este hilo en stackoverflow sobre establecer permisos adecuados y seguridad en Apache es interesante."
  },
  {
    "objectID": "tema04-usuarios/tema04-usuarios.html#referencias-1",
    "href": "tema04-usuarios/tema04-usuarios.html#referencias-1",
    "title": "Tema 4: Gestión de Usuarios",
    "section": "Referencias",
    "text": "Referencias\nEvi Nemeth, Garth Snyder, Trent R. Hein, Ben Whaley and Dan Mackin. UNIX and Linux System Administration Handbook, 5th Edition. Capítulo 8: User Management. Addison-Wesley. 2018.\nAeleen Frisch. Essential system administration. Capítulo 6. Managing users and groups. O’Reilly and Associates. Tercera edición. 2002.\nPrivilege Escalation on Linux\nLinux Privilege Escalation: Three Easy Ways to Get a Root Shell"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html",
    "href": "tema02-organizacion/tema02-ficheros.html",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "",
    "text": "Describir los elementos fundamentales de organización del sistema operativo GNU/Linux.\nIdentificar la importancia de los ficheros en GNU/Linux (“si algo no es un fichero, entonces es un proceso”).\nDescribir en líneas generales cómo se organiza el sistema de ficheros y qué son los nodos-i.\nDefinir qué papel tienen el usuario y el grupo propietario de un fichero y cómo pueden modificarse.\nInterpretar una cadena de permisos de GNU/Linux.\nCambiar los permisos de un fichero, tanto en modo simbólico como en modo absoluto.\nExplicar el objetivo de los permisos especiales (sticky bit, suid y sgid).\nUtilizar la máscara umask para cambiar los permisos por defecto con los que se crean los archivos y directorios.\nExplicar cómo se aplican los bits de permisos a la hora de decidir si un usuario puede realizar una determinada acción sobre un fichero.\nDistinguir todos los tipos de ficheros que se pueden utilizar en GNU/Linux y diferenciar claramente entre enlaces simbólicos y enlace físicos.\nDefinir el rol de los procesos en GNU/Linux, cuáles son sus atributos y qué tipos de procesos existen.\nExplicar cómo se represan los dispositivos en GNU/Linux.\nEnumerar las carpetas fundamentales de la estructura genérica del sistema de ficheros en GNU/Linux.\nDiferenciar entre contenidos estáticos y dinámicos y contenidos compartibles y no compartibles.\n\n\n\n\n\nCuestionarios objetivos.\nPruebas de respuesta libre."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#ficheros",
    "href": "tema02-organizacion/tema02-ficheros.html#ficheros",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Ficheros",
    "text": "Ficheros\n\nEn GNU/Linux, todo son ficheros (“si algo no es un fichero, entonces es un proceso”):\n\nLos programas u órdenes son ficheros: /bin/ls, /usr/bin/find…\nLos dispositivos I/O son ficheros: /dev/sda, /dev/fd0, /dev/tty0…\nComunicación entre procesos: sockets o tuberías (pipes).\nDirectorios, ficheros de datos, ficheros de configuración…\nEl propio núcleo del sistema operativo (kernel).\n\nGNU/Linux tiene una estructura jerárquica de directorios, conocida como sistema de archivos:\n\n/ \\(\\rightarrow\\) directorio raíz.\nPuede estar compuesto por varias particiones pertenecientes a varios dispositivos (discos duros, CDs, DVDs...).\nTodos disponibles desde la jerarquía de directorios."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#sistema-de-ficheros-1",
    "href": "tema02-organizacion/tema02-ficheros.html#sistema-de-ficheros-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Sistema de ficheros",
    "text": "Sistema de ficheros\n\nGuarda los ficheros del sistema.\nSe organiza de manera jerárquica, en directorios.\nNo hay unidades."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#sistema-de-ficheros-nodos-i",
    "href": "tema02-organizacion/tema02-ficheros.html#sistema-de-ficheros-nodos-i",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Sistema de ficheros: nodos-i",
    "text": "Sistema de ficheros: nodos-i\n\nAunque a nivel lógico, el sistema de ficheros parece un árbol, en realidad los ficheros se almacenan desorganizados por el disco duro.\nUn fichero puede tener sectores a lo largo de toda la superficie.\nLos nodos-i son metadatos sobre los ficheros que nos proporcionan información sobre aspectos como su tamaño, sus permisos, la posición de sus sectores, número de enlaces... ¿nombre? ls -i\nCada fichero tiene un nodo-i.\nTodos están localizados en un área del disco duro, que está limitada (nº máximo de nodos-i).\n\n\n¿Por qué enseñar el concepto de i-nodo en administración de sistemas?"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#gestión-del-acceso-propietarios-y-permisos",
    "href": "tema02-organizacion/tema02-ficheros.html#gestión-del-acceso-propietarios-y-permisos",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Gestión del acceso: propietarios y permisos",
    "text": "Gestión del acceso: propietarios y permisos\nCada fichero tiene dos propietarios: usuario y grupo.\n\nls -l images | head -n 3 # esto filtra las 3 primeas líneas\n\nls: no se puede acceder a 'images': No existe el archivo o el directorio\n\n\nchown \\(\\rightarrow\\) cambia el usuario propietario (se necesitan privilegios de root):\nsudo chown javi fichero\nsudo chown javi:profesores fichero\nsudo chown -R javi directorio\nchgrp \\(\\rightarrow\\) cambia el grupo propietario (puede hacerlo el propietario del fichero, el que pertenezca al grupo, o root).\nsudo chgrp profesores fichero\nsudo chgrp -R profesores directorio"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#gestión-del-acceso-propietarios-y-permisos-1",
    "href": "tema02-organizacion/tema02-ficheros.html#gestión-del-acceso-propietarios-y-permisos-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Gestión del acceso: propietarios y permisos",
    "text": "Gestión del acceso: propietarios y permisos\nListado con detalles y ficheros ocultos:\n\nls -la /boot/|head -n 8\n\ntotal 535232\n\n\ndrwxr-xr-x  4 root root     4096 mar  6 10:25 .\n\n\ndrwxr-xr-x 20 root root     4096 may 17  2021 ..\n\n\n-rw-r--r--  1 root root   237852 nov 24 16:40 config-5.4.0-136-generic\n\n\n-rw-r--r--  1 root root   237852 ene  5 17:08 config-5.4.0-137-generic\n\n\n-rw-r--r--  1 root root   237852 ene 20 15:39 config-5.4.0-139-generic\n\n\n-rw-r--r--  1 root root   237887 feb  3 15:30 config-5.4.0-144-generic\n\n\n-rw-r--r--  1 root root   237764 dic  9  2020 config-5.4.0-58-generic"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#gestión-del-acceso-propietarios-y-permisos-2",
    "href": "tema02-organizacion/tema02-ficheros.html#gestión-del-acceso-propietarios-y-permisos-2",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Gestión del acceso: propietarios y permisos",
    "text": "Gestión del acceso: propietarios y permisos\nPermisos simbólicos y absolutos (Estos ejemplos son diferentes):"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#gestión-del-acceso-propietarios-y-permisos-3",
    "href": "tema02-organizacion/tema02-ficheros.html#gestión-del-acceso-propietarios-y-permisos-3",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Gestión del acceso: propietarios y permisos",
    "text": "Gestión del acceso: propietarios y permisos\n\nEl acceso a los ficheros se gestiona de la siguiente forma:\n\n\n\nAcceso\nFichero\nDirectorio\n\n\n\n\nr\nVer el contenido\nListar el contenido\n\n\nw\nModificar el contenido\nCrear/eliminar ficheros\n\n\nx\nEjecutar el fichero\nEntrar en el directorio\n\n\n\nSe establecen independientemente para: el usuario propietario (u), usuarios del grupo propietario (g) y resto de usuarios (o).\n\nchmod u+r fichero                 # Modo simbólico\nchmod -R u+rwx,go-rwx directorio  # Modo simbólico\nchmod 740 fichero                 # Modo absoluto u+rwx,g+r,g-wx,o-rwx\n\nOtros comandos: adduser, addgroup..."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#ejercicio-permisos",
    "href": "tema02-organizacion/tema02-ficheros.html#ejercicio-permisos",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Ejercicio permisos",
    "text": "Ejercicio permisos\n\nEjercicio (probar en modo simbólico y absoluto):\n\nEstablezca permisos de escritura para el fichero ejemplo sólo para el usuario propietario, de lectura para todos y de ejecución para el usuario y grupo propietarios.\nEstablezca permisos de escritura para el fichero ejemplo sólo para el usuario propietario, y de ejecución para el usuario y grupo propietarios y ninguno para el resto."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#gestión-del-acceso-propietarios-y-permisos-4",
    "href": "tema02-organizacion/tema02-ficheros.html#gestión-del-acceso-propietarios-y-permisos-4",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Gestión del acceso: propietarios y permisos",
    "text": "Gestión del acceso: propietarios y permisos\n\n\n\nActual\nchmod\nResultado\nDescripción\n\n\n\n\nrw-------\na+x\n`rwx–x-\n-xAgregar a todos (all`) permiso de ejecución.\n\n\nrwx--x--x\ngo-x\n`rwx——\n` Se elimina permiso de ejecución para grupo y otros.\n\n\nrwxr-xr-x\nu-x,go-r\nrw---x--x\nAl usuario se le quita ejecución, al grupo y a otros se les quita lectura.\n\n\nrwxrwxrwx\nu-x,go-rwx\nrw-------\nAl usuario se le elimina ejecución, al grupo y a otros se les eliminan todos los permisos.\n\n\nr--------\na+r,u+w\n`rw-r–\nr–` A todos se les agrega lectura, al usuario se le agrega escritura.\n\n\nrw-r-----\nu-rw,g+w,o+x\n`—rw—\nx` Al usuario se le eliminan lectura y escritura, al grupo se le agrega escritura y a otros se les agrega ejecución."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#permisos-especiales-sticky-bit",
    "href": "tema02-organizacion/tema02-ficheros.html#permisos-especiales-sticky-bit",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Permisos especiales: sticky bit",
    "text": "Permisos especiales: sticky bit\nTres tipos de permisos especiales: sticky bit, suid y sgid. Más sobre sticky bit.\nt: sticky bit, chmod o+t fichero.\n\nEl comando ls lo representa como una t en el noveno bit (según mayúscula/minúscula, t\\(\\rightarrow\\) o+x, T\\(\\rightarrow\\) o-x).\nPara ejecutables \\(\\rightarrow\\) mantener la imagen del fichero en la memoria de intercambio después de finalizar la ejecución del mismo (en desuso).\nPara directorios \\(\\rightarrow\\) solo root o el propietario de un fichero (o de la carpeta) pueden borrar o renombrar el fichero, aunque tengan permiso de escritura en la carpeta."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#permisos-especiales-sticky-bit-1",
    "href": "tema02-organizacion/tema02-ficheros.html#permisos-especiales-sticky-bit-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Permisos especiales: sticky bit",
    "text": "Permisos especiales: sticky bit\n\nmkdir -p  carpeta && cd carpeta\ntouch fichero\nls -la fichero \nchmod o+w+t fichero \nls -la fichero \n\n-rw-r----- 1 javi javi 0 mar  7 12:56 fichero\n\n\n-rw-r---wT 1 javi javi 0 mar  7 12:56 fichero\n\n\n\n¿Qué sentido tiene el sticky bit en este ejemplo?\n\n\nls -ld /tmp/\n\ndrwxrwxrwt 24 root root 20480 mar  7 12:56 /tmp/"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#permisos-especiales-suid",
    "href": "tema02-organizacion/tema02-ficheros.html#permisos-especiales-suid",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Permisos especiales: suid",
    "text": "Permisos especiales: suid\ns: para usuarios, suid, chmod u+s fichero.\n\nEl comando ls lo representa como una s en el tercer bit (según mayúscula/minúscula, s\\(\\rightarrow\\) u+x, S\\(\\rightarrow\\) u-x(estado inconsistente)).\nPara ejecutables \\(\\rightarrow\\) cambio de dominio a nivel de usuario. Durante la ejecución, el usuario efectivo del proceso es el propietario del fichero y no el usuario que lo ejecutó.\nPara directorios \\(\\rightarrow\\) Ignorado.\n\n# El ejecutable \"gestorbd\" lee el fichero \"basedatos\":\n-rwxr--r-x root root /opt/bin/gestorbd\n-rwx------ root root /opt/datos/basedatos\n# El usuario pagutierrez puede ejecutar \"gestorbd\", pero ese programa\n# NO podrá leer \"basedatos\"\n# El programa si podrá leer \"basedatos\" si \"gestorbd\" tiene los permisos:\n-rwsr--r-x root root /opt/bin/gestorbd"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#permisos-especiales-suid-1",
    "href": "tema02-organizacion/tema02-ficheros.html#permisos-especiales-suid-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Permisos especiales: suid",
    "text": "Permisos especiales: suid\n\n¿Cómo es posible que cambiemos la contraseña desde un usuario corriente?\nEjecuta en tu máquina:\nls -l /etc/passwd /etc/shadow /usr/bin/passwd \n\n\n$ ls -l /etc/passwd /etc/shadow /usr/bin/passwd \n-rw-r--r-- 1 root root    2941 feb 13 10:21 /etc/passwd\n-rw-r----- 1 root shadow  1827 feb 13 10:21 /etc/shadow\n-rwsr-xr-x 1 root root   59640 nov 29 13:25 /usr/bin/passwd\nVeamos el código de passwd"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#permisos-especiales-sgid",
    "href": "tema02-organizacion/tema02-ficheros.html#permisos-especiales-sgid",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Permisos especiales: sgid,",
    "text": "Permisos especiales: sgid,\ns: para grupos, sgid, chmod g+s fichero.\n\nEl comando ls lo representa como una s en el sexto bit (según mayúscula/minúscula, s\\(\\rightarrow\\) g+x, S\\(\\rightarrow\\) g-x (estado inconsistente)).\nPara ejecutables \\(\\rightarrow\\) cambio de dominio a nivel de grupo. Durante la ejecución, el grupo efectivo del proceso es el grupo propietario del fichero y no el del usuario que lo ejecutó.\nPara directorios \\(\\rightarrow\\) al crear un fichero en su interior, el grupo propietario del nuevo fichero es el grupo del directorio y no del usuario que ejecuta la orden."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#ejemplo-sgid",
    "href": "tema02-organizacion/tema02-ficheros.html#ejemplo-sgid",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Ejemplo sgid",
    "text": "Ejemplo sgid\nEl ejecutable “gestorbd” lee el fichero “basedatos”:\n-rwxr-xr-x root root /opt/bin/gestorbd\n-rwxr----- root root /opt/datos/basedatos\nGrupo “alumnos”: pueden ejecutar “gestorbd” pero NO leer “basedatos” El programa si podrá leer “basedatos” si “gestorbd” tiene los permisos:\n-rwxr-Sr-x root root /opt/bin/gestorbd\nEl usuario “pagutierrez” sólo pertenece al grupo “profesores”\nSe tiene el directorio\ndrwxr-sr-x pagutierrez alumnos /practicas\nSi “pagutierrez” ejecuta cp tema2.pdf /practicas entonces el fichero copiado pertenecerá al grupo “alumnos”:\n-rw-r--r-- pagutierrez alumnos /practicas/tema2.pdf"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#coda-máscara-de-permisos-umask",
    "href": "tema02-organizacion/tema02-ficheros.html#coda-máscara-de-permisos-umask",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "CODA: Máscara de permisos (umask)",
    "text": "CODA: Máscara de permisos (umask)\n\nCuando un fichero nuevo se crea, se le asignan permisos.\nLos permisos se deciden aplicando una máscara de permisos a los permisos base (que se puede consultar/modificar utilizando el comando umask):\n\n$ umask\n0002\n\nLa máscara de bits indica con un 1 aquellos bits que deberán ser 0 en la cadena de permisos, es decir, indica qué permisos están restringidos.\nLos permisos base para directorios son 777; para ficheros, 666."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#coda-máscara-de-permisos-umask-1",
    "href": "tema02-organizacion/tema02-ficheros.html#coda-máscara-de-permisos-umask-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "CODA: Máscara de permisos (umask)",
    "text": "CODA: Máscara de permisos (umask)\n\n\n¿Podremos especificar una máscara que permita crear ficheros con permisos de ejecución?\nIntenta deducir qué pasará con los siguientes pasos:\n\n\n\n\n\numask\nmkdir -p /tmp/prueba1\nls -ld /tmp/prueba1\ntouch /tmp/prueba1/a \nls -l /tmp/prueba1/\n\n0027\n\n\ndrwxrwxr-x 2 javi javi 4096 mar  7 12:56 /tmp/prueba1\n\n\ntotal 0\n\n\n-rw-rw-r-- 1 javi javi 0 mar  7 12:56 a\n\n\n\n\numask 027\nmkdir -p /tmp/prueba2\nls -ld /tmp/prueba2\ntouch /tmp/prueba2/a \nls -l /tmp/prueba2/\n\ndrwxr-x--- 2 javi javi 4096 mar  7 12:56 /tmp/prueba2\n\n\ntotal 0\n\n\n-rw-r----- 1 javi javi 0 mar  7 12:56 a"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#tipos-de-ficheros-ls--l",
    "href": "tema02-organizacion/tema02-ficheros.html#tipos-de-ficheros-ls--l",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Tipos de ficheros (ls -l)",
    "text": "Tipos de ficheros (ls -l)\n\nNormal.\nDirectorio (d): son ficheros que contienen enlaces a otros ficheros (ya sean directorios o archivos normales).\nEspecial de bloque (b): fichero especial para interactuar con un dispositivo basado en bloques.\nEspecial de carácter (c): fichero especial para interactuar con un dispositivo basado en caracteres.\nNamed Pipes (p): tubería FIFO con nombre (comunicación de procesos de diferentes usuarios con tuberías).\nSocket (s): como los pipes pero con comunicación duplex (ambos sentidos, ej. /tmp/.X11-unix/X0).\nEnlace físico.\nEnlace simbólico (l)."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#tipos-de-ficheros-enlaces",
    "href": "tema02-organizacion/tema02-ficheros.html#tipos-de-ficheros-enlaces",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Tipos de ficheros: enlaces",
    "text": "Tipos de ficheros: enlaces\n\n\n\nEnlaces: Archivos especiales que permiten que varios nombres (enlaces) se asocien a un único e idéntico archivo.\nVarias instancias de un mismo archivo en diversos lugares de la estructura jerárquica sin necesidad de copiarlos.\nAyuda a asegurar la coherencia y ahorrar espacio en el disco.\nGrupo de personas trabajando sobre un mismo fichero (modificaciones centralizadas)."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#tipos-de-ficheros-enlaces-1",
    "href": "tema02-organizacion/tema02-ficheros.html#tipos-de-ficheros-enlaces-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Tipos de ficheros: enlaces",
    "text": "Tipos de ficheros: enlaces\n\nEnlaces físicos (ln archivo-real enlace-físico):\n\nRepresentan un nombre alternativo para un archivo (dos nombres de fichero apuntando al mismo nodo-i).\nSi eliminamos un enlace físico, no eliminamos el archivo original. Mientras quede al menos un enlace físico, el archivo no se elimina.\nSólo es posible entre ficheros que estén en la misma partición.\nNo se pueden realizar a directorios."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#tipos-de-ficheros-enlaces-2",
    "href": "tema02-organizacion/tema02-ficheros.html#tipos-de-ficheros-enlaces-2",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Tipos de ficheros: enlaces",
    "text": "Tipos de ficheros: enlaces\n\nEnlaces simbólicos (ln -s archivo-real enlace-simb):\n\nEs un puntero virtual al archivo real (acceso directo).\nFichero de texto (con su nodo-i independiente) que contiene la ruta del archivo al que apunta.\nSi se elimina el enlace simbólico, no se elimina el fichero original."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#ejemplo-enlaces-físicos-y-simbólicos",
    "href": "tema02-organizacion/tema02-ficheros.html#ejemplo-enlaces-físicos-y-simbólicos",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Ejemplo enlaces físicos y simbólicos",
    "text": "Ejemplo enlaces físicos y simbólicos\n# Observad conteo de referencias (tercera columna, después de permisos).\ncd /tmp/\ntouch prueba\nln prueba enlace_fisico\nls -li prueba enlace_fisico\nln -s prueba enlace_simbolico\nls -li prueba enlace_simbolico\nResultado ejecución:\n$ touch prueba\n$ ln prueba enlace_fisico\n$ ls -li prueba enlace_fisico\n12481313 -rw-rw-r-- 2 javi javi 0 feb 23 23:00 enlace_fisico\n12481313 -rw-rw-r-- 2 javi javi 0 feb 23 23:00 prueba\n$ ln -s prueba enlace_simbolico\n$ ls -li prueba enlace_simbolico enlace_fisico \n12481313 -rw-rw-r-- 2 javi javi 0 feb 23 23:00 enlace_fisico\n12481314 lrwxrwxrwx 1 javi javi 6 feb 23 23:00 enlace_simbolico -> prueba\n12481313 -rw-rw-r-- 2 javi javi 0 feb 23 23:00 prueba"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#procesos-1",
    "href": "tema02-organizacion/tema02-ficheros.html#procesos-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Procesos",
    "text": "Procesos"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#procesos-2",
    "href": "tema02-organizacion/tema02-ficheros.html#procesos-2",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Procesos",
    "text": "Procesos\n\nProcesos: son programas en ejecución.\nLos atributos de un proceso son:\n\nPID \\(\\Rightarrow\\) identificador del proceso.\nPPID \\(\\Rightarrow\\) identificador del proceso padre.\nNice number \\(\\Rightarrow\\) prioridad asignada al ejecutarlo.\nTTY \\(\\Rightarrow\\) terminal en el que se está ejecutando.\nRUID \\(\\Rightarrow\\) identificador del usuario real, el que lo ejecutó.\nEUID \\(\\Rightarrow\\) identificador del usuario efectivo, si hay cambio de dominio se refleja aquí (permiso suid).\nRGID \\(\\Rightarrow\\) identificador del grupo real, el grupo del usuario que lo ejecutó.\nEGID \\(\\Rightarrow\\) identificador del grupo efectivo, si hay cambio de dominio se refleja aquí (permiso sgid)."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#procesos-3",
    "href": "tema02-organizacion/tema02-ficheros.html#procesos-3",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Procesos",
    "text": "Procesos\n\nAtributos de un proceso: ps -Fl PID\nTipos de procesos:\n\nInteractivos: hay alguien conectado al sistema que los inicia (primer o segundo plano &).\nEncolados: procesos que se mandan a un buffer para ser ejecutados (en una fecha concreta o cuando la carga del sistema sea baja).\nDemonios: programas ejecutados en segundo plano durante el arranque, que esperan de forma continua un determinado evento.\n\n\n\nPrueba a añadir -a:\nps -Fla"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#dispositivos-1",
    "href": "tema02-organizacion/tema02-ficheros.html#dispositivos-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Dispositivos",
    "text": "Dispositivos\nLos dispositivos se representan/manejan como ficheros:\n\nFicheros especiales de caracteres: representan a dispositivos de caracteres (cinta magnética, puerto paralelo, puerto serie...)\nFicheros especiales de bloques: representan a dispositivos de bloques (disquete, partición de un disco duro o un pendrive...)\nEscribir/leer en un dispositivo se convierte en escribir/leer en el fichero correspondiente.\n\n\nHow to List Your Computer’s Devices From the Linux Terminal"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#dispositivos-ejemplos",
    "href": "tema02-organizacion/tema02-ficheros.html#dispositivos-ejemplos",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Dispositivos: ejemplos",
    "text": "Dispositivos: ejemplos\n\nEsos ficheros se almacenan en el directorio /dev:\n\n/dev/sda \\(\\Rightarrow\\) primer disco duro (sin considerar particiones).\n/dev/sda1 \\(\\Rightarrow\\) primera partición del primer disco.\n/dev/sdb \\(\\Rightarrow\\) segundo disco duro.\n/dev/sdc \\(\\Rightarrow\\) disco USB (primer nombre de dipositivo libre).\n/dev/tty1 \\(\\Rightarrow\\) primera terminal de consola (tty2 segunda).\n/dev/lp0 \\(\\Rightarrow\\) primer puerto paralelo.\n/dev/fd0 \\(\\Rightarrow\\) disquete de la primera disquetera."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#dispositivos-de-bloques-lsblk",
    "href": "tema02-organizacion/tema02-ficheros.html#dispositivos-de-bloques-lsblk",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Dispositivos de bloques: lsblk",
    "text": "Dispositivos de bloques: lsblk\nDepende de tu distribución quizás necesites instalar:\nsudo apt-get install util-linux\nlsblk |grep -v loop\n$ lsblk |grep -v loop\nNAME        MAJ:MIN RM   SIZE RO TYPE  MOUNTPOINT\nnvme0n1     259:0    0   477G  0 disk  \n├─nvme0n1p1 259:1    0   780M  0 part  /boot/efi\n├─nvme0n1p2 259:2    0     5G  0 part  \n├─nvme0n1p3 259:3    0  78,1G  0 part  /\n└─nvme0n1p4 259:4    0 393,1G  0 part  \n  └─home    253:0    0 393,1G  0 crypt /home"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#qué-esperas-que-haya-en-un-sistema-de-ficheros",
    "href": "tema02-organizacion/tema02-ficheros.html#qué-esperas-que-haya-en-un-sistema-de-ficheros",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "¿Qué esperas que haya en un sistema de ficheros?",
    "text": "¿Qué esperas que haya en un sistema de ficheros?\n\n\nFuente Unix and Linux system administration handbook. Chapter 5. The Filesystem. Addison-Wesley. 5th Edition. 2018.\n\n\nRápido: ¿cuál de los siguientes elementos esperarías encontrar en un “sistema de archivos”?\n\nProcesos\nDispositivos de audio\nEstructuras de datos y parámetros de ajuste del núcleo\nCanales de comunicación entre procesos"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-1",
    "href": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Estructura genérica del sistema de ficheros",
    "text": "Estructura genérica del sistema de ficheros\n\nFilesystem Hierarchy Standard: Jerarquía Estándar del Sistema de Ficheros.\nEspecificación estándar para sistemas tipo Unix.\nFruto del consenso entre la comunidad (desarrolladores, administradores...).\nVersión 3.0 (2015), especificación disponible en la URL: https://refspecs.linuxfoundation.org/fhs.shtml\nEn Linux, disponible como página de manual: man hier"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-2",
    "href": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-2",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Estructura genérica del sistema de ficheros",
    "text": "Estructura genérica del sistema de ficheros\n\nExisten dos tipos de distinciones cuando hablamos del tipo de contenido de un directorio:\nestáticos/dinámicos y compartibles/no compartibles.\n\nEstáticos: Contiene binarios, bibliotecas, documentación y otros ficheros que no cambian sin intervención del administrador. Pueden estar en dispositivos de solo lectura (read-only) y no necesitan que se hagan copias de seguridad tan a menudo como los ficheros dinámicos.\nDinámicos: Contiene ficheros que no son estáticos. Deben de encontrase en dispositivos de lectura-escritura (read-write). Necesitan que se hagan copias de seguridad a menudo.\nCompartibles: Contiene ficheros que se pueden encontrar en un ordenador y utilizarse en otro.\nNo compartibles: Contiene ficheros que no podemos utilizar en distintas máquinas."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-3",
    "href": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-3",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Estructura genérica del sistema de ficheros",
    "text": "Estructura genérica del sistema de ficheros\n\n\nFuente https://linuxconfig.org/filesystem-basics"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-4",
    "href": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-4",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Estructura genérica del sistema de ficheros",
    "text": "Estructura genérica del sistema de ficheros\n\n/bin \\(\\Rightarrow\\) ficheros ejecutables básicos compartidos (mv, cp).\n/dev \\(\\Rightarrow\\) ficheros especiales de dispositivos.\n/etc \\(\\Rightarrow\\) la mayoría de los ficheros de configuración locales del sistema (solo archivos de texto).\n/root \\(\\Rightarrow\\) directorio HOME del administrador.\n/sbin \\(\\Rightarrow\\) ficheros ejecutables que, normalmente, sólo el administrador puede ejecutar.\n/home \\(\\Rightarrow\\) los directorios de trabajo de los usuarios.\n/lost+found \\(\\Rightarrow\\) contiene “referencias” a los ficheros marcados como erróneos al chequear el sistema de ficheros.\n/lib \\(\\Rightarrow\\) librerías necesarias para ejecutar los archivos."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-5",
    "href": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-5",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Estructura genérica del sistema de ficheros",
    "text": "Estructura genérica del sistema de ficheros\n\n/proc y /sys \\(\\Rightarrow\\) sistemas de ficheros virtuales, contienen información sobre procesos, núcleo, módulos cargados, dispositivos, sucesos...\n/tmp \\(\\Rightarrow\\) ficheros temporales. Tiene el permiso t activo.\n/var \\(\\Rightarrow\\) ficheros variables: colas de datos (spool) de impresión, e-mail..., ficheros del cron, atd, ficheros de log...\n/boot \\(\\Rightarrow\\) núcleo y ficheros necesarios para cargar el núcleo y ficheros de configuración del gestor de arranque.\n/mnt, /mount ó /media \\(\\Rightarrow\\) montaje de otros sistemas de ficheros: disquetes, cdroms...\n\n/mnt/floppy ó /media/floppy\n/mnt/cdrom ó /media/cdrom\n\n/opt: paquetes de aplicaciones estáticas (no actualizables)."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-6",
    "href": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-6",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Estructura genérica del sistema de ficheros",
    "text": "Estructura genérica del sistema de ficheros\n\n/usr \\(\\Rightarrow\\) contiene subdirectorios de solo lectura, que no deben ser específicos de la máquina que los usa (Unix system resources):\n\n/usr/bin \\(\\Rightarrow\\) ficheros ejecutables por todos los usuarios.\n/usr/sbin \\(\\Rightarrow\\) ficheros ejecutables de administración.\n/usr/include \\(\\Rightarrow\\) ficheros cabecera de cabecera estándar para compilación.\n/usr/lib \\(\\Rightarrow\\) librerías binarias.\n/usr/local \\(\\Rightarrow\\) software local específico.\n/usr/share \\(\\Rightarrow\\) datos compartidos (independientes de la arquitectura: imágenes, ficheros de texto...).\n\n/usr/share/man.\n/usr/share/doc.\n\n/usr/src \\(\\Rightarrow\\) código fuente, como el del kernel..."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-7",
    "href": "tema02-organizacion/tema02-ficheros.html#estructura-genérica-del-sistema-de-ficheros-7",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Estructura genérica del sistema de ficheros",
    "text": "Estructura genérica del sistema de ficheros\n\nEstáticos: /bin, /sbin, /opt, /boot, /usr/bin...\nDinámicos: /var/mail, /var/spool, /var/run, /var/lock, /home\nCompartibles: /usr/bin, /opt...\nNo compartibles: /etc, /boot, /var/run, /var/lock..."
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#proyecto-asignatura-1",
    "href": "tema02-organizacion/tema02-ficheros.html#proyecto-asignatura-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Proyecto asignatura",
    "text": "Proyecto asignatura\nHerramientas y conceptos que hemos visto (además de los de los apuntes):\n\nReenvío de puertos (port forwarding) en VirtualBox\nConexiones ssh: ssh usuario@host [-p puerto]\nAutenticación ssh con clave gpg (ssh-copy-id). Importante leer sobre cifrado asimétrico custodia y distribución de tus claves. ssh-copy-id usuario@host [-p puerto]\nHerramienta apt y conceptos y configuración de repositorios"
  },
  {
    "objectID": "tema02-organizacion/tema02-ficheros.html#referencias-1",
    "href": "tema02-organizacion/tema02-ficheros.html#referencias-1",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux",
    "section": "Referencias",
    "text": "Referencias\nUnix and Linux system administration handbook. Chapter 4. Process control. Chapter 5. The Filesystem. Addison-Wesley. 5th Edition. 2018."
  },
  {
    "objectID": "tema02-organizacion/tema02-ejercicios.html",
    "href": "tema02-organizacion/tema02-ejercicios.html",
    "title": "Tema 2: Organización de un sistema operativo tipo GNU/Linux (Ejercicios)",
    "section": "",
    "text": "Crea tres usuarios, dos de ellos tendrán un grupo común. Suponiendo que nuestro usuario de administración es pas, lo añadimos al grupo sudo como root:\n/sbin/usermod -aG sudo pas\nCreamos un grupo para la clase y tres usuarios de ejemplo, los dos primeros tendrá como grupo principal clase y el tercero no:\nsudo addgroup clase\nsudo adduser usuario1 --ingroup clase\nsudo adduser usuario2 --ingroup clase\nsudo adduser usuario3\n\n\n\nCon usuario1 Crear un archivo con el contenido HOLA!, utilizando la orden echo, y asignarle permisos para que solo puede ser consultado por su propietario y por los miembros del grupo clase.\nNOTA: Puede ser una buena idea tener varios terminales abiertos con cada usuario del sistema para probar que los permisos son efectivos.\n\n\n\nModifica los permisos por defecto con umask para que los ficheros creados:\n\nno puedan ser leídos por el resto de usuarios y los directorios no puedan ser listados.\npuedan ser leídos y escritos por el grupo.\n\nComprueba que tienen efecto creado ficheros y directorios de ejemplo.\nBusca cómo hacer permanentes en cada usuario los permisos umask.\n\n\n\n\nTransformar los siguientes permisos simbólicos en absolutos:\n\nrwxr-xr-x    r-xr--r--  rw-r-----  r-x--x--x\n\nTransformar los siguientes permisos absolutos en simbólicos:\n\n644    755    610    631\n\nFijar, en modo simbólico, los permisos de arch1 en modo 754.\nFijar, en modo absoluto, los permisos de arch1 en modo rwxr-x–x.\nFijar los permisos del directorio dir1 de modo que todos lo puedan leer y entrar, pero sólo el dueño pueda modificar sus archivos: 1) en modo simbólico; 2) en modo absoluto.\nModificar para que el grupo también pueda modificar archivos.\nFijar en modo simbólico los permisos del archivo ejecutable exec.tar para que sea ejecutable por todos, legible por el dueño y el grupo, y modificable solo por el dueño. Repetir en modo absoluto.\nFijar en modo absoluto los permisos del directorio dir1 de modo que sólo el dueño y el grupo lo puedan recorrer y leer, y sólo el dueño pueda grabar y borrar en él. Repetir en modo simbólico.\n\n\n\n\nSea la siguiente salida del comando ls -l:\n-rwSr-xr-x 1 pagutierrez docentes 29024 ene 1  16:29  controlar\n-rw-rw-r-- 1 pagutierrez docentes 2300  may 18 09:37  borrador.txt\n-rw-r--r-- 1 pagutierrez docentes 5895  may 15 12:08  index.htm\n-rwxr-xr-x 1 pagutierrez docentes 29024 ene 1  16:29  revisar\n-rwxr--r-- 1 pagutierrez docentes 29024 ene 1  16:29  mostrar\n  drwxrwxrwt 2 pagutierrez tecnicos 1024  may 1  17:23  trabajos\n  drwxr-xr-x 2 pagutierrez tecnicos 1024  oct 16  1998  netscape3\n  drwxrwx--x 2 pagutierrez tecnicos 1024  may 11  7:29  finanzas\n  drwxrwxr-x 2 pagutierrez tecnicos 1024  jul 7   6:54  redes\n  drwxr-xr-x 2 jsanchezm   docentes 1024  jun 17 19:35  corporacion\nEl usuario jsanchezm, del grupo docentes, tiene acceso al presente directorio. Indicar, si los hay:\n\nArchivos de los que puede mostrar contenido.\nArchivos que puede ejecutar como programa.\nArchivos en los que puede modificar contenido.\nSubdirectorios en los que puede ingresar.\nSubdirectorios en que puede crear/eliminar ficheros propios.\nSubdirectorios en los que puede borrar archivos de otros.\nSubdirectorios en los que puede entrar y ejecutar programas contenidos en ellos, pero no ver nombres de archivos.\nArchivos que puede ejecutar como programa con permisos del usuario pagutierrez.\n\n\n\n\nSea la siguiente salida del comando ls -l (suponemos que pagutierrez pertenece a staff):\n-rw-r--r--  1  root        root       33280 jun 12 19:40 Carta.doc\n  drwxrwxrwx 5  pagutierrez staff       1024 dic  4  1999 step\n  drwxrwxr-x 22 pagutierrez staff       1024 nov 20  1999 Office51\n  drwxr-x--- 6  pagutierrez staff       1024 may 7  16:43 argos\n  drwxrwxr-- 21 pagutierrez staff       1024 jul 11 18:22 bajados\n-rw-rw---- 3  root        root         542 jul 13 11:26 boor.exe\n  drwxrwxrwt 3  pagutierrez staff       1024 may 25 10:02 borrador\n-rwSrwSr-x 1  root        root        9218 jun 12 19:41 pph3\n  drwxrwx--x 2  pagutierrez pagutierrez 1024 may 7  16:47 cdir\n-rw-rw-r-- 3  root        root         542 jul 13 11:26 mysql-doc\n-rw-r-xr-- 3  pagutierrez staff       1084 ago 1  10:01 ver.exe\n-rwxr-xr-x 3  pagutierrez staff       1084 ago 1  10:01 ver\n  drwxr-xr-x 7  pagutierrez pagutierrez 1024 jul 25 11:48 lit\nIndicar, si los hay:\n\ndirectorios públicos (todo el mundo puede entrar, listar y borrar archivos);\narchivos que tienen enlaces hard o físicos;\narchivos ejecutables por el usuario pagutierrez;\ndirectorios navegables por todo el mundo;\ndirectorios donde miembros del grupo staff puede borrar archivos;\narchivos que son enlaces simbólicos.\narchivos ejecutables que adquieren permisos de usuario root.\n\n\n\n\nMarca todos los tipos de enlace que pueden establecerse en los siguientes casos (físico, simbólico o ambos).\n\nenlace hacia un archivo en el mismo directorio.\nenlace hacia un archivo en otro sistema de archivos.\nenlace hacia un directorio en el mismo sistema de archivos.\nenlace hacia un directorio en otro sistema de archivos."
  },
  {
    "objectID": "tema02-organizacion/tema02-webuco.html",
    "href": "tema02-organizacion/tema02-webuco.html",
    "title": "Programación y Administración de Sistemas (2022-2023)",
    "section": "",
    "text": "Antes de comenzar, repasa apuntes sobre permisos de ficheros y directorios en Linux. Hay muchos muy claros, como por ejemplo este de softzone.\nConexión remota gráfica a los servidores Linux de la Universidad de Córdoba: Thinstation Remoto.\nConexión SSH (sin interfaz gráfica) a los servidores de la UCO. Necesitas un cliente SSH, que viene de forma nativa en Linux y Mac, pero no en Windows (puedes usar Putty).\n\nssh login@ts.uco.es\nssh -X login@ts.uco.es exporta la salida gráfica a tu ordenador Linux (no funciona en Windows). Con esto podrás usar el Spyder de la UCO sin tener que instalar nada más.\n\nCómo conectarte a tu carpeta para enviar y descargar archivos:\n\nDe forma nativa a partir de Windows 10: How to map SFTP as a drive on Windows 10\nCon FileZilla: https://filezilla-project.org/\n\n\n\n\n\nAbre un terminal. En este tutorial usaremos de ejemplo el login i02samoj. Deberás cambiar este por el tuyo.\nCrea el directorio www-docs:\nmkdir www-docs\nAsigna permisos de ejecución a tu carpeta de usuario. Esto permitirá al servidor web (otros usuarios) pasar por esta carpeta sin listar ni acceder al contenido:\ncd ..\nchmod o+x i02samoj/\nVuelve a tu carpeta home y asigna los mismos permisos a www-docs:\ncd\nchmod  o+x www-docs\nVamos a comprobar que los permisos están bien configurados:\nEntra en la carpeta y crea un fichero llamado index.html:\ncd www-docs\ngedit index.html\nEsto creará el fichero. Introduce el siguiente contenido, guarda y cierra el editor:\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Web de ejemplo</title>\n</head>\n<body>\n    <p>¡Hola Mundo!</p>\n</body>\n</html>\nTodos los ficheros bajo www-docs o sus subdirectorios deberán tener los permisos o+r para que el servidor web pueda leerlos. Por ejemplo, para el index.html:\nchmod o+r index.html\nTodos los subdirectorios que cuelguen de www-docs deberán tener los mismos permisos o+x.\nAhora abre la web https://www.uco.es/users/TULOGIN o alternativamente https://www.uco.es/~TULOGIN. Ejemplo https://www.uco.es/~i02samoj.\nSi todo va bien deberías ver una página web en blanco con el mensaje “¡Hola Mundo!”. Si obtienes algún error revisa los pasos y permisos.\nSi tienes curiosidad por HTML, el lenguaje de programación básico de páginas webs, puedes empezar por este tutorial de HTML de W3Schools."
  }
]